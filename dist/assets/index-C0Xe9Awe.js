(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var cv={exports:{}},$u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yA=Symbol.for("react.transitional.element"),_A=Symbol.for("react.fragment");function hv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:yA,type:e,key:i,ref:t!==void 0?t:null,props:n}}$u.Fragment=_A;$u.jsx=hv;$u.jsxs=hv;cv.exports=$u;var C=cv.exports,fv={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=Symbol.for("react.transitional.element"),vA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),TA=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),AA=Symbol.for("react.consumer"),SA=Symbol.for("react.context"),wA=Symbol.for("react.forward_ref"),RA=Symbol.for("react.suspense"),IA=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),CA=Symbol.for("react.activity"),hp=Symbol.iterator;function xA(e){return e===null||typeof e!="object"?null:(e=hp&&e[hp]||e["@@iterator"],typeof e=="function"?e:null)}var mv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gv=Object.assign,pv={};function Hr(e,t,n){this.props=e,this.context=t,this.refs=pv,this.updater=n||mv}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yv(){}yv.prototype=Hr.prototype;function Sd(e,t,n){this.props=e,this.context=t,this.refs=pv,this.updater=n||mv}var wd=Sd.prototype=new yv;wd.constructor=Sd;gv(wd,Hr.prototype);wd.isPureReactComponent=!0;var fp=Array.isArray;function tf(){}var St={H:null,A:null,T:null,S:null},_v=Object.prototype.hasOwnProperty;function Rd(e,t,n){var i=n.ref;return{$$typeof:Ad,type:e,key:t,ref:i!==void 0?i:null,props:n}}function NA(e,t){return Rd(e.type,t,e.props)}function Id(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ad}function DA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dp=/\/+/g;function sh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DA(""+e.key):t.toString(36)}function OA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(tf,tf):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Gs(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ad:case vA:a=!0;break;case dv:return a=e._init,Gs(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+sh(e,0):i,fp(s)?(n="",a!=null&&(n=a.replace(dp,"$&/")+"/"),Gs(s,t,n,"",function(h){return h})):s!=null&&(Id(s)&&(s=NA(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(dp,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(fp(e))for(var u=0;u<e.length;u++)i=e[u],r=o+sh(i,u),a+=Gs(i,t,n,r,s);else if(u=xA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+sh(i,u++),a+=Gs(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return Gs(OA(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function oo(e,t,n){if(e==null)return e;var i=[],s=0;return Gs(e,i,"","",function(r){return t.call(n,r,s++)}),i}function VA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},MA={map:oo,forEach:function(e,t,n){oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return oo(e,function(){t++}),t},toArray:function(e){return oo(e,function(t){return t})||[]},only:function(e){if(!Id(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Activity=CA;J.Children=MA;J.Component=Hr;J.Fragment=EA;J.Profiler=bA;J.PureComponent=Sd;J.StrictMode=TA;J.Suspense=RA;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return St.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cacheSignal=function(){return null};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=gv({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!_v.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return Rd(e.type,s,i)};J.createContext=function(e){return e={$$typeof:SA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:AA,_context:e},e};J.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)_v.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Rd(e,r,s)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:wA,render:e}};J.isValidElement=Id;J.lazy=function(e){return{$$typeof:dv,_payload:{_status:-1,_result:e},_init:VA}};J.memo=function(e,t){return{$$typeof:IA,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=St.T,n={};St.T=n;try{var i=e(),s=St.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(tf,mp)}catch(r){mp(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),St.T=t}};J.unstable_useCacheRefresh=function(){return St.H.useCacheRefresh()};J.use=function(e){return St.H.use(e)};J.useActionState=function(e,t,n){return St.H.useActionState(e,t,n)};J.useCallback=function(e,t){return St.H.useCallback(e,t)};J.useContext=function(e){return St.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return St.H.useDeferredValue(e,t)};J.useEffect=function(e,t){return St.H.useEffect(e,t)};J.useEffectEvent=function(e){return St.H.useEffectEvent(e)};J.useId=function(){return St.H.useId()};J.useImperativeHandle=function(e,t,n){return St.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return St.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return St.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return St.H.useMemo(e,t)};J.useOptimistic=function(e,t){return St.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return St.H.useReducer(e,t,n)};J.useRef=function(e){return St.H.useRef(e)};J.useState=function(e){return St.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return St.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return St.H.useTransition()};J.version="19.2.3";fv.exports=J;var It=fv.exports,vv={exports:{}},Ju={},Ev={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,tt){var $=B.length;B.push(tt);t:for(;0<$;){var _t=$-1>>>1,Ut=B[_t];if(0<s(Ut,tt))B[_t]=tt,B[$]=Ut,$=_t;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var tt=B[0],$=B.pop();if($!==tt){B[0]=$;t:for(var _t=0,Ut=B.length,ts=Ut>>>1;_t<ts;){var es=2*(_t+1)-1,Ps=B[es],Be=es+1,ei=B[Be];if(0>s(Ps,$))Be<Ut&&0>s(ei,Ps)?(B[_t]=ei,B[Be]=$,_t=Be):(B[_t]=Ps,B[es]=$,_t=es);else if(Be<Ut&&0>s(ei,$))B[_t]=ei,B[Be]=$,_t=Be;else break t}}return tt}function s(B,tt){var $=B.sortIndex-tt.sortIndex;return $!==0?$:B.id-tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],h=[],d=1,g=null,m=3,v=!1,D=!1,M=!1,V=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var tt=n(h);tt!==null;){if(tt.callback===null)i(h);else if(tt.startTime<=B)i(h),tt.sortIndex=tt.expirationTime,t(u,tt);else break;tt=n(h)}}function U(B){if(M=!1,I(B),!D)if(n(u)!==null)D=!0,z||(z=!0,x());else{var tt=n(h);tt!==null&&We(U,tt.startTime-B)}}var z=!1,_=-1,y=5,T=-1;function S(){return V?!0:!(e.unstable_now()-T<y)}function R(){if(V=!1,z){var B=e.unstable_now();T=B;var tt=!0;try{t:{D=!1,M&&(M=!1,E(_),_=-1),v=!0;var $=m;try{e:{for(I(B),g=n(u);g!==null&&!(g.expirationTime>B&&S());){var _t=g.callback;if(typeof _t=="function"){g.callback=null,m=g.priorityLevel;var Ut=_t(g.expirationTime<=B);if(B=e.unstable_now(),typeof Ut=="function"){g.callback=Ut,I(B),tt=!0;break e}g===n(u)&&i(u),I(B)}else i(u);g=n(u)}if(g!==null)tt=!0;else{var ts=n(h);ts!==null&&We(U,ts.startTime-B),tt=!1}}break t}finally{g=null,m=$,v=!1}tt=void 0}}finally{tt?x():z=!1}}}var x;if(typeof w=="function")x=function(){w(R)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,oe=A.port2;A.port1.onmessage=R,x=function(){oe.postMessage(null)}}else x=function(){b(R,0)};function We(B,tt){_=b(function(){B(e.unstable_now())},tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var tt=3;break;default:tt=m}var $=m;m=tt;try{return B()}finally{m=$}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(B,tt){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return tt()}finally{m=$}},e.unstable_scheduleCallback=function(B,tt,$){var _t=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?_t+$:_t):$=_t,B){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=$+Ut,B={id:d++,callback:tt,priorityLevel:B,startTime:$,expirationTime:Ut,sortIndex:-1},$>_t?(B.sortIndex=$,t(h,B),n(u)===null&&B===n(h)&&(M?(E(_),_=-1):M=!0,We(U,$-_t))):(B.sortIndex=Ut,t(u,B),D||v||(D=!0,z||(z=!0,x()))),B},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(B){var tt=m;return function(){var $=m;m=tt;try{return B.apply(this,arguments)}finally{m=$}}}})(Tv);Ev.exports=Tv;var kA=Ev.exports,bv={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=It;function Av(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oi(){}var ye={d:{f:oi,r:function(){throw Error(Av(522))},D:oi,C:oi,L:oi,m:oi,X:oi,S:oi,M:oi},p:0,findDOMNode:null},LA=Symbol.for("react.portal");function PA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:LA,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var La=UA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Zu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Av(299));return PA(e,t,null,n)};_e.flushSync=function(e){var t=La.T,n=ye.p;try{if(La.T=null,ye.p=2,e)return e()}finally{La.T=t,ye.p=n,ye.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Zu(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Zu(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Zu(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Zu(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};_e.requestFormReset=function(e){ye.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return La.H.useFormState(e,t,n)};_e.useFormStatus=function(){return La.H.useHostTransitionStatus()};_e.version="19.2.3";function Sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sv)}catch(e){console.error(e)}}Sv(),bv.exports=_e;var zA=bv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=kA,wv=It,jA=zA;function k(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Rv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Iv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gp(e){if(Cl(e)!==e)throw Error(k(188))}function BA(e){var t=e.alternate;if(!t){if(t=Cl(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return gp(s),e;if(r===i)return gp(s),t;r=r.sibling}throw Error(k(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==i)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function xv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xv(e),t!==null)return t;e=e.sibling}return null}var wt=Object.assign,qA=Symbol.for("react.element"),uo=Symbol.for("react.transitional.element"),Ca=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),Nv=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),Dv=Symbol.for("react.consumer"),kn=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),nf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),xd=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),rf=Symbol.for("react.activity"),HA=Symbol.for("react.memo_cache_sentinel"),pp=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=pp&&e[pp]||e["@@iterator"],typeof e=="function"?e:null)}var GA=Symbol.for("react.client.reference");function af(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===GA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case ef:return"Profiler";case Nv:return"StrictMode";case nf:return"Suspense";case sf:return"SuspenseList";case rf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ca:return"Portal";case kn:return e.displayName||"Context";case Dv:return(e._context.displayName||"Context")+".Consumer";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xd:return t=e.displayName||null,t!==null?t:af(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return af(e(t))}catch{}}return null}var xa=Array.isArray,Q=wv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=jA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ms={pending:!1,data:null,method:null,action:null},lf=[],Zs=-1;function wn(e){return{current:e}}function Wt(e){0>Zs||(e.current=lf[Zs],lf[Zs]=null,Zs--)}function vt(e,t){Zs++,lf[Zs]=e.current,e.current=t}var gn=wn(null),il=wn(null),Ri=wn(null),nu=wn(null);function iu(e,t){switch(vt(Ri,t),vt(il,e),vt(gn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?by(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=by(t),e=JE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Wt(gn),vt(gn,e)}function Ar(){Wt(gn),Wt(il),Wt(Ri)}function of(e){e.memoizedState!==null&&vt(nu,e);var t=gn.current,n=JE(t,e.type);t!==n&&(vt(il,e),vt(gn,n))}function su(e){il.current===e&&(Wt(gn),Wt(il)),nu.current===e&&(Wt(nu),ml._currentValue=ms)}var rh,yp;function os(e){if(rh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rh=t&&t[1]||"",yp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rh+e+yp}var ah=!1;function lh(e,t){if(!e||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(v){var m=v}Reflect.construct(e,[],g)}else{try{g.call()}catch(v){m=v}e.call(g.prototype)}}else{try{throw Error()}catch(v){m=v}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),h=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=s);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?os(n):""}function FA(e,t){switch(e.tag){case 26:case 27:case 5:return os(e.type);case 16:return os("Lazy");case 13:return e.child!==t&&t!==null?os("Suspense Fallback"):os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return lh(e.type,!1);case 11:return lh(e.type.render,!1);case 1:return lh(e.type,!0);case 31:return os("Activity");default:return""}}function _p(e){try{var t="",n=null;do t+=FA(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var uf=Object.prototype.hasOwnProperty,Nd=Kt.unstable_scheduleCallback,oh=Kt.unstable_cancelCallback,QA=Kt.unstable_shouldYield,YA=Kt.unstable_requestPaint,ke=Kt.unstable_now,KA=Kt.unstable_getCurrentPriorityLevel,Ov=Kt.unstable_ImmediatePriority,Vv=Kt.unstable_UserBlockingPriority,ru=Kt.unstable_NormalPriority,XA=Kt.unstable_LowPriority,Mv=Kt.unstable_IdlePriority,$A=Kt.log,JA=Kt.unstable_setDisableYieldValue,xl=null,Ue=null;function Ei(e){if(typeof $A=="function"&&JA(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(xl,e)}catch{}}var Le=Math.clz32?Math.clz32:tS,ZA=Math.log,WA=Math.LN2;function tS(e){return e>>>=0,e===0?32:31-(ZA(e)/WA|0)|0}var co=256,ho=262144,fo=4194304;function us(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=us(i):(a&=o,a!==0?s=us(a):n||(n=o&~e,n!==0&&(s=us(n))))):(o=i&~r,o!==0?s=us(o):a!==0?s=us(a):n||(n=i&~e,n!==0&&(s=us(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Nl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kv(){var e=fo;return fo<<=1,!(fo&62914560)&&(fo=4194304),e}function uh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Dl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nS(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Le(n),g=1<<d;o[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~g}i!==0&&Uv(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function Uv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Le(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Lv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Le(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Pv(e,t){var n=t&-t;return n=n&42?1:Dd(n),n&(e.suspendedLanes|t)?0:n}function Dd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Od(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zv(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:oT(e.type))}function vp(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var $i=Math.random().toString(36).slice(2),ne="__reactFiber$"+$i,Re="__reactProps$"+$i,Gr="__reactContainer$"+$i,cf="__reactEvents$"+$i,iS="__reactListeners$"+$i,sS="__reactHandles$"+$i,Ep="__reactResources$"+$i,Ol="__reactMarker$"+$i;function Vd(e){delete e[ne],delete e[Re],delete e[cf],delete e[iS],delete e[sS]}function Ws(e){var t=e[ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gr]||n[ne]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iy(e);e!==null;){if(n=e[ne])return n;e=Iy(e)}return t}e=n,n=e.parentNode}return null}function Fr(e){if(e=e[ne]||e[Gr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Na(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(k(33))}function cr(e){var t=e[Ep];return t||(t=e[Ep]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Zt(e){e[Ol]=!0}var jv=new Set,Bv={};function Ds(e,t){Sr(e,t),Sr(e+"Capture",t)}function Sr(e,t){for(Bv[e]=t,e=0;e<t.length;e++)jv.add(t[e])}var rS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tp={},bp={};function aS(e){return uf.call(bp,e)?!0:uf.call(Tp,e)?!1:rS.test(e)?bp[e]=!0:(Tp[e]=!0,!1)}function Do(e,t,n){if(aS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function mo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function In(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hf(e){if(!e._valueTracker){var t=qv(e)?"checked":"value";e._valueTracker=lS(e,t,""+e[t])}}function Hv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=qv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oS=/[\n"\\]/g;function Qe(e){return e.replace(oS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ff(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?df(e,a,He(t)):n!=null?df(e,a,He(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+He(o):e.removeAttribute("name")}function Gv(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){hf(e);return}n=n!=null?""+He(n):"",t=t!=null?""+He(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),hf(e)}function df(e,t,n){t==="number"&&au(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function hr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fv(e,t,n){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+He(n):""}function Qv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(k(92));if(xa(i)){if(1<i.length)throw Error(k(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=He(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),hf(e)}function wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ap(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||uS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Yv(e,t,n){if(t!=null&&typeof t!="object")throw Error(k(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Ap(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Ap(e,r,t[r])}function Md(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(e){return hS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var mf=null;function kd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tr=null,fr=null;function Sp(e){var t=Fr(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(ff(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Re]||null;if(!s)throw Error(k(90));ff(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Hv(i)}break t;case"textarea":Fv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&hr(e,!!n.multiple,t,!1)}}}var ch=!1;function Kv(e,t,n){if(ch)return e(t,n);ch=!0;try{var i=e(t);return i}finally{if(ch=!1,(tr!==null||fr!==null)&&(hc(),tr&&(t=tr,e=fr,fr=tr=null,Sp(t),e)))for(t=0;t<e.length;t++)Sp(e[t])}}function sl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=!1;if(Hn)try{var Ta={};Object.defineProperty(Ta,"passive",{get:function(){gf=!0}}),window.addEventListener("test",Ta,Ta),window.removeEventListener("test",Ta,Ta)}catch{gf=!1}var Ti=null,Ud=null,Vo=null;function Xv(){if(Vo)return Vo;var e,t=Ud,n=t.length,i,s="value"in Ti?Ti.value:Ti.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return Vo=s.slice(e,1<i?1-i:void 0)}function Mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function wp(){return!1}function Ce(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?go:wp,this.isPropagationStopped=wp,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Ce(Os),Vl=wt({},Os,{view:0,detail:0}),fS=Ce(Vl),hh,fh,ba,ec=wt({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ba&&(ba&&e.type==="mousemove"?(hh=e.screenX-ba.screenX,fh=e.screenY-ba.screenY):fh=hh=0,ba=e),hh)},movementY:function(e){return"movementY"in e?e.movementY:fh}}),Rp=Ce(ec),dS=wt({},ec,{dataTransfer:0}),mS=Ce(dS),gS=wt({},Vl,{relatedTarget:0}),dh=Ce(gS),pS=wt({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=Ce(pS),_S=wt({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vS=Ce(_S),ES=wt({},Os,{data:0}),Ip=Ce(ES),TS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AS[e])?!!t[e]:!1}function Ld(){return SS}var wS=wt({},Vl,{key:function(e){if(e.key){var t=TS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RS=Ce(wS),IS=wt({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cp=Ce(IS),CS=wt({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),xS=Ce(CS),NS=wt({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),DS=Ce(NS),OS=wt({},ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VS=Ce(OS),MS=wt({},Os,{newState:0,oldState:0}),kS=Ce(MS),US=[9,13,27,32],Pd=Hn&&"CompositionEvent"in window,Pa=null;Hn&&"documentMode"in document&&(Pa=document.documentMode);var LS=Hn&&"TextEvent"in window&&!Pa,$v=Hn&&(!Pd||Pa&&8<Pa&&11>=Pa),xp=" ",Np=!1;function Jv(e,t){switch(e){case"keyup":return US.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function PS(e,t){switch(e){case"compositionend":return Zv(t);case"keypress":return t.which!==32?null:(Np=!0,xp);case"textInput":return e=t.data,e===xp&&Np?null:e;default:return null}}function zS(e,t){if(er)return e==="compositionend"||!Pd&&Jv(e,t)?(e=Xv(),Vo=Ud=Ti=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $v&&t.locale!=="ko"?null:t.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jS[e.type]:t==="textarea"}function Wv(e,t,n,i){tr?fr?fr.push(i):fr=[i]:tr=i,t=Su(t,"onChange"),0<t.length&&(n=new tc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var za=null,rl=null;function BS(e){KE(e,0)}function nc(e){var t=Na(e);if(Hv(t))return e}function Op(e,t){if(e==="change")return t}var t0=!1;if(Hn){var mh;if(Hn){var gh="oninput"in document;if(!gh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),gh=typeof Vp.oninput=="function"}mh=gh}else mh=!1;t0=mh&&(!document.documentMode||9<document.documentMode)}function Mp(){za&&(za.detachEvent("onpropertychange",e0),rl=za=null)}function e0(e){if(e.propertyName==="value"&&nc(rl)){var t=[];Wv(t,rl,e,kd(e)),Kv(BS,t)}}function qS(e,t,n){e==="focusin"?(Mp(),za=t,rl=n,za.attachEvent("onpropertychange",e0)):e==="focusout"&&Mp()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(rl)}function GS(e,t){if(e==="click")return nc(t)}function FS(e,t){if(e==="input"||e==="change")return nc(t)}function QS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ze=typeof Object.is=="function"?Object.is:QS;function al(e,t){if(ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!uf.call(t,s)||!ze(e[s],t[s]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,t){var n=kp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=kp(n)}}function n0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=au(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=au(e.document)}return t}function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var YS=Hn&&"documentMode"in document&&11>=document.documentMode,nr=null,pf=null,ja=null,yf=!1;function Lp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||nr==null||nr!==au(i)||(i=nr,"selectionStart"in i&&zd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ja&&al(ja,i)||(ja=i,i=Su(pf,"onSelect"),0<i.length&&(t=new tc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=nr)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},ph={},s0={};Hn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Vs(e){if(ph[e])return ph[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s0)return ph[e]=t[n];return e}var r0=Vs("animationend"),a0=Vs("animationiteration"),l0=Vs("animationstart"),KS=Vs("transitionrun"),XS=Vs("transitionstart"),$S=Vs("transitioncancel"),o0=Vs("transitionend"),u0=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function rn(e,t){u0.set(e,t),Ds(t,[e])}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qe=[],sr=0,jd=0;function ic(){for(var e=sr,t=jd=sr=0;t<e;){var n=qe[t];qe[t++]=null;var i=qe[t];qe[t++]=null;var s=qe[t];qe[t++]=null;var r=qe[t];if(qe[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&c0(n,s,r)}}function sc(e,t,n,i){qe[sr++]=e,qe[sr++]=t,qe[sr++]=n,qe[sr++]=i,jd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Bd(e,t,n,i){return sc(e,t,n,i),ou(e)}function Ms(e,t){return sc(e,null,null,t),ou(e)}function c0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Le(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function ou(e){if(50<Xa)throw Xa=0,zf=null,Error(k(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rr={};function JS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,i){return new JS(e,t,n,i)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function h0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ko(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")qd(e)&&(a=1);else if(typeof e=="string")a=nR(e,n,gn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case rf:return e=Oe(31,n,t,s),e.elementType=rf,e.lanes=r,e;case Js:return gs(n.children,s,r,t);case Nv:a=8,s|=24;break;case ef:return e=Oe(12,n,t,s|2),e.elementType=ef,e.lanes=r,e;case nf:return e=Oe(13,n,t,s),e.elementType=nf,e.lanes=r,e;case sf:return e=Oe(19,n,t,s),e.elementType=sf,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kn:a=10;break t;case Dv:a=9;break t;case Cd:a=11;break t;case xd:a=14;break t;case ci:a=16,i=null;break t}a=29,n=Error(k(130,e===null?"null":typeof e,"")),i=null}return t=Oe(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function gs(e,t,n,i){return e=Oe(7,e,i,t),e.lanes=n,e}function yh(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function f0(e){var t=Oe(18,null,null,0);return t.stateNode=e,t}function _h(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pp=new WeakMap;function Ye(e,t){if(typeof e=="object"&&e!==null){var n=Pp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:_p(t)},Pp.set(e,t),t)}return{value:e,source:t,stack:_p(t)}}var ar=[],lr=0,uu=null,ll=0,Ge=[],Fe=0,ji=null,fn=1,dn="";function On(e,t){ar[lr++]=ll,ar[lr++]=uu,uu=e,ll=t}function d0(e,t,n){Ge[Fe++]=fn,Ge[Fe++]=dn,Ge[Fe++]=ji,ji=e;var i=fn;e=dn;var s=32-Le(i)-1;i&=~(1<<s),n+=1;var r=32-Le(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,fn=1<<32-Le(t)+s|n<<s|i,dn=r+e}else fn=1<<r|n<<s|i,dn=e}function Hd(e){e.return!==null&&(On(e,1),d0(e,1,0))}function Gd(e){for(;e===uu;)uu=ar[--lr],ar[lr]=null,ll=ar[--lr],ar[lr]=null;for(;e===ji;)ji=Ge[--Fe],Ge[Fe]=null,dn=Ge[--Fe],Ge[Fe]=null,fn=Ge[--Fe],Ge[Fe]=null}function m0(e,t){Ge[Fe++]=fn,Ge[Fe++]=dn,Ge[Fe++]=ji,fn=t.id,dn=t.overflow,ji=e}var ie=null,bt=null,lt=!1,Ii=null,Ke=!1,vf=Error(k(519));function Bi(e){var t=Error(k(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Ye(t,e)),vf}function zp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ne]=e,t[Re]=i,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<fl.length;n++)et(fl[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),Gv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),Qv(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||$E(t.textContent,n)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||Bi(e,!0)}function jp(e){for(ie=e.return;ie;)switch(ie.tag){case 5:case 31:case 13:Ke=!1;return;case 27:case 3:Ke=!0;return;default:ie=ie.return}}function qs(e){if(e!==ie)return!1;if(!lt)return jp(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gf(e.type,e.memoizedProps)),n=!n),n&&bt&&Bi(e),jp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));bt=Ry(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));bt=Ry(e)}else t===27?(t=bt,Ji(e.type)?(e=Kf,Kf=null,bt=e):bt=t):bt=ie?Je(e.stateNode.nextSibling):null;return!0}function Ts(){bt=ie=null,lt=!1}function vh(){var e=Ii;return e!==null&&(be===null?be=e:be.push.apply(be,e),Ii=null),e}function ol(e){Ii===null?Ii=[e]:Ii.push(e)}var Ef=wn(null),ks=null,Ln=null;function fi(e,t,n){vt(Ef,t._currentValue),t._currentValue=n}function Bn(e){e._currentValue=Ef.current,Wt(Ef)}function Tf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function bf(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Tf(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(k(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Tf(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Qr(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(k(387));if(a=a.memoizedProps,a!==null){var o=s.type;ze(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===nu.current){if(a=s.alternate,a===null)throw Error(k(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}s=s.return}e!==null&&bf(t,e,n,i),t.flags|=262144}function cu(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){ks=e,Ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function re(e){return g0(ks,e)}function po(e,t){return ks===null&&bs(e),g0(e,t)}function g0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ln===null){if(e===null)throw Error(k(308));Ln=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ln=Ln.next=t;return n}var ZS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},WS=Kt.unstable_scheduleCallback,tw=Kt.unstable_NormalPriority,jt={$$typeof:kn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new ZS,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&WS(tw,function(){e.controller.abort()})}var Ba=null,Af=0,Rr=0,dr=null;function ew(e,t){if(Ba===null){var n=Ba=[];Af=0,Rr=pm(),dr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Af++,t.then(Bp,Bp),t}function Bp(){if(--Af===0&&Ba!==null){dr!==null&&(dr.status="fulfilled");var e=Ba;Ba=null,Rr=0,dr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nw(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var qp=Q.S;Q.S=function(e,t){xE=ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ew(e,t),qp!==null&&qp(e,t)};var ps=wn(null);function Qd(){var e=ps.current;return e!==null?e:yt.pooledCache}function Uo(e,t){t===null?vt(ps,ps.current):vt(ps,t.pool)}function p0(){var e=Qd();return e===null?null:{parent:jt._currentValue,pool:e}}var Yr=Error(k(460)),Yd=Error(k(474)),rc=Error(k(542)),hu={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function y0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Un,Un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fp(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(k(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fp(e),e}throw ys=t,Yr}}function cs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ys=n,Yr):n}}var ys=null;function Gp(){if(ys===null)throw Error(k(459));var e=ys;return ys=null,e}function Fp(e){if(e===Yr||e===rc)throw Error(k(483))}var mr=null,ul=0;function yo(e){var t=ul;return ul+=1,mr===null&&(mr=[]),y0(mr,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _o(e,t){throw t.$$typeof===qA?Error(k(525)):(e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _0(e){function t(b,E){if(e){var w=b.deletions;w===null?(b.deletions=[E],b.flags|=16):w.push(E)}}function n(b,E){if(!e)return null;for(;E!==null;)t(b,E),E=E.sibling;return null}function i(b){for(var E=new Map;b!==null;)b.key!==null?E.set(b.key,b):E.set(b.index,b),b=b.sibling;return E}function s(b,E){return b=jn(b,E),b.index=0,b.sibling=null,b}function r(b,E,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<E?(b.flags|=67108866,E):w):(b.flags|=67108866,E)):(b.flags|=1048576,E)}function a(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,E,w,I){return E===null||E.tag!==6?(E=yh(w,b.mode,I),E.return=b,E):(E=s(E,w),E.return=b,E)}function u(b,E,w,I){var U=w.type;return U===Js?d(b,E,w.props.children,I,w.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ci&&cs(U)===E.type)?(E=s(E,w.props),Aa(E,w),E.return=b,E):(E=ko(w.type,w.key,w.props,null,b.mode,I),Aa(E,w),E.return=b,E)}function h(b,E,w,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=_h(w,b.mode,I),E.return=b,E):(E=s(E,w.children||[]),E.return=b,E)}function d(b,E,w,I,U){return E===null||E.tag!==7?(E=gs(w,b.mode,I,U),E.return=b,E):(E=s(E,w),E.return=b,E)}function g(b,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=yh(""+E,b.mode,w),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uo:return w=ko(E.type,E.key,E.props,null,b.mode,w),Aa(w,E),w.return=b,w;case Ca:return E=_h(E,b.mode,w),E.return=b,E;case ci:return E=cs(E),g(b,E,w)}if(xa(E)||Ea(E))return E=gs(E,b.mode,w,null),E.return=b,E;if(typeof E.then=="function")return g(b,yo(E),w);if(E.$$typeof===kn)return g(b,po(b,E),w);_o(b,E)}return null}function m(b,E,w,I){var U=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return U!==null?null:o(b,E,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:return w.key===U?u(b,E,w,I):null;case Ca:return w.key===U?h(b,E,w,I):null;case ci:return w=cs(w),m(b,E,w,I)}if(xa(w)||Ea(w))return U!==null?null:d(b,E,w,I,null);if(typeof w.then=="function")return m(b,E,yo(w),I);if(w.$$typeof===kn)return m(b,E,po(b,w),I);_o(b,w)}return null}function v(b,E,w,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return b=b.get(w)||null,o(E,b,""+I,U);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case uo:return b=b.get(I.key===null?w:I.key)||null,u(E,b,I,U);case Ca:return b=b.get(I.key===null?w:I.key)||null,h(E,b,I,U);case ci:return I=cs(I),v(b,E,w,I,U)}if(xa(I)||Ea(I))return b=b.get(w)||null,d(E,b,I,U,null);if(typeof I.then=="function")return v(b,E,w,yo(I),U);if(I.$$typeof===kn)return v(b,E,w,po(E,I),U);_o(E,I)}return null}function D(b,E,w,I){for(var U=null,z=null,_=E,y=E=0,T=null;_!==null&&y<w.length;y++){_.index>y?(T=_,_=null):T=_.sibling;var S=m(b,_,w[y],I);if(S===null){_===null&&(_=T);break}e&&_&&S.alternate===null&&t(b,_),E=r(S,E,y),z===null?U=S:z.sibling=S,z=S,_=T}if(y===w.length)return n(b,_),lt&&On(b,y),U;if(_===null){for(;y<w.length;y++)_=g(b,w[y],I),_!==null&&(E=r(_,E,y),z===null?U=_:z.sibling=_,z=_);return lt&&On(b,y),U}for(_=i(_);y<w.length;y++)T=v(_,b,y,w[y],I),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?y:T.key),E=r(T,E,y),z===null?U=T:z.sibling=T,z=T);return e&&_.forEach(function(R){return t(b,R)}),lt&&On(b,y),U}function M(b,E,w,I){if(w==null)throw Error(k(151));for(var U=null,z=null,_=E,y=E=0,T=null,S=w.next();_!==null&&!S.done;y++,S=w.next()){_.index>y?(T=_,_=null):T=_.sibling;var R=m(b,_,S.value,I);if(R===null){_===null&&(_=T);break}e&&_&&R.alternate===null&&t(b,_),E=r(R,E,y),z===null?U=R:z.sibling=R,z=R,_=T}if(S.done)return n(b,_),lt&&On(b,y),U;if(_===null){for(;!S.done;y++,S=w.next())S=g(b,S.value,I),S!==null&&(E=r(S,E,y),z===null?U=S:z.sibling=S,z=S);return lt&&On(b,y),U}for(_=i(_);!S.done;y++,S=w.next())S=v(_,b,y,S.value,I),S!==null&&(e&&S.alternate!==null&&_.delete(S.key===null?y:S.key),E=r(S,E,y),z===null?U=S:z.sibling=S,z=S);return e&&_.forEach(function(x){return t(b,x)}),lt&&On(b,y),U}function V(b,E,w,I){if(typeof w=="object"&&w!==null&&w.type===Js&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case uo:t:{for(var U=w.key;E!==null;){if(E.key===U){if(U=w.type,U===Js){if(E.tag===7){n(b,E.sibling),I=s(E,w.props.children),I.return=b,b=I;break t}}else if(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ci&&cs(U)===E.type){n(b,E.sibling),I=s(E,w.props),Aa(I,w),I.return=b,b=I;break t}n(b,E);break}else t(b,E);E=E.sibling}w.type===Js?(I=gs(w.props.children,b.mode,I,w.key),I.return=b,b=I):(I=ko(w.type,w.key,w.props,null,b.mode,I),Aa(I,w),I.return=b,b=I)}return a(b);case Ca:t:{for(U=w.key;E!==null;){if(E.key===U)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){n(b,E.sibling),I=s(E,w.children||[]),I.return=b,b=I;break t}else{n(b,E);break}else t(b,E);E=E.sibling}I=_h(w,b.mode,I),I.return=b,b=I}return a(b);case ci:return w=cs(w),V(b,E,w,I)}if(xa(w))return D(b,E,w,I);if(Ea(w)){if(U=Ea(w),typeof U!="function")throw Error(k(150));return w=U.call(w),M(b,E,w,I)}if(typeof w.then=="function")return V(b,E,yo(w),I);if(w.$$typeof===kn)return V(b,E,po(b,w),I);_o(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(n(b,E.sibling),I=s(E,w),I.return=b,b=I):(n(b,E),I=yh(w,b.mode,I),I.return=b,b=I),a(b)):n(b,E)}return function(b,E,w,I){try{ul=0;var U=V(b,E,w,I);return mr=null,U}catch(_){if(_===Yr||_===rc)throw _;var z=Oe(29,_,null,b.mode);return z.lanes=I,z.return=b,z}finally{}}}var As=_0(!0),v0=_0(!1),hi=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ci(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ut&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=ou(e),c0(e,null,n),t}return sc(e,i,t,n),ou(e)}function qa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Lv(e,n)}}function Eh(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wf=!1;function Ha(){if(wf){var e=dr;if(e!==null)throw e}}function Ga(e,t,n,i){wf=!1;var s=e.updateQueue;hi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(r!==null){var g=s.baseState;a=0,d=h=u=null,o=r;do{var m=o.lane&-536870913,v=m!==o.lane;if(v?(at&m)===m:(i&m)===m){m!==0&&m===Rr&&(wf=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var D=e,M=o;m=t;var V=n;switch(M.tag){case 1:if(D=M.payload,typeof D=="function"){g=D.call(V,g,m);break t}g=D;break t;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,m=typeof D=="function"?D.call(V,g,m):D,m==null)break t;g=wt({},g,m);break t;case 2:hi=!0}}m=o.callback,m!==null&&(e.flags|=64,v&&(e.flags|=8192),v=s.callbacks,v===null?s.callbacks=[m]:v.push(m))}else v={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,u=g):d=d.next=v,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;v=o,o=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);d===null&&(u=g),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),Hi|=a,e.lanes=a,e.memoizedState=g}}function E0(e,t){if(typeof e!="function")throw Error(k(191,e));e.call(t)}function T0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)E0(n[e],t)}var Ir=wn(null),fu=wn(0);function Qp(e,t){e=Yn,vt(fu,e),vt(Ir,t),Yn=e|t.baseLanes}function Rf(){vt(fu,Yn),vt(Ir,Ir.current)}function Xd(){Yn=fu.current,Wt(Ir),Wt(fu)}var je=wn(null),$e=null;function di(e){var t=e.alternate;vt(Mt,Mt.current&1),vt(je,e),$e===null&&(t===null||Ir.current!==null||t.memoizedState!==null)&&($e=e)}function If(e){vt(Mt,Mt.current),vt(je,e),$e===null&&($e=e)}function b0(e){e.tag===22?(vt(Mt,Mt.current),vt(je,e),$e===null&&($e=e)):mi()}function mi(){vt(Mt,Mt.current),vt(je,je.current)}function De(e){Wt(je),$e===e&&($e=null),Wt(Mt)}var Mt=wn(0);function du(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qf(n)||Yf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gn=0,Z=null,gt=null,Pt=null,mu=!1,gr=!1,Ss=!1,gu=0,cl=0,pr=null,iw=0;function Dt(){throw Error(k(321))}function $d(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ze(e[n],t[n]))return!1;return!0}function Jd(e,t,n,i,s,r){return Gn=r,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?W0:om,Ss=!1,r=n(i,s),Ss=!1,gr&&(r=S0(t,n,i,s)),A0(e),r}function A0(e){Q.H=hl;var t=gt!==null&&gt.next!==null;if(Gn=0,Pt=gt=Z=null,mu=!1,cl=0,pr=null,t)throw Error(k(300));e===null||Bt||(e=e.dependencies,e!==null&&cu(e)&&(Bt=!0))}function S0(e,t,n,i){Z=e;var s=0;do{if(gr&&(pr=null),cl=0,gr=!1,25<=s)throw Error(k(301));if(s+=1,Pt=gt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=tE,r=t(n,i)}while(gr);return r}function sw(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?kl(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Z.flags|=1024),t}function Zd(){var e=gu!==0;return gu=0,e}function Wd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function tm(e){if(mu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mu=!1}Gn=0,Pt=gt=Z=null,gr=!1,cl=gu=0,pr=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Z.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function kt(){if(gt===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Pt===null?Z.memoizedState:Pt.next;if(t!==null)Pt=t,gt=e;else{if(e===null)throw Z.alternate===null?Error(k(467)):Error(k(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Pt===null?Z.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var t=cl;return cl+=1,pr===null&&(pr=[]),e=y0(pr,e,t),t=Z,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?W0:om),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===kn)return re(e)}throw Error(k(438,String(e)))}function em(e){var t=null,n=Z.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=ac(),Z.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=HA;return t.index++,n}function Fn(e,t){return typeof t=="function"?t(e):t}function Lo(e){var t=kt();return nm(t,gt,e)}function nm(e,t,n){var i=e.queue;if(i===null)throw Error(k(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(at&g)===g:(Gn&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Rr&&(d=!0);else if((Gn&m)===m){h=h.next,m===Rr&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,a=r):u=u.next=g,Z.lanes|=m,Hi|=m;g=h.action,Ss&&n(r,g),r=h.hasEagerState?h.eagerState:n(r,g)}else m={lane:g,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,Z.lanes|=g,Hi|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=r:u.next=o,!ze(r,e.memoizedState)&&(Bt=!0,d&&(n=dr,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Th(e){var t=kt(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);ze(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function w0(e,t,n){var i=Z,s=kt(),r=lt;if(r){if(n===void 0)throw Error(k(407));n=n()}else n=t();var a=!ze((gt||s).memoizedState,n);if(a&&(s.memoizedState=n,Bt=!0),s=s.queue,im(C0.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,Cr(9,{destroy:void 0},I0.bind(null,i,s,n,t),null),yt===null)throw Error(k(349));r||Gn&127||R0(i,t,n)}return n}function R0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t=ac(),Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function I0(e,t,n,i){t.value=n,t.getSnapshot=i,x0(t)&&N0(e)}function C0(e,t,n){return n(function(){x0(t)&&N0(e)})}function x0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ze(e,n)}catch{return!0}}function N0(e){var t=Ms(e,2);t!==null&&we(t,e,2)}function Cf(e){var t=pe();if(typeof e=="function"){var n=e;if(e=n(),Ss){Ei(!0);try{n()}finally{Ei(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t}function D0(e,t,n,i){return e.baseState=n,nm(e,gt,typeof i=="function"?i:Fn)}function rw(e,t,n,i,s){if(uc(e))throw Error(k(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,O0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function O0(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=Q.T,a={};Q.T=a;try{var o=n(s,i),u=Q.S;u!==null&&u(a,o),Yp(e,t,o)}catch(h){xf(e,t,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),Q.T=r}}else try{r=n(s,i),Yp(e,t,r)}catch(h){xf(e,t,h)}}function Yp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Kp(e,t,i)},function(i){return xf(e,t,i)}):Kp(e,t,n)}function Kp(e,t,n){t.status="fulfilled",t.value=n,V0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,O0(e,n)))}function xf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,V0(t),t=t.next;while(t!==i)}e.action=null}function V0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function M0(e,t){return t}function Xp(e,t){if(lt){var n=yt.formState;if(n!==null){t:{var i=Z;if(lt){if(bt){e:{for(var s=bt,r=Ke;s.nodeType!==8;){if(!r){s=null;break e}if(s=Je(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){bt=Je(s.nextSibling),i=s.data==="F!";break t}}Bi(i)}i=!1}i&&(t=n[0])}}return n=pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:t},n.queue=i,n=$0.bind(null,Z,i),i.dispatch=n,i=Cf(!1),r=lm.bind(null,Z,!1,i.queue),i=pe(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=rw.bind(null,Z,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function $p(e){var t=kt();return k0(t,gt,e)}function k0(e,t,n){if(t=nm(e,t,M0)[0],e=Lo(Fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=kl(t)}catch(a){throw a===Yr?rc:a}else i=t;t=kt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Z.flags|=2048,Cr(9,{destroy:void 0},aw.bind(null,s,n),null)),[i,r,e]}function aw(e,t){e.action=t}function Jp(e){var t=kt(),n=gt;if(n!==null)return k0(t,n,e);kt(),t=t.memoizedState,n=kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Cr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Z.updateQueue,t===null&&(t=ac(),Z.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function U0(){return kt().memoizedState}function Po(e,t,n,i){var s=pe();Z.flags|=e,s.memoizedState=Cr(1|t,{destroy:void 0},n,i===void 0?null:i)}function oc(e,t,n,i){var s=kt();i=i===void 0?null:i;var r=s.memoizedState.inst;gt!==null&&i!==null&&$d(i,gt.memoizedState.deps)?s.memoizedState=Cr(t,r,n,i):(Z.flags|=e,s.memoizedState=Cr(1|t,r,n,i))}function Zp(e,t){Po(8390656,8,e,t)}function im(e,t){oc(2048,8,e,t)}function lw(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=ac(),Z.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function L0(e){var t=kt().memoizedState;return lw({ref:t,nextImpl:e}),function(){if(ut&2)throw Error(k(440));return t.impl.apply(void 0,arguments)}}function P0(e,t){return oc(4,2,e,t)}function z0(e,t){return oc(4,4,e,t)}function j0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function B0(e,t,n){n=n!=null?n.concat([e]):null,oc(4,4,j0.bind(null,t,e),n)}function sm(){}function q0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&$d(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function H0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&$d(t,i[1]))return i[0];if(i=e(),Ss){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i}function rm(e,t,n){return n===void 0||Gn&1073741824&&!(at&261930)?e.memoizedState=t:(e.memoizedState=n,e=DE(),Z.lanes|=e,Hi|=e,n)}function G0(e,t,n,i){return ze(n,t)?n:Ir.current!==null?(e=rm(e,n,i),ze(e,t)||(Bt=!0),e):!(Gn&42)||Gn&1073741824&&!(at&261930)?(Bt=!0,e.memoizedState=n):(e=DE(),Z.lanes|=e,Hi|=e,t)}function F0(e,t,n,i,s){var r=ct.p;ct.p=r!==0&&8>r?r:8;var a=Q.T,o={};Q.T=o,lm(e,!1,t,n);try{var u=s(),h=Q.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=nw(u,i);Fa(e,t,d,Pe(e))}else Fa(e,t,i,Pe(e))}catch(g){Fa(e,t,{then:function(){},status:"rejected",reason:g},Pe())}finally{ct.p=r,a!==null&&o.types!==null&&(a.types=o.types),Q.T=a}}function ow(){}function Nf(e,t,n,i){if(e.tag!==5)throw Error(k(476));var s=Q0(e).queue;F0(e,s,t,ms,n===null?ow:function(){return Y0(e),n(i)})}function Q0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ms,baseState:ms,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:ms},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Y0(e){var t=Q0(e);t.next===null&&(t=e.alternate.memoizedState),Fa(e,t.next.queue,{},Pe())}function am(){return re(ml)}function K0(){return kt().memoizedState}function X0(){return kt().memoizedState}function uw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Pe();e=Ci(n);var i=xi(t,e,n);i!==null&&(we(i,t,n),qa(i,t,n)),t={cache:Fd()},e.payload=t;return}t=t.return}}function cw(e,t,n){var i=Pe();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uc(e)?J0(t,n):(n=Bd(e,t,n,i),n!==null&&(we(n,e,i),Z0(n,t,i)))}function $0(e,t,n){var i=Pe();Fa(e,t,n,i)}function Fa(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uc(e))J0(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,ze(o,a))return sc(e,t,s,0),yt===null&&ic(),!1}catch{}finally{}if(n=Bd(e,t,s,i),n!==null)return we(n,e,i),Z0(n,t,i),!0}return!1}function lm(e,t,n,i){if(i={lane:2,revertLane:pm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},uc(e)){if(t)throw Error(k(479))}else t=Bd(e,n,i,2),t!==null&&we(t,e,2)}function uc(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function J0(e,t){gr=mu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Z0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Lv(e,n)}}var hl={readContext:re,use:lc,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};hl.useEffectEvent=Dt;var W0={readContext:re,use:lc,useCallback:function(e,t){return pe().memoizedState=[e,t===void 0?null:t],e},useContext:re,useEffect:Zp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Po(4194308,4,j0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){Po(4,2,e,t)},useMemo:function(e,t){var n=pe();t=t===void 0?null:t;var i=e();if(Ss){Ei(!0);try{e()}finally{Ei(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pe();if(n!==void 0){var s=n(t);if(Ss){Ei(!0);try{n(t)}finally{Ei(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=cw.bind(null,Z,e),[i.memoizedState,e]},useRef:function(e){var t=pe();return e={current:e},t.memoizedState=e},useState:function(e){e=Cf(e);var t=e.queue,n=$0.bind(null,Z,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sm,useDeferredValue:function(e,t){var n=pe();return rm(n,e,t)},useTransition:function(){var e=Cf(!1);return e=F0.bind(null,Z,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Z,s=pe();if(lt){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),yt===null)throw Error(k(349));at&127||R0(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Zp(C0.bind(null,i,r,e),[e]),i.flags|=2048,Cr(9,{destroy:void 0},I0.bind(null,i,r,n,t),null),n},useId:function(){var e=pe(),t=yt.identifierPrefix;if(lt){var n=dn,i=fn;n=(i&~(1<<32-Le(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gu++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=iw++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:am,useFormState:Xp,useActionState:Xp,useOptimistic:function(e){var t=pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=lm.bind(null,Z,!0,n),n.dispatch=t,[e,t]},useMemoCache:em,useCacheRefresh:function(){return pe().memoizedState=uw.bind(null,Z)},useEffectEvent:function(e){var t=pe(),n={impl:e};return t.memoizedState=n,function(){if(ut&2)throw Error(k(440));return n.impl.apply(void 0,arguments)}}},om={readContext:re,use:lc,useCallback:q0,useContext:re,useEffect:im,useImperativeHandle:B0,useInsertionEffect:P0,useLayoutEffect:z0,useMemo:H0,useReducer:Lo,useRef:U0,useState:function(){return Lo(Fn)},useDebugValue:sm,useDeferredValue:function(e,t){var n=kt();return G0(n,gt.memoizedState,e,t)},useTransition:function(){var e=Lo(Fn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:w0,useId:K0,useHostTransitionStatus:am,useFormState:$p,useActionState:$p,useOptimistic:function(e,t){var n=kt();return D0(n,gt,e,t)},useMemoCache:em,useCacheRefresh:X0};om.useEffectEvent=L0;var tE={readContext:re,use:lc,useCallback:q0,useContext:re,useEffect:im,useImperativeHandle:B0,useInsertionEffect:P0,useLayoutEffect:z0,useMemo:H0,useReducer:Th,useRef:U0,useState:function(){return Th(Fn)},useDebugValue:sm,useDeferredValue:function(e,t){var n=kt();return gt===null?rm(n,e,t):G0(n,gt.memoizedState,e,t)},useTransition:function(){var e=Th(Fn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:kl(e),t]},useSyncExternalStore:w0,useId:K0,useHostTransitionStatus:am,useFormState:Jp,useActionState:Jp,useOptimistic:function(e,t){var n=kt();return gt!==null?D0(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:em,useCacheRefresh:X0};tE.useEffectEvent=L0;function bh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Df={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pe(),s=Ci(i);s.payload=t,n!=null&&(s.callback=n),t=xi(e,s,i),t!==null&&(we(t,e,i),qa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pe(),s=Ci(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=xi(e,s,i),t!==null&&(we(t,e,i),qa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),i=Ci(n);i.tag=2,t!=null&&(i.callback=t),t=xi(e,i,n),t!==null&&(we(t,e,n),qa(t,e,n))}};function Wp(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!al(n,i)||!al(s,r):!0}function ty(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Df.enqueueReplaceState(t,t.state,null)}function ws(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=wt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function eE(e){lu(e)}function nE(e){console.error(e)}function iE(e){lu(e)}function pu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ey(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Of(e,t,n){return n=Ci(n),n.tag=3,n.payload={element:null},n.callback=function(){pu(e,t)},n}function sE(e){return e=Ci(e),e.tag=3,e}function rE(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){ey(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){ey(t,n,i),typeof s!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function hw(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Qr(t,n,s,!0),n=je.current,n!==null){switch(n.tag){case 31:case 13:return $e===null?Tu():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===hu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Vh(e,i,s)),!1;case 22:return n.flags|=65536,i===hu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Vh(e,i,s)),!1}throw Error(k(435,n.tag))}return Vh(e,i,s),Tu(),!1}if(lt)return t=je.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==vf&&(e=Error(k(422),{cause:i}),ol(Ye(e,n)))):(i!==vf&&(t=Error(k(423),{cause:i}),ol(Ye(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=Ye(i,n),s=Of(e.stateNode,i,s),Eh(e,s),Ot!==4&&(Ot=2)),!1;var r=Error(k(520),{cause:i});if(r=Ye(r,n),Ka===null?Ka=[r]:Ka.push(r),Ot!==4&&(Ot=2),t===null)return!0;i=Ye(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Of(n.stateNode,i,e),Eh(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=sE(s),rE(s,e,n,i),Eh(n,s),!1}n=n.return}while(n!==null);return!1}var um=Error(k(461)),Bt=!1;function te(e,t,n,i){t.child=e===null?v0(t,null,n,i):As(t,e.child,n,i)}function ny(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return bs(t),i=Jd(e,t,n,a,r,s),o=Zd(),e!==null&&!Bt?(Wd(e,t,s),Qn(e,t,s)):(lt&&o&&Hd(t),t.flags|=1,te(e,t,i,s),t.child)}function iy(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!qd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,aE(e,t,r,i,s)):(e=ko(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!cm(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(a,i)&&e.ref===t.ref)return Qn(e,t,s)}return t.flags|=1,e=jn(r,i),e.ref=t.ref,e.return=t,t.child=e}function aE(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(al(r,i)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=i=r,cm(e,s))e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Qn(e,t,s)}return Vf(e,t,n,i,s)}function lE(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return sy(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(t,r!==null?r.cachePool:null),r!==null?Qp(t,r):Rf(),b0(t);else return i=t.lanes=536870912,sy(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Uo(t,r.cachePool),Qp(t,r),mi(),t.memoizedState=null):(e!==null&&Uo(t,null),Rf(),mi());return te(e,t,s,n),t.child}function Da(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sy(e,t,n,i,s){var r=Qd();return r=r===null?null:{parent:jt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Uo(t,null),Rf(),b0(t),e!==null&&Qr(e,t,i,!0),t.childLanes=s,null}function zo(e,t){return t=yu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ry(e,t,n){return As(t,e.child,null,n),e=zo(t,t.pendingProps),e.flags|=2,De(t),t.memoizedState=null,e}function fw(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(i.mode==="hidden")return e=zo(t,i),t.lanes=536870912,Da(null,e);if(If(t),(e=bt)?(e=WE(e,Ke),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ji!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=f0(e),n.return=t,t.child=n,ie=t,bt=null)):e=null,e===null)throw Bi(t);return t.lanes=536870912,null}return zo(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(If(t),s)if(t.flags&256)t.flags&=-257,t=ry(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(k(558));else if(Bt||Qr(e,t,n,!1),s=(n&e.childLanes)!==0,Bt||s){if(i=yt,i!==null&&(a=Pv(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Ms(e,a),we(i,e,a),um;Tu(),t=ry(e,t,n)}else e=r.treeContext,bt=Je(a.nextSibling),ie=t,lt=!0,Ii=null,Ke=!1,e!==null&&m0(t,e),t=zo(t,i),t.flags|=4096;return t}return e=jn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function jo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(k(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vf(e,t,n,i,s){return bs(t),n=Jd(e,t,n,i,void 0,s),i=Zd(),e!==null&&!Bt?(Wd(e,t,s),Qn(e,t,s)):(lt&&i&&Hd(t),t.flags|=1,te(e,t,n,s),t.child)}function ay(e,t,n,i,s,r){return bs(t),t.updateQueue=null,n=S0(t,i,n,s),A0(e),i=Zd(),e!==null&&!Bt?(Wd(e,t,r),Qn(e,t,r)):(lt&&i&&Hd(t),t.flags|=1,te(e,t,n,r),t.child)}function ly(e,t,n,i,s){if(bs(t),t.stateNode===null){var r=rr,a=n.contextType;typeof a=="object"&&a!==null&&(r=re(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Df,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Kd(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?re(a):rr,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(bh(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Df.enqueueReplaceState(r,r.state,null),Ga(t,i,r,s),Ha(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=ws(n,o);r.props=u;var h=r.context,d=n.contextType;a=rr,typeof d=="object"&&d!==null&&(a=re(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==a)&&ty(t,r,i,a),hi=!1;var m=t.memoizedState;r.state=m,Ga(t,i,r,s),Ha(),h=t.memoizedState,o||m!==h||hi?(typeof g=="function"&&(bh(t,n,g,i),h=t.memoizedState),(u=hi||Wp(t,n,u,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Sf(e,t),a=t.memoizedProps,d=ws(n,a),r.props=d,g=t.pendingProps,m=r.context,h=n.contextType,u=rr,typeof h=="object"&&h!==null&&(u=re(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==g||m!==u)&&ty(t,r,i,u),hi=!1,m=t.memoizedState,r.state=m,Ga(t,i,r,s),Ha();var v=t.memoizedState;a!==g||m!==v||hi||e!==null&&e.dependencies!==null&&cu(e.dependencies)?(typeof o=="function"&&(bh(t,n,o,i),v=t.memoizedState),(d=hi||Wp(t,n,d,i,m,v,u)||e!==null&&e.dependencies!==null&&cu(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,v,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,v,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),r.props=i,r.state=v,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,jo(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=As(t,e.child,null,s),t.child=As(t,null,n,s)):te(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Qn(e,t,s),e}function oy(e,t,n,i){return Ts(),t.flags|=256,te(e,t,n,i),t.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(e){return{baseLanes:e,cachePool:p0()}}function wh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ve),e}function oE(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(s?di(t):mi(),(e=bt)?(e=WE(e,Ke),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ji!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=f0(e),n.return=t,t.child=n,ie=t,bt=null)):e=null,e===null)throw Bi(t);return Yf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(mi(),s=t.mode,o=yu({mode:"hidden",children:o},s),i=gs(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Sh(n),i.childLanes=wh(e,a,n),t.memoizedState=Ah,Da(null,i)):(di(t),Mf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(di(t),t.flags&=-257,t=Rh(e,t,n)):t.memoizedState!==null?(mi(),t.child=e.child,t.flags|=128,t=null):(mi(),o=i.fallback,s=t.mode,i=yu({mode:"visible",children:i.children},s),o=gs(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,As(t,e.child,null,n),i=t.child,i.memoizedState=Sh(n),i.childLanes=wh(e,a,n),t.memoizedState=Ah,t=Da(null,i));else if(di(t),Yf(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(k(419)),i.stack="",i.digest=a,ol({value:i,source:null,stack:null}),t=Rh(e,t,n)}else if(Bt||Qr(e,t,n,!1),a=(n&e.childLanes)!==0,Bt||a){if(a=yt,a!==null&&(i=Pv(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Ms(e,i),we(a,e,i),um;Qf(o)||Tu(),t=Rh(e,t,n)}else Qf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,bt=Je(o.nextSibling),ie=t,lt=!0,Ii=null,Ke=!1,e!==null&&m0(t,e),t=Mf(t,i.children),t.flags|=4096);return t}return s?(mi(),o=i.fallback,s=t.mode,u=e.child,h=u.sibling,i=jn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=jn(h,o):(o=gs(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Da(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Sh(n):(s=o.cachePool,s!==null?(u=jt._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=p0(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=wh(e,a,n),t.memoizedState=Ah,Da(e.child,i)):(di(t),n=e.child,e=n.sibling,n=jn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Mf(e,t){return t=yu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yu(e,t){return e=Oe(22,e,null,t),e.lanes=0,e}function Rh(e,t,n){return As(t,e.child,null,n),e=Mf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uy(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Tf(e.return,t,n)}function Ih(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function uE(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Mt.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,vt(Mt,a),te(e,t,i,n),i=lt?ll:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,n,t);else if(e.tag===19)uy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&du(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ih(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&du(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ih(t,!0,n,null,r,i);break;case"together":Ih(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Qn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Qr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cm(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&cu(e)))}function dw(e,t,n){switch(t.tag){case 3:iu(t,t.stateNode.containerInfo),fi(t,jt,e.memoizedState.cache),Ts();break;case 27:case 5:of(t);break;case 4:iu(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,If(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(di(t),t.flags|=128,null):n&t.child.childLanes?oE(e,t,n):(di(t),e=Qn(e,t,n),e!==null?e.sibling:null);di(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Qr(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return uE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Mt,Mt.current),i)break;return null;case 22:return t.lanes=0,lE(e,t,n,t.pendingProps);case 24:fi(t,jt,e.memoizedState.cache)}return Qn(e,t,n)}function cE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!cm(e,n)&&!(t.flags&128))return Bt=!1,dw(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,lt&&t.flags&1048576&&d0(t,ll,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=cs(t.elementType),t.type=e,typeof e=="function")qd(e)?(i=ws(e,i),t.tag=1,t=ly(null,t,e,i,n)):(t.tag=0,t=Vf(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Cd){t.tag=11,t=ny(null,t,e,i,n);break t}else if(s===xd){t.tag=14,t=iy(null,t,e,i,n);break t}}throw t=af(e)||e,Error(k(306,t,""))}}return t;case 0:return Vf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=ws(i,t.pendingProps),ly(e,t,i,s,n);case 3:t:{if(iu(t,t.stateNode.containerInfo),e===null)throw Error(k(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Sf(e,t),Ga(t,i,null,n);var a=t.memoizedState;if(i=a.cache,fi(t,jt,i),i!==r.cache&&bf(t,[jt],n,!0),Ha(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=oy(e,t,i,n);break t}else if(i!==s){s=Ye(Error(k(424)),t),ol(s),t=oy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=Je(e.firstChild),ie=t,lt=!0,Ii=null,Ke=!0,n=v0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ts(),i===s){t=Qn(e,t,n);break t}te(e,t,i,n)}t=t.child}return t;case 26:return jo(e,t),e===null?(n=xy(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=wu(Ri.current).createElement(n),i[ne]=t,i[Re]=e,ae(i,n,e),Zt(i),t.stateNode=i):t.memoizedState=xy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return of(t),e===null&&lt&&(i=t.stateNode=tT(t.type,t.pendingProps,Ri.current),ie=t,Ke=!0,s=bt,Ji(t.type)?(Kf=s,bt=Je(i.firstChild)):bt=s),te(e,t,t.pendingProps.children,n),jo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((s=i=bt)&&(i=Hw(i,t.type,t.pendingProps,Ke),i!==null?(t.stateNode=i,ie=t,bt=Je(i.firstChild),Ke=!1,s=!0):s=!1),s||Bi(t)),of(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Gf(s,r)?i=null:a!==null&&Gf(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Jd(e,t,sw,null,null,n),ml._currentValue=s),jo(e,t),te(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=bt)&&(n=Gw(n,t.pendingProps,Ke),n!==null?(t.stateNode=n,ie=t,bt=null,e=!0):e=!1),e||Bi(t)),null;case 13:return oE(e,t,n);case 4:return iu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=As(t,null,i,n):te(e,t,i,n),t.child;case 11:return ny(e,t,t.type,t.pendingProps,n);case 7:return te(e,t,t.pendingProps,n),t.child;case 8:return te(e,t,t.pendingProps.children,n),t.child;case 12:return te(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,fi(t,t.type,i.value),te(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,bs(t),s=re(s),i=i(s),t.flags|=1,te(e,t,i,n),t.child;case 14:return iy(e,t,t.type,t.pendingProps,n);case 15:return aE(e,t,t.type,t.pendingProps,n);case 19:return uE(e,t,n);case 31:return fw(e,t,n);case 22:return lE(e,t,n,t.pendingProps);case 24:return bs(t),i=re(jt),e===null?(s=Qd(),s===null&&(s=yt,r=Fd(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Kd(t),fi(t,jt,s)):(e.lanes&n&&(Sf(e,t),Ga(t,null,null,n),Ha()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),fi(t,jt,i)):(i=r.cache,fi(t,jt,i),i!==s.cache&&bf(t,[jt],n,!0))),te(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(k(156,t.tag))}function Cn(e){e.flags|=4}function Ch(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(ME())e.flags|=8192;else throw ys=hu,Yd}else e.flags&=-16777217}function cy(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!iT(t))if(ME())e.flags|=8192;else throw ys=hu,Yd}function vo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kv():536870912,e.lanes|=t,xr|=t)}function Sa(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function mw(e,t,n){var i=t.pendingProps;switch(Gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Bn(jt),Ar(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qs(t)?Cn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vh())),Tt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Cn(t),r!==null?(Tt(t),cy(t,r)):(Tt(t),Ch(t,s,null,i,n))):r?r!==e.memoizedState?(Cn(t),Tt(t),cy(t,r)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Cn(t),Tt(t),Ch(t,s,e,i,n)),null;case 27:if(su(t),n=Ri.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Tt(t),null}e=gn.current,qs(t)?zp(t):(e=tT(s,i,n),t.stateNode=e,Cn(t))}return Tt(t),null;case 5:if(su(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(!i){if(t.stateNode===null)throw Error(k(166));return Tt(t),null}if(r=gn.current,qs(t))zp(t);else{var a=wu(Ri.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[ne]=t,r[Re]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;t:switch(ae(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Cn(t)}}return Tt(t),Ch(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Cn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(k(166));if(e=Ri.current,qs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=ie,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[ne]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||$E(e.nodeValue,n)),e||Bi(t,!0)}else e=wu(e).createTextNode(i),e[ne]=t,t.stateNode=e}return Tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=qs(t),n!==null){if(e===null){if(!i)throw Error(k(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(557));e[ne]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else n=vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(De(t),t):(De(t),null);if(t.flags&128)throw Error(k(558))}return Tt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=qs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[ne]=t}else Ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else s=vh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(De(t),t):(De(t),null)}return De(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),vo(t,t.updateQueue),Tt(t),null);case 4:return Ar(),e===null&&ym(t.stateNode.containerInfo),Tt(t),null;case 10:return Bn(t.type),Tt(t),null;case 19:if(Wt(Mt),i=t.memoizedState,i===null)return Tt(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Sa(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=du(e),r!==null){for(t.flags|=128,Sa(i,!1),e=r.updateQueue,t.updateQueue=e,vo(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)h0(n,e),n=n.sibling;return vt(Mt,Mt.current&1|2),lt&&On(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ke()>vu&&(t.flags|=128,s=!0,Sa(i,!1),t.lanes=4194304)}else{if(!s)if(e=du(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,vo(t,e),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!lt)return Tt(t),null}else 2*ke()-i.renderingStartTime>vu&&n!==536870912&&(t.flags|=128,s=!0,Sa(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=Mt.current,vt(Mt,s?n&1|2:n&1),lt&&On(t,i.treeForkCount),e):(Tt(t),null);case 22:case 23:return De(t),Xd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),n=t.updateQueue,n!==null&&vo(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Wt(ps),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Bn(jt),Tt(t),null;case 25:return null;case 30:return null}throw Error(k(156,t.tag))}function gw(e,t){switch(Gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(jt),Ar(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return su(t),null;case 31:if(t.memoizedState!==null){if(De(t),t.alternate===null)throw Error(k(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(De(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Mt),null;case 4:return Ar(),null;case 10:return Bn(t.type),null;case 22:case 23:return De(t),Xd(),e!==null&&Wt(ps),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bn(jt),null;case 25:return null;default:return null}}function hE(e,t){switch(Gd(t),t.tag){case 3:Bn(jt),Ar();break;case 26:case 27:case 5:su(t);break;case 4:Ar();break;case 31:t.memoizedState!==null&&De(t);break;case 13:De(t);break;case 19:Wt(Mt);break;case 10:Bn(t.type);break;case 22:case 23:De(t),Xd(),e!==null&&Wt(ps);break;case 24:Bn(jt)}}function Ul(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){dt(t,t.return,o)}}function qi(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,h=o;try{h()}catch(d){dt(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){dt(t,t.return,d)}}function fE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{T0(t,n)}catch(i){dt(e,e.return,i)}}}function dE(e,t,n){n.props=ws(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dt(e,t,i)}}function Qa(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){dt(e,t,s)}}function mn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){dt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){dt(e,t,s)}else n.current=null}function mE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){dt(e,e.return,s)}}function xh(e,t,n){try{var i=e.stateNode;Lw(i,e.type,n,t),i[Re]=t}catch(s){dt(e,e.return,s)}}function gE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function Nh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Un));else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(kf(e,t,n),e=e.sibling;e!==null;)kf(e,t,n),e=e.sibling}function _u(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Ji(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(_u(e,t,n),e=e.sibling;e!==null;)_u(e,t,n),e=e.sibling}function pE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ae(t,i,n),t[ne]=e,t[Re]=n}catch(r){dt(e,e.return,r)}}var Vn=!1,zt=!1,Dh=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function pw(e,t){if(e=e.containerInfo,qf=xu,e=i0(e),zd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(o=a+s),g!==r||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break e;if(m===n&&++h===s&&(o=a),m===r&&++d===i&&(u=a),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hf={focusedElem:e,selectionRange:n},xu=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var D=ws(n.type,s);e=i.getSnapshotBeforeUpdate(D,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){dt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ff(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ff(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(k(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function yE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n),i&4&&Ul(5,n);break;case 1:if(Nn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){dt(n,n.return,a)}else{var s=ws(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){dt(n,n.return,a)}}i&64&&fE(n),i&512&&Qa(n,n.return);break;case 3:if(Nn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{T0(e,t)}catch(a){dt(n,n.return,a)}}break;case 27:t===null&&i&4&&pE(n);case 26:case 5:Nn(e,n),t===null&&i&4&&mE(n),i&512&&Qa(n,n.return);break;case 12:Nn(e,n);break;case 31:Nn(e,n),i&4&&EE(e,n);break;case 13:Nn(e,n),i&4&&TE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ww.bind(null,n),Fw(e,n))));break;case 22:if(i=n.memoizedState!==null||Vn,!i){t=t!==null&&t.memoizedState!==null||zt,s=Vn;var r=zt;Vn=i,(zt=t)&&!r?Dn(e,n,(n.subtreeFlags&8772)!==0):Nn(e,n),Vn=s,zt=r}break;case 30:break;default:Nn(e,n)}}function _E(e){var t=e.alternate;t!==null&&(e.alternate=null,_E(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,Te=!1;function xn(e,t,n){for(n=n.child;n!==null;)vE(e,t,n),n=n.sibling}function vE(e,t,n){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(xl,n)}catch{}switch(n.tag){case 26:zt||mn(n,t),xn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:zt||mn(n,t);var i=Rt,s=Te;Ji(n.type)&&(Rt=n.stateNode,Te=!1),xn(e,t,n),$a(n.stateNode),Rt=i,Te=s;break;case 5:zt||mn(n,t);case 6:if(i=Rt,s=Te,Rt=null,xn(e,t,n),Rt=i,Te=s,Rt!==null)if(Te)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(r){dt(n,t,r)}else try{Rt.removeChild(n.stateNode)}catch(r){dt(n,t,r)}break;case 18:Rt!==null&&(Te?(e=Rt,Sy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Vr(e)):Sy(Rt,n.stateNode));break;case 4:i=Rt,s=Te,Rt=n.stateNode.containerInfo,Te=!0,xn(e,t,n),Rt=i,Te=s;break;case 0:case 11:case 14:case 15:qi(2,n,t),zt||qi(4,n,t),xn(e,t,n);break;case 1:zt||(mn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&dE(n,t,i)),xn(e,t,n);break;case 21:xn(e,t,n);break;case 22:zt=(i=zt)||n.memoizedState!==null,xn(e,t,n),zt=i;break;default:xn(e,t,n)}}function EE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vr(e)}catch(n){dt(t,t.return,n)}}}function TE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vr(e)}catch(n){dt(t,t.return,n)}}function yw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hy),t;default:throw Error(k(435,e.tag))}}function Eo(e,t){var n=yw(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=Rw.bind(null,e,i);i.then(s,s)}})}function ve(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(Ji(o.type)){Rt=o.stateNode,Te=!1;break t}break;case 5:Rt=o.stateNode,Te=!1;break t;case 3:case 4:Rt=o.stateNode.containerInfo,Te=!0;break t}o=o.return}if(Rt===null)throw Error(k(160));vE(r,a,s),Rt=null,Te=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bE(t,e),t=t.sibling}var en=null;function bE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ve(t,e),Ee(e),i&4&&(qi(3,e,e.return),Ul(3,e),qi(5,e,e.return));break;case 1:ve(t,e),Ee(e),i&512&&(zt||n===null||mn(n,n.return)),i&64&&Vn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=en;if(ve(t,e),Ee(e),i&512&&(zt||n===null||mn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Ol]||r[ne]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ae(r,i,n),r[ne]=e,Zt(r),i=r;break t;case"link":var a=Dy("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ae(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Dy("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ae(r,i,n),s.head.appendChild(r);break;default:throw Error(k(468,i))}r[ne]=e,Zt(r),i=r}e.stateNode=i}else Oy(s,e.type,e.stateNode);else e.stateNode=Ny(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Oy(s,e.type,e.stateNode):Ny(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&xh(e,e.memoizedProps,n.memoizedProps)}break;case 27:ve(t,e),Ee(e),i&512&&(zt||n===null||mn(n,n.return)),n!==null&&i&4&&xh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ve(t,e),Ee(e),i&512&&(zt||n===null||mn(n,n.return)),e.flags&32){s=e.stateNode;try{wr(s,"")}catch(D){dt(e,e.return,D)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,xh(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Dh=!0);break;case 6:if(ve(t,e),Ee(e),i&4){if(e.stateNode===null)throw Error(k(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(D){dt(e,e.return,D)}}break;case 3:if(Ho=null,s=en,en=Ru(t.containerInfo),ve(t,e),en=s,Ee(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(t.containerInfo)}catch(D){dt(e,e.return,D)}Dh&&(Dh=!1,AE(e));break;case 4:i=en,en=Ru(e.stateNode.containerInfo),ve(t,e),Ee(e),en=i;break;case 12:ve(t,e),Ee(e);break;case 31:ve(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Eo(e,i)));break;case 13:ve(t,e),Ee(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cc=ke()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Eo(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Vn,d=zt;if(Vn=h||s,zt=d||u,ve(t,e),zt=d,Vn=h,Ee(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||Vn||zt||hs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(D){dt(u,u.return,D)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(D){dt(u,u.return,D)}}}else if(t.tag===18){if(n===null){u=t;try{var v=u.stateNode;s?wy(v,!0):wy(u.stateNode,!1)}catch(D){dt(u,u.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Eo(e,n))));break;case 19:ve(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Eo(e,i)));break;case 30:break;case 21:break;default:ve(t,e),Ee(e)}}function Ee(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(gE(i)){n=i;break}i=i.return}if(n==null)throw Error(k(160));switch(n.tag){case 27:var s=n.stateNode,r=Nh(e);_u(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(wr(a,""),n.flags&=-33);var o=Nh(e);_u(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Nh(e);kf(e,h,u);break;default:throw Error(k(161))}}catch(d){dt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yE(e,t.alternate,t),t=t.sibling}function hs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qi(4,t,t.return),hs(t);break;case 1:mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&dE(t,t.return,n),hs(t);break;case 27:$a(t.stateNode);case 26:case 5:mn(t,t.return),hs(t);break;case 22:t.memoizedState===null&&hs(t);break;case 30:hs(t);break;default:hs(t)}e=e.sibling}}function Dn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Dn(s,r,n),Ul(4,r);break;case 1:if(Dn(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){dt(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)E0(u[s],o)}catch(h){dt(i,i.return,h)}}n&&a&64&&fE(r),Qa(r,r.return);break;case 27:pE(r);case 26:case 5:Dn(s,r,n),n&&i===null&&a&4&&mE(r),Qa(r,r.return);break;case 12:Dn(s,r,n);break;case 31:Dn(s,r,n),n&&a&4&&EE(s,r);break;case 13:Dn(s,r,n),n&&a&4&&TE(s,r);break;case 22:r.memoizedState===null&&Dn(s,r,n),Qa(r,r.return);break;case 30:break;default:Dn(s,r,n)}t=t.sibling}}function hm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ml(n))}function fm(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ml(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)SE(e,t,n,i),t=t.sibling}function SE(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),s&2048&&Ul(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ml(e)));break;case 12:if(s&2048){tn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){dt(t,t.return,u)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?tn(e,t,n,i):Ya(e,t):r._visibility&2?tn(e,t,n,i):(r._visibility|=2,Fs(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&hm(a,t);break;case 24:tn(e,t,n,i),s&2048&&fm(t.alternate,t);break;default:tn(e,t,n,i)}}function Fs(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Fs(r,a,o,u,s),Ul(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Fs(r,a,o,u,s):Ya(r,a):(d._visibility|=2,Fs(r,a,o,u,s)),s&&h&2048&&hm(a.alternate,a);break;case 24:Fs(r,a,o,u,s),s&&h&2048&&fm(a.alternate,a);break;default:Fs(r,a,o,u,s)}t=t.sibling}}function Ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Ya(n,i),s&2048&&hm(i.alternate,i);break;case 24:Ya(n,i),s&2048&&fm(i.alternate,i);break;default:Ya(n,i)}t=t.sibling}}var Oa=8192;function Hs(e,t,n){if(e.subtreeFlags&Oa)for(e=e.child;e!==null;)wE(e,t,n),e=e.sibling}function wE(e,t,n){switch(e.tag){case 26:Hs(e,t,n),e.flags&Oa&&e.memoizedState!==null&&iR(n,en,e.memoizedState,e.memoizedProps);break;case 5:Hs(e,t,n);break;case 3:case 4:var i=en;en=Ru(e.stateNode.containerInfo),Hs(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Oa,Oa=16777216,Hs(e,t,n),Oa=i):Hs(e,t,n));break;default:Hs(e,t,n)}}function RE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Jt=i,CE(i,e)}RE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)IE(e),e=e.sibling}function IE(e){switch(e.tag){case 0:case 11:case 15:wa(e),e.flags&2048&&qi(9,e,e.return);break;case 3:wa(e);break;case 12:wa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bo(e)):wa(e);break;default:wa(e)}}function Bo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Jt=i,CE(i,e)}RE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qi(8,t,t.return),Bo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Bo(t));break;default:Bo(t)}e=e.sibling}}function CE(e,t){for(;Jt!==null;){var n=Jt;switch(n.tag){case 0:case 11:case 15:qi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ml(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Jt=i;else t:for(n=e;Jt!==null;){i=Jt;var s=i.sibling,r=i.return;if(_E(i),i===n){Jt=null;break t}if(s!==null){s.return=r,Jt=s;break t}Jt=r}}}var _w={getCacheForType:function(e){var t=re(jt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return re(jt).controller.signal}},vw=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,nt=null,at=0,ft=0,Ne=null,bi=!1,Kr=!1,dm=!1,Yn=0,Ot=0,Hi=0,_s=0,mm=0,Ve=0,xr=0,Ka=null,be=null,Uf=!1,cc=0,xE=0,vu=1/0,Eu=null,Ni=null,Ft=0,Di=null,Nr=null,qn=0,Lf=0,Pf=null,NE=null,Xa=0,zf=null;function Pe(){return ut&2&&at!==0?at&-at:Q.T!==null?pm():zv()}function DE(){if(Ve===0)if(!(at&536870912)||lt){var e=ho;ho<<=1,!(ho&3932160)&&(ho=262144),Ve=e}else Ve=536870912;return e=je.current,e!==null&&(e.flags|=32),Ve}function we(e,t,n){(e===yt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Dr(e,0),Ai(e,at,Ve,!1)),Dl(e,n),(!(ut&2)||e!==yt)&&(e===yt&&(!(ut&2)&&(_s|=n),Ot===4&&Ai(e,at,Ve,!1)),Rn(e))}function OE(e,t,n){if(ut&6)throw Error(k(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Nl(e,t),s=i?bw(e,t):Oh(e,t,!0),r=i;do{if(s===0){Kr&&!i&&Ai(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Ew(n)){s=Oh(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=Ka;var u=o.current.memoizedState.isDehydrated;if(u&&(Dr(o,a).flags|=256),a=Oh(o,a,!1),a!==2){if(dm&&!u){o.errorRecoveryDisabledLanes|=r,_s|=r,s=4;break t}r=be,be=s,r!==null&&(be===null?be=r:be.push.apply(be,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Dr(e,0),Ai(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(k(345));case 4:if((t&4194048)!==t)break;case 6:Ai(i,t,Ve,!bi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(k(329))}if((t&62914560)===t&&(s=cc+300-ke(),10<s)){if(Ai(i,t,Ve,!bi),Wu(i,0,!0)!==0)break t;qn=t,i.timeoutHandle=ZE(fy.bind(null,i,n,be,Eu,Uf,t,Ve,_s,xr,bi,r,"Throttled",-0,0),s);break t}fy(i,n,be,Eu,Uf,t,Ve,_s,xr,bi,r,null,-0,0)}}break}while(!0);Rn(e)}function fy(e,t,n,i,s,r,a,o,u,h,d,g,m,v){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},wE(t,r,g);var D=(r&62914560)===r?cc-ke():(r&4194048)===r?xE-ke():0;if(D=sR(g,D),D!==null){qn=r,e.cancelPendingCommit=D(my.bind(null,e,t,r,n,i,s,a,o,u,d,g,null,m,v)),Ai(e,r,a,!h);return}}my(e,t,r,n,i,s,a,o,u)}function Ew(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ze(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ai(e,t,n,i){t&=~mm,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Le(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Uv(e,n,t)}function hc(){return ut&6?!0:(Ll(0),!1)}function gm(){if(nt!==null){if(ft===0)var e=nt.return;else e=nt,Ln=ks=null,tm(e),mr=null,ul=0,e=nt;for(;e!==null;)hE(e.alternate,e),e=e.return;nt=null}}function Dr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),qn=0,gm(),yt=e,nt=n=jn(e.current,null),at=t,ft=0,Ne=null,bi=!1,Kr=Nl(e,t),dm=!1,xr=Ve=mm=_s=Hi=Ot=0,be=Ka=null,Uf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Le(i),r=1<<s;t|=e[s],i&=~r}return Yn=t,ic(),n}function VE(e,t){Z=null,Q.H=hl,t===Yr||t===rc?(t=Gp(),ft=3):t===Yd?(t=Gp(),ft=4):ft=t===um?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ne=t,nt===null&&(Ot=1,pu(e,Ye(t,e.current)))}function ME(){var e=je.current;return e===null?!0:(at&4194048)===at?$e===null:(at&62914560)===at||at&536870912?e===$e:!1}function kE(){var e=Q.H;return Q.H=hl,e===null?hl:e}function UE(){var e=Q.A;return Q.A=_w,e}function Tu(){Ot=4,bi||(at&4194048)!==at&&je.current!==null||(Kr=!0),!(Hi&134217727)&&!(_s&134217727)||yt===null||Ai(yt,at,Ve,!1)}function Oh(e,t,n){var i=ut;ut|=2;var s=kE(),r=UE();(yt!==e||at!==t)&&(Eu=null,Dr(e,t)),t=!1;var a=Ot;t:do try{if(ft!==0&&nt!==null){var o=nt,u=Ne;switch(ft){case 8:gm(),a=6;break t;case 3:case 2:case 9:case 6:je.current===null&&(t=!0);var h=ft;if(ft=0,Ne=null,or(e,o,u,h),n&&Kr){a=0;break t}break;default:h=ft,ft=0,Ne=null,or(e,o,u,h)}}Tw(),a=Ot;break}catch(d){VE(e,d)}while(!0);return t&&e.shellSuspendCounter++,Ln=ks=null,ut=i,Q.H=s,Q.A=r,nt===null&&(yt=null,at=0,ic()),a}function Tw(){for(;nt!==null;)LE(nt)}function bw(e,t){var n=ut;ut|=2;var i=kE(),s=UE();yt!==e||at!==t?(Eu=null,vu=ke()+500,Dr(e,t)):Kr=Nl(e,t);t:do try{if(ft!==0&&nt!==null){t=nt;var r=Ne;e:switch(ft){case 1:ft=0,Ne=null,or(e,t,r,1);break;case 2:case 9:if(Hp(r)){ft=0,Ne=null,dy(t);break}t=function(){ft!==2&&ft!==9||yt!==e||(ft=7),Rn(e)},r.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:Hp(r)?(ft=0,Ne=null,dy(t)):(ft=0,Ne=null,or(e,t,r,7));break;case 5:var a=null;switch(nt.tag){case 26:a=nt.memoizedState;case 5:case 27:var o=nt;if(a?iT(a):o.stateNode.complete){ft=0,Ne=null;var u=o.sibling;if(u!==null)nt=u;else{var h=o.return;h!==null?(nt=h,fc(h)):nt=null}break e}}ft=0,Ne=null,or(e,t,r,5);break;case 6:ft=0,Ne=null,or(e,t,r,6);break;case 8:gm(),Ot=6;break t;default:throw Error(k(462))}}Aw();break}catch(d){VE(e,d)}while(!0);return Ln=ks=null,Q.H=i,Q.A=s,ut=n,nt!==null?0:(yt=null,at=0,ic(),Ot)}function Aw(){for(;nt!==null&&!QA();)LE(nt)}function LE(e){var t=cE(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?fc(e):nt=t}function dy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ay(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=ay(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:tm(t);default:hE(n,t),t=nt=h0(t,Yn),t=cE(n,t,Yn)}e.memoizedProps=e.pendingProps,t===null?fc(e):nt=t}function or(e,t,n,i){Ln=ks=null,tm(t),mr=null,ul=0;var s=t.return;try{if(hw(e,s,t,n,at)){Ot=1,pu(e,Ye(n,e.current)),nt=null;return}}catch(r){if(s!==null)throw nt=s,r;Ot=1,pu(e,Ye(n,e.current)),nt=null;return}t.flags&32768?(lt||i===1?e=!0:Kr||at&536870912?e=!1:(bi=e=!0,(i===2||i===9||i===3||i===6)&&(i=je.current,i!==null&&i.tag===13&&(i.flags|=16384))),PE(t,e)):fc(t)}function fc(e){var t=e;do{if(t.flags&32768){PE(t,bi);return}e=t.return;var n=mw(t.alternate,t,Yn);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Ot===0&&(Ot=5)}function PE(e,t){do{var n=gw(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Ot=6,nt=null}function my(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do dc();while(Ft!==0);if(ut&6)throw Error(k(327));if(t!==null){if(t===e.current)throw Error(k(177));if(r=t.lanes|t.childLanes,r|=jd,nS(e,n,r,a,o,u),e===yt&&(nt=yt=null,at=0),Nr=t,Di=e,qn=n,Lf=r,Pf=s,NE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Iw(ru,function(){return HE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=ct.p,ct.p=2,a=ut,ut|=4;try{pw(e,t,n)}finally{ut=a,ct.p=s,Q.T=i}}Ft=1,zE(),jE(),BE()}}function zE(){if(Ft===1){Ft=0;var e=Di,t=Nr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=ut;ut|=4;try{bE(t,e);var r=Hf,a=i0(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&n0(o.ownerDocument.documentElement,o)){if(u!==null&&zd(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var g=o.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var v=m.getSelection(),D=o.textContent.length,M=Math.min(u.start,D),V=u.end===void 0?M:Math.min(u.end,D);!v.extend&&M>V&&(a=V,V=M,M=a);var b=Up(o,M),E=Up(o,V);if(b&&E&&(v.rangeCount!==1||v.anchorNode!==b.node||v.anchorOffset!==b.offset||v.focusNode!==E.node||v.focusOffset!==E.offset)){var w=g.createRange();w.setStart(b.node,b.offset),v.removeAllRanges(),M>V?(v.addRange(w),v.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),v.addRange(w))}}}}for(g=[],v=o;v=v.parentNode;)v.nodeType===1&&g.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<g.length;o++){var I=g[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}xu=!!qf,Hf=qf=null}finally{ut=s,ct.p=i,Q.T=n}}e.current=t,Ft=2}}function jE(){if(Ft===2){Ft=0;var e=Di,t=Nr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=ut;ut|=4;try{yE(e,t.alternate,t)}finally{ut=s,ct.p=i,Q.T=n}}Ft=3}}function BE(){if(Ft===4||Ft===3){Ft=0,YA();var e=Di,t=Nr,n=qn,i=NE;t.subtreeFlags&10256||t.flags&10256?Ft=5:(Ft=0,Nr=Di=null,qE(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ni=null),Od(n),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(xl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,s=ct.p,ct.p=2,Q.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{Q.T=t,ct.p=s}}qn&3&&dc(),Rn(e),s=e.pendingLanes,n&261930&&s&42?e===zf?Xa++:(Xa=0,zf=e):Xa=0,Ll(0)}}function qE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ml(t)))}function dc(){return zE(),jE(),BE(),HE()}function HE(){if(Ft!==5)return!1;var e=Di,t=Lf;Lf=0;var n=Od(qn),i=Q.T,s=ct.p;try{ct.p=32>n?32:n,Q.T=null,n=Pf,Pf=null;var r=Di,a=qn;if(Ft=0,Nr=Di=null,qn=0,ut&6)throw Error(k(331));var o=ut;if(ut|=4,IE(r.current),SE(r,r.current,a,n),ut=o,Ll(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(xl,r)}catch{}return!0}finally{ct.p=s,Q.T=i,qE(e,t)}}function gy(e,t,n){t=Ye(n,t),t=Of(e.stateNode,t,2),e=xi(e,t,2),e!==null&&(Dl(e,2),Rn(e))}function dt(e,t,n){if(e.tag===3)gy(e,e,n);else for(;t!==null;){if(t.tag===3){gy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ni===null||!Ni.has(i))){e=Ye(n,e),n=sE(2),i=xi(t,n,2),i!==null&&(rE(n,i,t,e),Dl(i,2),Rn(i));break}}t=t.return}}function Vh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new vw;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(dm=!0,s.add(n),e=Sw.bind(null,e,t,n),t.then(e,e))}function Sw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&(at&n)===n&&(Ot===4||Ot===3&&(at&62914560)===at&&300>ke()-cc?!(ut&2)&&Dr(e,0):mm|=n,xr===at&&(xr=0)),Rn(e)}function GE(e,t){t===0&&(t=kv()),e=Ms(e,t),e!==null&&(Dl(e,t),Rn(e))}function ww(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),GE(e,n)}function Rw(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(k(314))}i!==null&&i.delete(t),GE(e,n)}function Iw(e,t){return Nd(e,t)}var bu=null,Qs=null,jf=!1,Au=!1,Mh=!1,Si=0;function Rn(e){e!==Qs&&e.next===null&&(Qs===null?bu=Qs=e:Qs=Qs.next=e),Au=!0,jf||(jf=!0,xw())}function Ll(e,t){if(!Mh&&Au){Mh=!0;do for(var n=!1,i=bu;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Le(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,py(i,r))}else r=at,r=Wu(i,i===yt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Nl(i,r)||(n=!0,py(i,r));i=i.next}while(n);Mh=!1}}function Cw(){FE()}function FE(){Au=jf=!1;var e=0;Si!==0&&zw()&&(e=Si);for(var t=ke(),n=null,i=bu;i!==null;){var s=i.next,r=QE(i,t);r===0?(i.next=null,n===null?bu=s:n.next=s,s===null&&(Qs=n)):(n=i,(e!==0||r&3)&&(Au=!0)),i=s}Ft!==0&&Ft!==5||Ll(e),Si!==0&&(Si=0)}function QE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Le(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=eS(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=yt,n=at,n=Wu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&oh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Nl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&oh(i),Od(n)){case 2:case 8:n=Vv;break;case 32:n=ru;break;case 268435456:n=Mv;break;default:n=ru}return i=YE.bind(null,e),n=Nd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&oh(i),e.callbackPriority=2,e.callbackNode=null,2}function YE(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var i=at;return i=Wu(e,e===yt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(OE(e,i,t),QE(e,ke()),e.callbackNode!=null&&e.callbackNode===n?YE.bind(null,e):null)}function py(e,t){if(dc())return null;OE(e,t,!0)}function xw(){Bw(function(){ut&6?Nd(Ov,Cw):FE()})}function pm(){if(Si===0){var e=Rr;e===0&&(e=co,co<<=1,!(co&261888)&&(co=256)),Si=e}return Si}function yy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Oo(""+e)}function _y(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Nw(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=yy((s[Re]||null).action),a=i.submitter;a&&(t=(t=a[Re]||null)?yy(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new tc("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Si!==0){var u=a?_y(s,a):new FormData(s);Nf(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?_y(s,a):new FormData(s),Nf(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var kh=0;kh<_f.length;kh++){var Uh=_f[kh],Dw=Uh.toLowerCase(),Ow=Uh[0].toUpperCase()+Uh.slice(1);rn(Dw,"on"+Ow)}rn(r0,"onAnimationEnd");rn(a0,"onAnimationIteration");rn(l0,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(KS,"onTransitionRun");rn(XS,"onTransitionStart");rn($S,"onTransitionCancel");rn(o0,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function KE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=h;try{r(s)}catch(d){lu(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=h;try{r(s)}catch(d){lu(d)}s.currentTarget=null,r=u}}}}function et(e,t){var n=t[cf];n===void 0&&(n=t[cf]=new Set);var i=e+"__bubble";n.has(i)||(XE(t,e,2,!1),n.add(i))}function Lh(e,t,n){var i=0;t&&(i|=4),XE(n,e,i,t)}var To="_reactListening"+Math.random().toString(36).slice(2);function ym(e){if(!e[To]){e[To]=!0,jv.forEach(function(n){n!=="selectionchange"&&(Vw.has(n)||Lh(n,!1,e),Lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[To]||(t[To]=!0,Lh("selectionchange",!1,t))}}function XE(e,t,n,i){switch(oT(t)){case 2:var s=lR;break;case 8:s=oR;break;default:s=Tm}n=s.bind(null,t,n,e),s=void 0,!gf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ph(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue t}o=o.parentNode}}i=i.return}Kv(function(){var h=r,d=kd(n),g=[];t:{var m=u0.get(e);if(m!==void 0){var v=tc,D=e;switch(e){case"keypress":if(Mo(n)===0)break t;case"keydown":case"keyup":v=RS;break;case"focusin":D="focus",v=dh;break;case"focusout":D="blur",v=dh;break;case"beforeblur":case"afterblur":v=dh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xS;break;case r0:case a0:case l0:v=yS;break;case o0:v=DS;break;case"scroll":case"scrollend":v=fS;break;case"wheel":v=VS;break;case"copy":case"cut":case"paste":v=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cp;break;case"toggle":case"beforetoggle":v=kS}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),b=M?m!==null?m+"Capture":null:m;M=[];for(var E=h,w;E!==null;){var I=E;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||b===null||(I=sl(E,b),I!=null&&M.push(dl(E,I,w))),V)break;E=E.return}0<M.length&&(m=new v(m,D,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==mf&&(D=n.relatedTarget||n.fromElement)&&(Ws(D)||D[Gr]))break t;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(D=n.relatedTarget||n.toElement,v=h,D=D?Ws(D):null,D!==null&&(V=Cl(D),M=D.tag,D!==V||M!==5&&M!==27&&M!==6)&&(D=null)):(v=null,D=h),v!==D)){if(M=Rp,I="onMouseLeave",b="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(M=Cp,I="onPointerLeave",b="onPointerEnter",E="pointer"),V=v==null?m:Na(v),w=D==null?m:Na(D),m=new M(I,E+"leave",v,n,d),m.target=V,m.relatedTarget=w,I=null,Ws(d)===h&&(M=new M(b,E+"enter",D,n,d),M.target=w,M.relatedTarget=V,I=M),V=I,v&&D)e:{for(M=Mw,b=v,E=D,w=0,I=b;I;I=M(I))w++;I=0;for(var U=E;U;U=M(U))I++;for(;0<w-I;)b=M(b),w--;for(;0<I-w;)E=M(E),I--;for(;w--;){if(b===E||E!==null&&b===E.alternate){M=b;break e}b=M(b),E=M(E)}M=null}else M=null;v!==null&&vy(g,m,v,M,!1),D!==null&&V!==null&&vy(g,V,D,M,!0)}}t:{if(m=h?Na(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var z=Op;else if(Dp(m))if(t0)z=FS;else{z=HS;var _=qS}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Md(h.elementType)&&(z=Op):z=GS;if(z&&(z=z(e,h))){Wv(g,z,n,d);break t}_&&_(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&df(m,"number",m.value)}switch(_=h?Na(h):window,e){case"focusin":(Dp(_)||_.contentEditable==="true")&&(nr=_,pf=h,ja=null);break;case"focusout":ja=pf=nr=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,Lp(g,n,d);break;case"selectionchange":if(YS)break;case"keydown":case"keyup":Lp(g,n,d)}var y;if(Pd)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else er?Jv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($v&&n.locale!=="ko"&&(er||T!=="onCompositionStart"?T==="onCompositionEnd"&&er&&(y=Xv()):(Ti=d,Ud="value"in Ti?Ti.value:Ti.textContent,er=!0)),_=Su(h,T),0<_.length&&(T=new Ip(T,e,null,n,d),g.push({event:T,listeners:_}),y?T.data=y:(y=Zv(n),y!==null&&(T.data=y)))),(y=LS?PS(e,n):zS(e,n))&&(T=Su(h,"onBeforeInput"),0<T.length&&(_=new Ip("onBeforeInput","beforeinput",null,n,d),g.push({event:_,listeners:T}),_.data=y)),Nw(g,e,h,n,d)}KE(g,t)})}function dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Su(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=sl(e,n),s!=null&&i.unshift(dl(e,s,r)),s=sl(e,t),s!=null&&i.push(dl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Mw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vy(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,s?(h=sl(n,r),h!=null&&a.unshift(dl(n,h,u))):s||(h=sl(n,r),h!=null&&a.push(dl(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var kw=/\r\n?/g,Uw=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(kw,`
`).replace(Uw,"")}function $E(e,t){return t=Ey(t),Ey(e)===t}function mt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||wr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&wr(e,""+i);break;case"className":mo(e,"class",i);break;case"tabIndex":mo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(e,n,i);break;case"style":Yv(e,i,r);break;case"data":if(t!=="object"){mo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Oo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",s.name,s,null),mt(e,t,"formEncType",s.formEncType,s,null),mt(e,t,"formMethod",s.formMethod,s,null),mt(e,t,"formTarget",s.formTarget,s,null)):(mt(e,t,"encType",s.encType,s,null),mt(e,t,"method",s.method,s,null),mt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Oo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Un);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Oo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":et("beforetoggle",e),et("toggle",e),Do(e,"popover",i);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Do(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cS.get(n)||n,Do(e,n,i))}}function Bf(e,t,n,i,s,r){switch(n){case"style":Yv(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(k(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(k(60));e.innerHTML=n}}break;case"children":typeof i=="string"?wr(e,i):(typeof i=="number"||typeof i=="bigint")&&wr(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Re]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Do(e,n,i)}}}function ae(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:mt(e,t,r,a,n,null)}}s&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var o=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(k(137,t));break;default:mt(e,t,i,d,n,null)}}Gv(e,r,o,u,h,a,s,!1);return;case"select":et("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:mt(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?hr(e,!!i,t,!1):n!=null&&hr(e,!!i,n,!0);return;case"textarea":et("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(k(91));break;default:mt(e,t,a,o,n,null)}Qv(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<fl.length;i++)et(fl[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(k(137,t));default:mt(e,t,h,i,n,null)}return;default:if(Md(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Bf(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&mt(e,t,o,i,n,null))}function Lw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,h=null,d=null;for(v in n){var g=n[v];if(n.hasOwnProperty(v)&&g!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(v)||mt(e,t,v,null,i,g)}}for(var m in i){var v=i[m];if(g=n[m],i.hasOwnProperty(m)&&(v!=null||g!=null))switch(m){case"type":r=v;break;case"name":s=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(k(137,t));break;default:v!==g&&mt(e,t,m,v,i,g)}}ff(e,a,o,u,h,d,r,s);return;case"select":v=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(r)||mt(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&mt(e,t,s,r,i,u)}t=o,n=a,i=v,m!=null?hr(e,!!n,m,!1):!!i!=!!n&&(t!=null?hr(e,!!n,t,!0):hr(e,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:mt(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":v=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(k(91));break;default:s!==r&&mt(e,t,a,s,i,r)}Fv(e,m,v);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:mt(e,t,D,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&mt(e,t,M,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(k(137,t));break;default:mt(e,t,h,m,i,v)}return;default:if(Md(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Bf(e,t,V,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||Bf(e,t,d,m,i,v);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&mt(e,t,b,null,i,m);for(g in i)m=i[g],v=n[g],!i.hasOwnProperty(g)||m===v||m==null&&v==null||mt(e,t,g,m,i,v)}function Ty(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&Ty(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var d=u.transferSize,g=u.initiatorType;d&&Ty(g)&&(u=u.responseEnd,a+=d*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qf=null,Hf=null;function wu(e){return e.nodeType===9?e:e.ownerDocument}function by(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zh=null;function zw(){var e=window.event;return e&&e.type==="popstate"?e===zh?!1:(zh=e,!0):(zh=null,!1)}var ZE=typeof setTimeout=="function"?setTimeout:void 0,jw=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(e){return Ay.resolve(null).then(e).catch(qw)}:ZE;function qw(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function Sy(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Vr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")$a(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,$a(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Ol]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&$a(e.ownerDocument.body);n=s}while(n);Vr(t)}function wy(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Ff(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ff(n),Vd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hw(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ol])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Je(e.nextSibling),e===null)break}return null}function Gw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Je(e.nextSibling),e===null))return null;return e}function WE(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Je(e.nextSibling),e===null))return null;return e}function Qf(e){return e.data==="$?"||e.data==="$~"}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fw(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Je(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Kf=null;function Ry(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Je(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Iy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function tT(e,t,n){switch(t=wu(n),e){case"html":if(e=t.documentElement,!e)throw Error(k(452));return e;case"head":if(e=t.head,!e)throw Error(k(453));return e;case"body":if(e=t.body,!e)throw Error(k(454));return e;default:throw Error(k(451))}}function $a(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vd(e)}var Ze=new Map,Cy=new Set;function Ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wn=ct.d;ct.d={f:Qw,r:Yw,D:Kw,C:Xw,L:$w,m:Jw,X:Ww,S:Zw,M:tR};function Qw(){var e=Wn.f(),t=hc();return e||t}function Yw(e){var t=Fr(e);t!==null&&t.tag===5&&t.type==="form"?Y0(t):Wn.r(e)}var Xr=typeof document>"u"?null:document;function eT(e,t,n){var i=Xr;if(i&&typeof t=="string"&&t){var s=Qe(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Cy.has(s)||(Cy.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ae(t,"link",e),Zt(t),i.head.appendChild(t)))}}function Kw(e){Wn.D(e),eT("dns-prefetch",e,null)}function Xw(e,t){Wn.C(e,t),eT("preconnect",e,t)}function $w(e,t,n){Wn.L(e,t,n);var i=Xr;if(i&&e&&t){var s='link[rel="preload"][as="'+Qe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Qe(n.imageSizes)+'"]')):s+='[href="'+Qe(e)+'"]';var r=s;switch(t){case"style":r=Or(e);break;case"script":r=$r(e)}Ze.has(r)||(e=wt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ze.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Pl(r))||t==="script"&&i.querySelector(zl(r))||(t=i.createElement("link"),ae(t,"link",e),Zt(t),i.head.appendChild(t)))}}function Jw(e,t){Wn.m(e,t);var n=Xr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Qe(i)+'"][href="'+Qe(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=$r(e)}if(!Ze.has(r)&&(e=wt({rel:"modulepreload",href:e},t),Ze.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zl(r)))return}i=n.createElement("link"),ae(i,"link",e),Zt(i),n.head.appendChild(i)}}}function Zw(e,t,n){Wn.S(e,t,n);var i=Xr;if(i&&e){var s=cr(i).hoistableStyles,r=Or(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Pl(r)))o.loading=5;else{e=wt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ze.get(r))&&_m(e,n);var u=a=i.createElement("link");Zt(u),ae(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,qo(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function Ww(e,t){Wn.X(e,t);var n=Xr;if(n&&e){var i=cr(n).hoistableScripts,s=$r(e),r=i.get(s);r||(r=n.querySelector(zl(s)),r||(e=wt({src:e,async:!0},t),(t=Ze.get(s))&&vm(e,t),r=n.createElement("script"),Zt(r),ae(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function tR(e,t){Wn.M(e,t);var n=Xr;if(n&&e){var i=cr(n).hoistableScripts,s=$r(e),r=i.get(s);r||(r=n.querySelector(zl(s)),r||(e=wt({src:e,async:!0,type:"module"},t),(t=Ze.get(s))&&vm(e,t),r=n.createElement("script"),Zt(r),ae(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function xy(e,t,n,i){var s=(s=Ri.current)?Ru(s):null;if(!s)throw Error(k(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Or(n.href),n=cr(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Or(n.href);var r=cr(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(Pl(e)))&&!r._p&&(a.instance=r,a.state.loading=5),Ze.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ze.set(e,n),r||eR(s,e,n,a.state))),t&&i===null)throw Error(k(528,""));return a}if(t&&i!==null)throw Error(k(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$r(n),n=cr(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(k(444,e))}}function Or(e){return'href="'+Qe(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function nT(e){return wt({},e,{"data-precedence":e.precedence,precedence:null})}function eR(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ae(t,"link",n),Zt(t),e.head.appendChild(t))}function $r(e){return'[src="'+Qe(e)+'"]'}function zl(e){return"script[async]"+e}function Ny(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qe(n.href)+'"]');if(i)return t.instance=i,Zt(i),i;var s=wt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Zt(i),ae(i,"style",s),qo(i,n.precedence,e),t.instance=i;case"stylesheet":s=Or(n.href);var r=e.querySelector(Pl(s));if(r)return t.state.loading|=4,t.instance=r,Zt(r),r;i=nT(n),(s=Ze.get(s))&&_m(i,s),r=(e.ownerDocument||e).createElement("link"),Zt(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ae(r,"link",i),t.state.loading|=4,qo(r,n.precedence,e),t.instance=r;case"script":return r=$r(n.src),(s=e.querySelector(zl(r)))?(t.instance=s,Zt(s),s):(i=n,(s=Ze.get(r))&&(i=wt({},n),vm(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),Zt(s),ae(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(k(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,qo(i,n.precedence,e));return t.instance}function qo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function _m(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ho=null;function Dy(e,t,n){if(Ho===null){var i=new Map,s=Ho=new Map;s.set(n,i)}else s=Ho,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Ol]||r[ne]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function Oy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nR(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function iT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function iR(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Or(i.href),r=t.querySelector(Pl(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Iu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Zt(r);return}r=t.ownerDocument||t,i=nT(i),(s=Ze.get(s))&&_m(i,s),r=r.createElement("link"),Zt(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ae(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Iu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var jh=0;function sR(e,t){return e.stylesheets&&e.count===0&&Go(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Go(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&jh===0&&(jh=62500*Pw());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Go(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>jh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Go(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cu=null;function Go(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cu=new Map,t.forEach(rR,e),Cu=null,Iu.call(e))}function rR(e,t){if(!(t.state.loading&4)){var n=Cu.get(e);if(n)var i=n.get(null);else{n=new Map,Cu.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Iu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ml={$$typeof:kn,Provider:null,Consumer:null,_currentValue:ms,_currentValue2:ms,_threadCount:0};function aR(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.hiddenUpdates=uh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function sT(e,t,n,i,s,r,a,o,u,h,d,g){return e=new aR(e,t,n,a,u,h,d,g,o),t=1,r===!0&&(t|=24),r=Oe(3,null,null,t),e.current=r,r.stateNode=e,t=Fd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Kd(r),e}function rT(e){return e?(e=rr,e):rr}function aT(e,t,n,i,s,r){s=rT(s),i.context===null?i.context=s:i.pendingContext=s,i=Ci(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=xi(e,i,t),n!==null&&(we(n,e,t),qa(n,e,t))}function Vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Em(e,t){Vy(e,t),(e=e.alternate)&&Vy(e,t)}function lT(e){if(e.tag===13||e.tag===31){var t=Ms(e,67108864);t!==null&&we(t,e,67108864),Em(e,67108864)}}function My(e){if(e.tag===13||e.tag===31){var t=Pe();t=Dd(t);var n=Ms(e,t);n!==null&&we(n,e,t),Em(e,t)}}var xu=!0;function lR(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=2,Tm(e,t,n,i)}finally{ct.p=r,Q.T=s}}function oR(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=8,Tm(e,t,n,i)}finally{ct.p=r,Q.T=s}}function Tm(e,t,n,i){if(xu){var s=Xf(i);if(s===null)Ph(e,t,i,Nu,n),ky(e,i);else if(cR(s,e,t,n,i))i.stopPropagation();else if(ky(e,i),t&4&&-1<uR.indexOf(e)){for(;s!==null;){var r=Fr(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=us(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-Le(a);o.entanglements[1]|=u,a&=~u}Rn(r),!(ut&6)&&(vu=ke()+500,Ll(0))}}break;case 31:case 13:o=Ms(r,2),o!==null&&we(o,r,2),hc(),Em(r,2)}if(r=Xf(i),r===null&&Ph(e,t,i,Nu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Ph(e,t,i,null,n)}}function Xf(e){return e=kd(e),bm(e)}var Nu=null;function bm(e){if(Nu=null,e=Ws(e),e!==null){var t=Cl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Iv(t),e!==null)return e;e=null}else if(n===31){if(e=Cv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nu=e,null}function oT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(KA()){case Ov:return 2;case Vv:return 8;case ru:case XA:return 32;case Mv:return 268435456;default:return 32}default:return 32}}var $f=!1,Oi=null,Vi=null,Mi=null,gl=new Map,pl=new Map,gi=[],uR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(e,t){switch(e){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(t.pointerId)}}function Ra(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Fr(t),t!==null&&lT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cR(e,t,n,i,s){switch(t){case"focusin":return Oi=Ra(Oi,e,t,n,i,s),!0;case"dragenter":return Vi=Ra(Vi,e,t,n,i,s),!0;case"mouseover":return Mi=Ra(Mi,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return gl.set(r,Ra(gl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,pl.set(r,Ra(pl.get(r)||null,e,t,n,i,s)),!0}return!1}function uT(e){var t=Ws(e.target);if(t!==null){var n=Cl(t);if(n!==null){if(t=n.tag,t===13){if(t=Iv(n),t!==null){e.blockedOn=t,vp(e.priority,function(){My(n)});return}}else if(t===31){if(t=Cv(n),t!==null){e.blockedOn=t,vp(e.priority,function(){My(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);mf=i,n.target.dispatchEvent(i),mf=null}else return t=Fr(n),t!==null&&lT(t),e.blockedOn=n,!1;t.shift()}return!0}function Uy(e,t,n){Fo(e)&&n.delete(t)}function hR(){$f=!1,Oi!==null&&Fo(Oi)&&(Oi=null),Vi!==null&&Fo(Vi)&&(Vi=null),Mi!==null&&Fo(Mi)&&(Mi=null),gl.forEach(Uy),pl.forEach(Uy)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,$f||($f=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,hR)))}var Ao=null;function Ly(e){Ao!==e&&(Ao=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){Ao===e&&(Ao=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(bm(i||n)===null)continue;break}var r=Fr(n);r!==null&&(e.splice(t,3),t-=3,Nf(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Vr(e){function t(u){return bo(u,e)}Oi!==null&&bo(Oi,e),Vi!==null&&bo(Vi,e),Mi!==null&&bo(Mi,e),gl.forEach(t),pl.forEach(t);for(var n=0;n<gi.length;n++){var i=gi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)uT(n),n.blockedOn===null&&gi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Re]||null;if(typeof r=="function")a||Ly(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Re]||null)o=a.formAction;else if(bm(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Ly(n)}}}function cT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Am(e){this._internalRoot=e}mc.prototype.render=Am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));var n=t.current,i=Pe();aT(n,i,e,t,null,null)};mc.prototype.unmount=Am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;aT(e.current,2,null,e,null,null),hc(),t[Gr]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=zv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&uT(e)}};var Py=wv.version;if(Py!=="19.2.3")throw Error(k(527,Py,"19.2.3"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=BA(t),e=e!==null?xv(e):null,e=e===null?null:e.stateNode,e};var fR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{xl=So.inject(fR),Ue=So}catch{}}Ju.createRoot=function(e,t){if(!Rv(e))throw Error(k(299));var n=!1,i="",s=eE,r=nE,a=iE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sT(e,1,!1,null,null,n,i,null,s,r,a,cT),e[Gr]=t.current,ym(e),new Am(t)};Ju.hydrateRoot=function(e,t,n){if(!Rv(e))throw Error(k(299));var i=!1,s="",r=eE,a=nE,o=iE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=sT(e,1,!0,t,n??null,i,s,u,r,a,o,cT),t.context=rT(null),n=t.current,i=Pe(),i=Dd(i),s=Ci(i),s.callback=null,xi(n,s,i),n=i,t.current.lanes=n,Dl(t,n),Rn(t),e[Gr]=t.current,ym(e),new mc(t)};Ju.version="19.2.3";function hT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hT)}catch(e){console.error(e)}}hT(),vv.exports=Ju;var dR=vv.exports;const mR=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},gR=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,d=r>>2,g=(r&3)<<4|o>>4;let m=(o&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),i.push(n[d],n[g],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||h==null||g==null)throw new pR;const m=r<<2|o>>4;if(i.push(m),h!==64){const v=o<<4&240|h>>2;if(i.push(v),g!==64){const D=h<<6&192|g;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class pR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(e){const t=fT(e);return dT.encodeByteArray(t,!0)},Du=function(e){return yR(e).replace(/\./g,"")},mT=function(e){try{return dT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>_R().__FIREBASE_DEFAULTS__,ER=()=>{if(typeof process>"u"||typeof zy>"u")return;const e=zy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},TR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mT(e[1]);return t&&JSON.parse(t)},gc=()=>{try{return mR()||vR()||ER()||TR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gT=e=>{var t,n;return(n=(t=gc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},bR=e=>{const t=gT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},pT=()=>{var e;return(e=gc())==null?void 0:e.config},yT=e=>{var t;return(t=gc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Du(JSON.stringify(n)),Du(JSON.stringify(a)),""].join(".")}const Ja={};function wR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ja))Ja[t]?e.emulator.push(t):e.prod.push(t);return e}function RR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let jy=!1;function vT(e,t){if(typeof window>"u"||typeof document>"u"||!Jr(window.location.host)||Ja[e]===t||Ja[e]||jy)return;Ja[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=wR().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{jy=!0,a()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=RR(i),v=n("text"),D=document.getElementById(v)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),b=n("preprendIcon"),E=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const w=m.element;o(w),d(V,M);const I=h();u(E,b),w.append(E,D,V,I),document.body.appendChild(w)}r?(D.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function CR(){var t;const e=(t=gc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function VR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class ti extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=UR,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?LR(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new ti(s,o,i)}}function LR(e,t){return e.replace(PR,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const PR=/\{\$([^}]+)}/g;function zR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Rs(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(By(r)&&By(a)){if(!Rs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function By(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function jR(e,t){const n=new BR(e,t);return n.subscribe.bind(n)}class BR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");qR(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Bh),s.error===void 0&&(s.error=Bh),s.complete===void 0&&(s.complete=Bh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Bh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return e&&e._delegate?e._delegate:e}class Is{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new AR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FR(t))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fs){return this.instances.has(t)}getOptions(t=fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fs){return this.component?this.component.multipleInstances?t:fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(e){return e===fs?void 0:e}function FR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new HR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const YR={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},KR=it.INFO,XR={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},$R=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=XR[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=KR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const JR=(e,t)=>t.some(n=>e instanceof n);let qy,Hy;function ZR(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Jf=new WeakMap,TT=new WeakMap,qh=new WeakMap,wm=new WeakMap;function t2(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(ki(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&ET.set(n,e)}).catch(()=>{}),wm.set(t,e),t}function e2(e){if(Jf.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Jf.set(e,t)}let Zf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Jf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||TT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function n2(e){Zf=e(Zf)}function i2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Hh(this),t,...n);return TT.set(i,t.sort?t.sort():[t]),ki(i)}:WR().includes(e)?function(...t){return e.apply(Hh(this),t),ki(ET.get(this))}:function(...t){return ki(e.apply(Hh(this),t))}}function s2(e){return typeof e=="function"?i2(e):(e instanceof IDBTransaction&&e2(e),JR(e,ZR())?new Proxy(e,Zf):e)}function ki(e){if(e instanceof IDBRequest)return t2(e);if(qh.has(e))return qh.get(e);const t=s2(e);return t!==e&&(qh.set(e,t),wm.set(t,e)),t}const Hh=e=>wm.get(e);function r2(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=ki(a);return i&&a.addEventListener("upgradeneeded",u=>{i(ki(a.result),u.oldVersion,u.newVersion,ki(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const a2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],Gh=new Map;function Gy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Gh.get(t))return Gh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=l2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||a2.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),s&&u.done]))[0]};return Gh.set(t,r),r}n2(e=>({...e,get:(t,n,i)=>Gy(t,n)||e.get(t,n,i),has:(t,n)=>!!Gy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function u2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wf="@firebase/app",Fy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Sm("@firebase/app"),c2="@firebase/app-compat",h2="@firebase/analytics-compat",f2="@firebase/analytics",d2="@firebase/app-check-compat",m2="@firebase/app-check",g2="@firebase/auth",p2="@firebase/auth-compat",y2="@firebase/database",_2="@firebase/data-connect",v2="@firebase/database-compat",E2="@firebase/functions",T2="@firebase/functions-compat",b2="@firebase/installations",A2="@firebase/installations-compat",S2="@firebase/messaging",w2="@firebase/messaging-compat",R2="@firebase/performance",I2="@firebase/performance-compat",C2="@firebase/remote-config",x2="@firebase/remote-config-compat",N2="@firebase/storage",D2="@firebase/storage-compat",O2="@firebase/firestore",V2="@firebase/ai",M2="@firebase/firestore-compat",k2="firebase",U2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]",L2={[Wf]:"fire-core",[c2]:"fire-core-compat",[f2]:"fire-analytics",[h2]:"fire-analytics-compat",[m2]:"fire-app-check",[d2]:"fire-app-check-compat",[g2]:"fire-auth",[p2]:"fire-auth-compat",[y2]:"fire-rtdb",[_2]:"fire-data-connect",[v2]:"fire-rtdb-compat",[E2]:"fire-fn",[T2]:"fire-fn-compat",[b2]:"fire-iid",[A2]:"fire-iid-compat",[S2]:"fire-fcm",[w2]:"fire-fcm-compat",[R2]:"fire-perf",[I2]:"fire-perf-compat",[C2]:"fire-rc",[x2]:"fire-rc-compat",[N2]:"fire-gcs",[D2]:"fire-gcs-compat",[O2]:"fire-fst",[M2]:"fire-fst-compat",[V2]:"fire-vertex","fire-js":"fire-js",[k2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,P2=new Map,ed=new Map;function Qy(e,t){try{e.container.addComponent(t)}catch(n){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Mr(e){const t=e.name;if(ed.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;ed.set(t,e);for(const n of Ou.values())Qy(n,e);for(const n of P2.values())Qy(n,e);return!0}function Rm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new jl("app","Firebase",z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=U2;function bT(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:td,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Ui.create("bad-app-name",{appName:String(s)});if(n||(n=pT()),!n)throw Ui.create("no-options");const r=Ou.get(s);if(r){if(Rs(n,r.options)&&Rs(i,r.config))return r;throw Ui.create("duplicate-app",{appName:s})}const a=new QR(s);for(const u of ed.values())a.addComponent(u);const o=new j2(n,i,a);return Ou.set(s,o),o}function AT(e=td){const t=Ou.get(e);if(!t&&e===td&&pT())return bT();if(!t)throw Ui.create("no-app",{appName:e});return t}function Li(e,t,n){let i=L2[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}Mr(new Is(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-heartbeat-database",q2=1,yl="firebase-heartbeat-store";let Fh=null;function ST(){return Fh||(Fh=r2(B2,q2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ui.create("idb-open",{originalErrorMessage:e.message})})),Fh}async function H2(e){try{const n=(await ST()).transaction(yl),i=await n.objectStore(yl).get(wT(e));return await n.done,i}catch(t){if(t instanceof ti)Kn.warn(t.message);else{const n=Ui.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kn.warn(n.message)}}}async function Yy(e,t){try{const i=(await ST()).transaction(yl,"readwrite");await i.objectStore(yl).put(t,wT(e)),await i.done}catch(n){if(n instanceof ti)Kn.warn(n.message);else{const i=Ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kn.warn(i.message)}}}function wT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,F2=30;class Q2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ky();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>F2){const a=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Kn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ky(),{heartbeatsToSend:i,unsentEntries:s}=Y2(this._heartbeatsCache.heartbeats),r=Du(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Kn.warn(n),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function Y2(e,t=G2){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Xy(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Xy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class K2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Xy(e){return Du(JSON.stringify({version:2,heartbeats:e})).length}function X2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(e){Mr(new Is("platform-logger",t=>new o2(t),"PRIVATE")),Mr(new Is("heartbeat",t=>new Q2(t),"PRIVATE")),Li(Wf,Fy,e),Li(Wf,Fy,"esm2020"),Li("fire-js","")}$2("");var J2="firebase",Z2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(J2,Z2,"app");var $y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,RT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,y){function T(){}T.prototype=y.prototype,_.F=y.prototype,_.prototype=new T,_.prototype.constructor=_,_.D=function(S,R,x){for(var A=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)A[oe-2]=arguments[oe];return y.prototype[R].apply(S,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,y,T){T||(T=0);const S=Array(16);if(typeof y=="string")for(var R=0;R<16;++R)S[R]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(R=0;R<16;++R)S[R]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=_.g[0],T=_.g[1],R=_.g[2];let x=_.g[3],A;A=y+(x^T&(R^x))+S[0]+3614090360&4294967295,y=T+(A<<7&4294967295|A>>>25),A=x+(R^y&(T^R))+S[1]+3905402710&4294967295,x=y+(A<<12&4294967295|A>>>20),A=R+(T^x&(y^T))+S[2]+606105819&4294967295,R=x+(A<<17&4294967295|A>>>15),A=T+(y^R&(x^y))+S[3]+3250441966&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(x^T&(R^x))+S[4]+4118548399&4294967295,y=T+(A<<7&4294967295|A>>>25),A=x+(R^y&(T^R))+S[5]+1200080426&4294967295,x=y+(A<<12&4294967295|A>>>20),A=R+(T^x&(y^T))+S[6]+2821735955&4294967295,R=x+(A<<17&4294967295|A>>>15),A=T+(y^R&(x^y))+S[7]+4249261313&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(x^T&(R^x))+S[8]+1770035416&4294967295,y=T+(A<<7&4294967295|A>>>25),A=x+(R^y&(T^R))+S[9]+2336552879&4294967295,x=y+(A<<12&4294967295|A>>>20),A=R+(T^x&(y^T))+S[10]+4294925233&4294967295,R=x+(A<<17&4294967295|A>>>15),A=T+(y^R&(x^y))+S[11]+2304563134&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(x^T&(R^x))+S[12]+1804603682&4294967295,y=T+(A<<7&4294967295|A>>>25),A=x+(R^y&(T^R))+S[13]+4254626195&4294967295,x=y+(A<<12&4294967295|A>>>20),A=R+(T^x&(y^T))+S[14]+2792965006&4294967295,R=x+(A<<17&4294967295|A>>>15),A=T+(y^R&(x^y))+S[15]+1236535329&4294967295,T=R+(A<<22&4294967295|A>>>10),A=y+(R^x&(T^R))+S[1]+4129170786&4294967295,y=T+(A<<5&4294967295|A>>>27),A=x+(T^R&(y^T))+S[6]+3225465664&4294967295,x=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(x^y))+S[11]+643717713&4294967295,R=x+(A<<14&4294967295|A>>>18),A=T+(x^y&(R^x))+S[0]+3921069994&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^x&(T^R))+S[5]+3593408605&4294967295,y=T+(A<<5&4294967295|A>>>27),A=x+(T^R&(y^T))+S[10]+38016083&4294967295,x=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(x^y))+S[15]+3634488961&4294967295,R=x+(A<<14&4294967295|A>>>18),A=T+(x^y&(R^x))+S[4]+3889429448&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^x&(T^R))+S[9]+568446438&4294967295,y=T+(A<<5&4294967295|A>>>27),A=x+(T^R&(y^T))+S[14]+3275163606&4294967295,x=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(x^y))+S[3]+4107603335&4294967295,R=x+(A<<14&4294967295|A>>>18),A=T+(x^y&(R^x))+S[8]+1163531501&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(R^x&(T^R))+S[13]+2850285829&4294967295,y=T+(A<<5&4294967295|A>>>27),A=x+(T^R&(y^T))+S[2]+4243563512&4294967295,x=y+(A<<9&4294967295|A>>>23),A=R+(y^T&(x^y))+S[7]+1735328473&4294967295,R=x+(A<<14&4294967295|A>>>18),A=T+(x^y&(R^x))+S[12]+2368359562&4294967295,T=R+(A<<20&4294967295|A>>>12),A=y+(T^R^x)+S[5]+4294588738&4294967295,y=T+(A<<4&4294967295|A>>>28),A=x+(y^T^R)+S[8]+2272392833&4294967295,x=y+(A<<11&4294967295|A>>>21),A=R+(x^y^T)+S[11]+1839030562&4294967295,R=x+(A<<16&4294967295|A>>>16),A=T+(R^x^y)+S[14]+4259657740&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^x)+S[1]+2763975236&4294967295,y=T+(A<<4&4294967295|A>>>28),A=x+(y^T^R)+S[4]+1272893353&4294967295,x=y+(A<<11&4294967295|A>>>21),A=R+(x^y^T)+S[7]+4139469664&4294967295,R=x+(A<<16&4294967295|A>>>16),A=T+(R^x^y)+S[10]+3200236656&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^x)+S[13]+681279174&4294967295,y=T+(A<<4&4294967295|A>>>28),A=x+(y^T^R)+S[0]+3936430074&4294967295,x=y+(A<<11&4294967295|A>>>21),A=R+(x^y^T)+S[3]+3572445317&4294967295,R=x+(A<<16&4294967295|A>>>16),A=T+(R^x^y)+S[6]+76029189&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(T^R^x)+S[9]+3654602809&4294967295,y=T+(A<<4&4294967295|A>>>28),A=x+(y^T^R)+S[12]+3873151461&4294967295,x=y+(A<<11&4294967295|A>>>21),A=R+(x^y^T)+S[15]+530742520&4294967295,R=x+(A<<16&4294967295|A>>>16),A=T+(R^x^y)+S[2]+3299628645&4294967295,T=R+(A<<23&4294967295|A>>>9),A=y+(R^(T|~x))+S[0]+4096336452&4294967295,y=T+(A<<6&4294967295|A>>>26),A=x+(T^(y|~R))+S[7]+1126891415&4294967295,x=y+(A<<10&4294967295|A>>>22),A=R+(y^(x|~T))+S[14]+2878612391&4294967295,R=x+(A<<15&4294967295|A>>>17),A=T+(x^(R|~y))+S[5]+4237533241&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~x))+S[12]+1700485571&4294967295,y=T+(A<<6&4294967295|A>>>26),A=x+(T^(y|~R))+S[3]+2399980690&4294967295,x=y+(A<<10&4294967295|A>>>22),A=R+(y^(x|~T))+S[10]+4293915773&4294967295,R=x+(A<<15&4294967295|A>>>17),A=T+(x^(R|~y))+S[1]+2240044497&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~x))+S[8]+1873313359&4294967295,y=T+(A<<6&4294967295|A>>>26),A=x+(T^(y|~R))+S[15]+4264355552&4294967295,x=y+(A<<10&4294967295|A>>>22),A=R+(y^(x|~T))+S[6]+2734768916&4294967295,R=x+(A<<15&4294967295|A>>>17),A=T+(x^(R|~y))+S[13]+1309151649&4294967295,T=R+(A<<21&4294967295|A>>>11),A=y+(R^(T|~x))+S[4]+4149444226&4294967295,y=T+(A<<6&4294967295|A>>>26),A=x+(T^(y|~R))+S[11]+3174756917&4294967295,x=y+(A<<10&4294967295|A>>>22),A=R+(y^(x|~T))+S[2]+718787259&4294967295,R=x+(A<<15&4294967295|A>>>17),A=T+(x^(R|~y))+S[9]+3951481745&4294967295,_.g[0]=_.g[0]+y&4294967295,_.g[1]=_.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+x&4294967295}i.prototype.v=function(_,y){y===void 0&&(y=_.length);const T=y-this.blockSize,S=this.C;let R=this.h,x=0;for(;x<y;){if(R==0)for(;x<=T;)s(this,_,x),x+=this.blockSize;if(typeof _=="string"){for(;x<y;)if(S[R++]=_.charCodeAt(x++),R==this.blockSize){s(this,S),R=0;break}}else for(;x<y;)if(S[R++]=_[x++],R==this.blockSize){s(this,S),R=0;break}}this.h=R,this.o+=y},i.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var y=1;y<_.length-8;++y)_[y]=0;y=this.o*8;for(var T=_.length-8;T<_.length;++T)_[T]=y&255,y/=256;for(this.v(_),_=Array(16),y=0,T=0;T<4;++T)for(let S=0;S<32;S+=8)_[y++]=this.g[T]>>>S&255;return _};function r(_,y){var T=o;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=y(_)}function a(_,y){this.h=y;const T=[];let S=!0;for(let R=_.length-1;R>=0;R--){const x=_[R]|0;S&&x==y||(T[R]=x,S=!1)}this.g=T}var o={};function u(_){return-128<=_&&_<128?r(_,function(y){return new a([y|0],y<0?-1:0)}):new a([_|0],_<0?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return g;if(_<0)return V(h(-_));const y=[];let T=1;for(let S=0;_>=T;S++)y[S]=_/T|0,T*=4294967296;return new a(y,0)}function d(_,y){if(_.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(_.charAt(0)=="-")return V(d(_.substring(1),y));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(y,8));let S=g;for(let x=0;x<_.length;x+=8){var R=Math.min(8,_.length-x);const A=parseInt(_.substring(x,x+R),y);R<8?(R=h(Math.pow(y,R)),S=S.j(R).add(h(A))):(S=S.j(T),S=S.add(h(A)))}return S}var g=u(0),m=u(1),v=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();let _=0,y=1;for(let T=0;T<this.g.length;T++){const S=this.i(T);_+=(S>=0?S:4294967296+S)*y,y*=4294967296}return _},e.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(D(this))return"0";if(M(this))return"-"+V(this).toString(_);const y=h(Math.pow(_,6));var T=this;let S="";for(;;){const R=I(T,y).g;T=b(T,R.j(y));let x=((T.g.length>0?T.g[0]:T.h)>>>0).toString(_);if(T=R,D(T))return x+S;for(;x.length<6;)x="0"+x;S=x+S}},e.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function D(_){if(_.h!=0)return!1;for(let y=0;y<_.g.length;y++)if(_.g[y]!=0)return!1;return!0}function M(_){return _.h==-1}e.l=function(_){return _=b(this,_),M(_)?-1:D(_)?0:1};function V(_){const y=_.g.length,T=[];for(let S=0;S<y;S++)T[S]=~_.g[S];return new a(T,~_.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(_){const y=Math.max(this.g.length,_.g.length),T=[];let S=0;for(let R=0;R<=y;R++){let x=S+(this.i(R)&65535)+(_.i(R)&65535),A=(x>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);S=A>>>16,x&=65535,A&=65535,T[R]=A<<16|x}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(_,y){return _.add(V(y))}e.j=function(_){if(D(this)||D(_))return g;if(M(this))return M(_)?V(this).j(V(_)):V(V(this).j(_));if(M(_))return V(this.j(V(_)));if(this.l(v)<0&&_.l(v)<0)return h(this.m()*_.m());const y=this.g.length+_.g.length,T=[];for(var S=0;S<2*y;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(let R=0;R<_.g.length;R++){const x=this.i(S)>>>16,A=this.i(S)&65535,oe=_.i(R)>>>16,We=_.i(R)&65535;T[2*S+2*R]+=A*We,E(T,2*S+2*R),T[2*S+2*R+1]+=x*We,E(T,2*S+2*R+1),T[2*S+2*R+1]+=A*oe,E(T,2*S+2*R+1),T[2*S+2*R+2]+=x*oe,E(T,2*S+2*R+2)}for(_=0;_<y;_++)T[_]=T[2*_+1]<<16|T[2*_];for(_=y;_<2*y;_++)T[_]=0;return new a(T,0)};function E(_,y){for(;(_[y]&65535)!=_[y];)_[y+1]+=_[y]>>>16,_[y]&=65535,y++}function w(_,y){this.g=_,this.h=y}function I(_,y){if(D(y))throw Error("division by zero");if(D(_))return new w(g,g);if(M(_))return y=I(V(_),y),new w(V(y.g),V(y.h));if(M(y))return y=I(_,V(y)),new w(V(y.g),y.h);if(_.g.length>30){if(M(_)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,S=y;S.l(_)<=0;)T=U(T),S=U(S);var R=z(T,1),x=z(S,1);for(S=z(S,2),T=z(T,2);!D(S);){var A=x.add(S);A.l(_)<=0&&(R=R.add(T),x=A),S=z(S,1),T=z(T,1)}return y=b(_,R.j(y)),new w(R,y)}for(R=g;_.l(y)>=0;){for(T=Math.max(1,Math.floor(_.m()/y.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),x=h(T),A=x.j(y);M(A)||A.l(_)>0;)T-=S,x=h(T),A=x.j(y);D(x)&&(x=m),R=R.add(x),_=b(_,A)}return new w(R,_)}e.B=function(_){return I(this,_).h},e.and=function(_){const y=Math.max(this.g.length,_.g.length),T=[];for(let S=0;S<y;S++)T[S]=this.i(S)&_.i(S);return new a(T,this.h&_.h)},e.or=function(_){const y=Math.max(this.g.length,_.g.length),T=[];for(let S=0;S<y;S++)T[S]=this.i(S)|_.i(S);return new a(T,this.h|_.h)},e.xor=function(_){const y=Math.max(this.g.length,_.g.length),T=[];for(let S=0;S<y;S++)T[S]=this.i(S)^_.i(S);return new a(T,this.h^_.h)};function U(_){const y=_.g.length+1,T=[];for(let S=0;S<y;S++)T[S]=_.i(S)<<1|_.i(S-1)>>>31;return new a(T,_.h)}function z(_,y){const T=y>>5;y%=32;const S=_.g.length-T,R=[];for(let x=0;x<S;x++)R[x]=y>0?_.i(x+T)>>>y|_.i(x+T+1)<<32-y:_.i(x+T);return new a(R,_.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,RT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Pi=a}).apply(typeof $y<"u"?$y:typeof self<"u"?self:typeof window<"u"?window:{});var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Va,CT,Qo,nd,xT,NT,DT;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wo=="object"&&wo];for(var c=0;c<l.length;++c){var f=l[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(l,c){if(c)t:{var f=i;l=l.split(".");for(var p=0;p<l.length-1;p++){var N=l[p];if(!(N in f))break t;f=f[N]}l=l[l.length-1],p=f[l],c=c(p),c!=p&&c!=null&&t(f,l,{configurable:!0,writable:!0,value:c})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(c){var f=[],p;for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&f.push([p,c[p]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function u(l,c,f){return l.call.apply(l.bind,arguments)}function h(l,c,f){return h=u,h.apply(null,arguments)}function d(l,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),l.apply(this,p)}}function g(l,c){function f(){}f.prototype=c.prototype,l.Z=c.prototype,l.prototype=new f,l.prototype.constructor=l,l.Ob=function(p,N,O){for(var j=Array(arguments.length-2),W=2;W<arguments.length;W++)j[W-2]=arguments[W];return c.prototype[N].apply(p,j)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function v(l){const c=l.length;if(c>0){const f=Array(c);for(let p=0;p<c;p++)f[p]=l[p];return f}return[]}function D(l,c){for(let p=1;p<arguments.length;p++){const N=arguments[p];var f=typeof N;if(f=f!="object"?f:N?Array.isArray(N)?"array":f:"null",f=="array"||f=="object"&&typeof N.length=="number"){f=l.length||0;const O=N.length||0;l.length=f+O;for(let j=0;j<O;j++)l[f+j]=N[j]}else l.push(N)}}class M{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function V(l){a.setTimeout(()=>{throw l},0)}function b(){var l=_;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class E{constructor(){this.h=this.g=null}add(c,f){const p=w.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var w=new M(()=>new I,l=>l.reset());class I{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,_=new E,y=()=>{const l=Promise.resolve(void 0);U=()=>{l.then(T)}};function T(){for(var l;l=b();){try{l.h.call(l.g)}catch(f){V(f)}var c=w;c.j(l),c.h<100&&(c.h++,l.next=c.g,c.g=l)}z=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};a.addEventListener("test",f,c),a.removeEventListener("test",f,c)}catch{}return l}();function A(l){return/^[\s\xa0]*$/.test(l)}function oe(l,c){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,c)}g(oe,R),oe.prototype.init=function(l,c){const f=this.type=l.type,p=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget,c||(f=="mouseover"?c=l.fromElement:f=="mouseout"&&(c=l.toElement)),this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),B=0;function tt(l,c,f,p,N){this.listener=l,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=N,this.key=++B,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _t(l,c,f){for(const p in l)c.call(f,l[p],p,l)}function Ut(l,c){for(const f in l)c.call(void 0,l[f],f,l)}function ts(l){const c={};for(const f in l)c[f]=l[f];return c}const es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ps(l,c){let f,p;for(let N=1;N<arguments.length;N++){p=arguments[N];for(f in p)l[f]=p[f];for(let O=0;O<es.length;O++)f=es[O],Object.prototype.hasOwnProperty.call(p,f)&&(l[f]=p[f])}}function Be(l){this.src=l,this.g={},this.h=0}Be.prototype.add=function(l,c,f,p,N){const O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);const j=kc(l,c,p,N);return j>-1?(c=l[j],f||(c.fa=!1)):(c=new tt(c,this.src,O,!!p,N),c.fa=f,l.push(c)),c};function ei(l,c){const f=c.type;if(f in l.g){var p=l.g[f],N=Array.prototype.indexOf.call(p,c,void 0),O;(O=N>=0)&&Array.prototype.splice.call(p,N,1),O&&($(c),l.g[f].length==0&&(delete l.g[f],l.h--))}}function kc(l,c,f,p){for(let N=0;N<l.length;++N){const O=l[N];if(!O.da&&O.listener==c&&O.capture==!!f&&O.ha==p)return N}return-1}var Uc="closure_lm_"+(Math.random()*1e6|0),Lc={};function dg(l,c,f,p,N){if(Array.isArray(c)){for(let O=0;O<c.length;O++)dg(l,c[O],f,p,N);return null}return f=pg(f),l&&l[We]?l.J(c,f,o(p)?!!p.capture:!1,N):qb(l,c,f,!1,p,N)}function qb(l,c,f,p,N,O){if(!c)throw Error("Invalid event type");const j=o(N)?!!N.capture:!!N;let W=zc(l);if(W||(l[Uc]=W=new Be(l)),f=W.add(c,f,p,j,O),f.proxy)return f;if(p=Hb(),f.proxy=p,p.src=l,p.listener=f,l.addEventListener)x||(N=j),N===void 0&&(N=!1),l.addEventListener(c.toString(),p,N);else if(l.attachEvent)l.attachEvent(gg(c.toString()),p);else if(l.addListener&&l.removeListener)l.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Hb(){function l(f){return c.call(l.src,l.listener,f)}const c=Gb;return l}function mg(l,c,f,p,N){if(Array.isArray(c))for(var O=0;O<c.length;O++)mg(l,c[O],f,p,N);else p=o(p)?!!p.capture:!!p,f=pg(f),l&&l[We]?(l=l.i,O=String(c).toString(),O in l.g&&(c=l.g[O],f=kc(c,f,p,N),f>-1&&($(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete l.g[O],l.h--)))):l&&(l=zc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=kc(c,f,p,N)),(f=l>-1?c[l]:null)&&Pc(f))}function Pc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[We])ei(c.i,l);else{var f=l.type,p=l.proxy;c.removeEventListener?c.removeEventListener(f,p,l.capture):c.detachEvent?c.detachEvent(gg(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=zc(c))?(ei(f,l),f.h==0&&(f.src=null,c[Uc]=null)):$(l)}}}function gg(l){return l in Lc?Lc[l]:Lc[l]="on"+l}function Gb(l,c){if(l.da)l=!0;else{c=new oe(c,this);const f=l.listener,p=l.ha||l.src;l.fa&&Pc(l),l=f.call(p,c)}return l}function zc(l){return l=l[Uc],l instanceof Be?l:null}var jc="__closure_events_fn_"+(Math.random()*1e9>>>0);function pg(l){return typeof l=="function"?l:(l[jc]||(l[jc]=function(c){return l.handleEvent(c)}),l[jc])}function ue(){S.call(this),this.i=new Be(this),this.M=this,this.G=null}g(ue,S),ue.prototype[We]=!0,ue.prototype.removeEventListener=function(l,c,f,p){mg(this,l,c,f,p)};function me(l,c){var f,p=l.G;if(p)for(f=[];p;p=p.G)f.push(p);if(l=l.M,p=c.type||c,typeof c=="string")c=new R(c,l);else if(c instanceof R)c.target=c.target||l;else{var N=c;c=new R(p,l),Ps(c,N)}N=!0;let O,j;if(f)for(j=f.length-1;j>=0;j--)O=c.g=f[j],N=$l(O,p,!0,c)&&N;if(O=c.g=l,N=$l(O,p,!0,c)&&N,N=$l(O,p,!1,c)&&N,f)for(j=0;j<f.length;j++)O=c.g=f[j],N=$l(O,p,!1,c)&&N}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var l=this.i;for(const c in l.g){const f=l.g[c];for(let p=0;p<f.length;p++)$(f[p]);delete l.g[c],l.h--}}this.G=null},ue.prototype.J=function(l,c,f,p){return this.i.add(String(l),c,!1,f,p)},ue.prototype.K=function(l,c,f,p){return this.i.add(String(l),c,!0,f,p)};function $l(l,c,f,p){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();let N=!0;for(let O=0;O<c.length;++O){const j=c[O];if(j&&!j.da&&j.capture==f){const W=j.listener,Gt=j.ha||j.src;j.fa&&ei(l.i,j),N=W.call(Gt,p)!==!1&&N}}return N&&!p.defaultPrevented}function Fb(l,c){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(l,c||0)}function yg(l){l.g=Fb(()=>{l.g=null,l.i&&(l.i=!1,yg(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class Qb extends S{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:yg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(l){S.call(this),this.h=l,this.g={}}g(sa,S);var _g=[];function vg(l){_t(l.g,function(c,f){this.g.hasOwnProperty(f)&&Pc(c)},l),l.g={}}sa.prototype.N=function(){sa.Z.N.call(this),vg(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bc=a.JSON.stringify,Yb=a.JSON.parse,Kb=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Eg(){}function Tg(){}var ra={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qc(){R.call(this,"d")}g(qc,R);function Hc(){R.call(this,"c")}g(Hc,R);var ns={},bg=null;function Jl(){return bg=bg||new ue}ns.Ia="serverreachability";function Ag(l){R.call(this,ns.Ia,l)}g(Ag,R);function aa(l){const c=Jl();me(c,new Ag(c))}ns.STAT_EVENT="statevent";function Sg(l,c){R.call(this,ns.STAT_EVENT,l),this.stat=c}g(Sg,R);function ge(l){const c=Jl();me(c,new Sg(c,l))}ns.Ja="timingevent";function wg(l,c){R.call(this,ns.Ja,l),this.size=c}g(wg,R);function la(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},c)}function oa(){this.g=!0}oa.prototype.ua=function(){this.g=!1};function Xb(l,c,f,p,N,O){l.info(function(){if(l.g)if(O){var j="",W=O.split("&");for(let pt=0;pt<W.length;pt++){var Gt=W[pt].split("=");if(Gt.length>1){const Xt=Gt[0];Gt=Gt[1];const ln=Xt.split("_");j=ln.length>=2&&ln[1]=="type"?j+(Xt+"="+Gt+"&"):j+(Xt+"=redacted&")}}}else j=null;else j=O;return"XMLHTTP REQ ("+p+") [attempt "+N+"]: "+c+`
`+f+`
`+j})}function $b(l,c,f,p,N,O,j){l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+N+"]: "+c+`
`+f+`
`+O+" "+j})}function zs(l,c,f,p){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+Zb(l,f)+(p?" "+p:"")})}function Jb(l,c){l.info(function(){return"TIMEOUT: "+c})}oa.prototype.info=function(){};function Zb(l,c){if(!l.g)return c;if(!c)return null;try{const O=JSON.parse(c);if(O){for(l=0;l<O.length;l++)if(Array.isArray(O[l])){var f=O[l];if(!(f.length<2)){var p=f[1];if(Array.isArray(p)&&!(p.length<1)){var N=p[0];if(N!="noop"&&N!="stop"&&N!="close")for(let j=1;j<p.length;j++)p[j]=""}}}}return Bc(O)}catch{return c}}var Zl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ig;function Gc(){}g(Gc,Eg),Gc.prototype.g=function(){return new XMLHttpRequest},Ig=new Gc;function ua(l){return encodeURIComponent(String(l))}function Wb(l){var c=1;l=l.split(":");const f=[];for(;c>0&&l.length;)f.push(l.shift()),c--;return l.length&&f.push(l.join(":")),f}function ni(l,c,f,p){this.j=l,this.i=c,this.l=f,this.S=p||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Cg}function Cg(){this.i=null,this.g="",this.h=!1}var xg={},Fc={};function Qc(l,c,f){l.M=1,l.A=to(an(c)),l.u=f,l.R=!0,Ng(l,null)}function Ng(l,c){l.F=Date.now(),Wl(l),l.B=an(l.A);var f=l.B,p=l.S;Array.isArray(p)||(p=[String(p)]),Hg(f.i,"t",p),l.C=0,f=l.j.L,l.h=new Cg,l.g=lp(l.j,f?c:null,!l.u),l.P>0&&(l.O=new Qb(h(l.Y,l,l.g),l.P)),c=l.V,f=l.g,p=l.ba;var N="readystatechange";Array.isArray(N)||(N&&(_g[0]=N.toString()),N=_g);for(let O=0;O<N.length;O++){const j=dg(f,N[O],p||c.handleEvent,!1,c.h||c);if(!j)break;c.g[j.key]=j}c=l.J?ts(l.J):{},l.u?(l.v||(l.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,c)):(l.v="GET",l.g.ea(l.B,l.v,null,c)),aa(),Xb(l.i,l.v,l.B,l.l,l.S,l.u)}ni.prototype.ba=function(l){l=l.target;const c=this.O;c&&ri(l)==3?c.j():this.Y(l)},ni.prototype.Y=function(l){try{if(l==this.g)t:{const W=ri(this.g),Gt=this.g.ya(),pt=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||$g(this.g)))){this.K||W!=4||Gt==7||(Gt==8||pt<=0?aa(3):aa(2)),Yc(this);var c=this.g.ca();this.X=c;var f=tA(this);if(this.o=c==200,$b(this.i,this.v,this.B,this.l,this.S,W,c),this.o){if(this.U&&!this.L){e:{if(this.g){var p,N=this.g;if((p=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(p)){var O=p;break e}}O=null}if(l=O)zs(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kc(this,l);else{this.o=!1,this.m=3,ge(12),is(this),ca(this);break t}}if(this.R){l=!0;let Xt;for(;!this.K&&this.C<f.length;)if(Xt=eA(this,f),Xt==Fc){W==4&&(this.m=4,ge(14),l=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==xg){this.m=4,ge(15),zs(this.i,this.l,f,"[Invalid Chunk]"),l=!1;break}else zs(this.i,this.l,Xt,null),Kc(this,Xt);if(Dg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||f.length!=0||this.h.h||(this.m=1,ge(16),l=!1),this.o=this.o&&l,!l)zs(this.i,this.l,f,"[Invalid Chunked Response]"),is(this),ca(this);else if(f.length>0&&!this.W){this.W=!0;var j=this.j;j.g==this&&j.aa&&!j.P&&(j.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),nh(j),j.P=!0,ge(11))}}else zs(this.i,this.l,f,null),Kc(this,f);W==4&&is(this),this.o&&!this.K&&(W==4?ip(this.j,this):(this.o=!1,Wl(this)))}else gA(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),is(this),ca(this)}}}catch{}finally{}};function tA(l){if(!Dg(l))return l.g.la();const c=$g(l.g);if(c==="")return"";let f="";const p=c.length,N=ri(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return is(l),ca(l),"";l.h.i=new a.TextDecoder}for(let O=0;O<p;O++)l.h.h=!0,f+=l.h.i.decode(c[O],{stream:!(N&&O==p-1)});return c.length=0,l.h.g+=f,l.C=0,l.h.g}function Dg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function eA(l,c){var f=l.C,p=c.indexOf(`
`,f);return p==-1?Fc:(f=Number(c.substring(f,p)),isNaN(f)?xg:(p+=1,p+f>c.length?Fc:(c=c.slice(p,p+f),l.C=p+f,c)))}ni.prototype.cancel=function(){this.K=!0,is(this)};function Wl(l){l.T=Date.now()+l.H,Og(l,l.H)}function Og(l,c){if(l.D!=null)throw Error("WatchDog timer not null");l.D=la(h(l.aa,l),c)}function Yc(l){l.D&&(a.clearTimeout(l.D),l.D=null)}ni.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Jb(this.i,this.B),this.M!=2&&(aa(),ge(17)),is(this),this.m=2,ca(this)):Og(this,this.T-l)};function ca(l){l.j.I==0||l.K||ip(l.j,l)}function is(l){Yc(l);var c=l.O;c&&typeof c.dispose=="function"&&c.dispose(),l.O=null,vg(l.V),l.g&&(c=l.g,l.g=null,c.abort(),c.dispose())}function Kc(l,c){try{var f=l.j;if(f.I!=0&&(f.g==l||Xc(f.h,l))){if(!l.L&&Xc(f.h,l)&&f.I==3){try{var p=f.Ba.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var N=p;if(N[0]==0){t:if(!f.v){if(f.g)if(f.g.F+3e3<l.F)ro(f),io(f);else break t;eh(f),ge(18)}}else f.xa=N[1],0<f.xa-f.K&&N[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=la(h(f.Va,f),6e3));kg(f.h)<=1&&f.ta&&(f.ta=void 0)}else rs(f,11)}else if((l.L||f.g==l)&&ro(f),!A(c))for(N=f.Ba.g.parse(c),c=0;c<N.length;c++){let pt=N[c];const Xt=pt[0];if(!(Xt<=f.K))if(f.K=Xt,pt=pt[1],f.I==2)if(pt[0]=="c"){f.M=pt[1],f.ba=pt[2];const ln=pt[3];ln!=null&&(f.ka=ln,f.j.info("VER="+f.ka));const as=pt[4];as!=null&&(f.za=as,f.j.info("SVER="+f.za));const ai=pt[5];ai!=null&&typeof ai=="number"&&ai>0&&(p=1.5*ai,f.O=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const li=l.g;if(li){const lo=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var O=p.h;O.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&($c(O,O.h),O.h=null))}if(p.G){const ih=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(p.wa=ih,Et(p.J,p.G,ih))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-l.F,f.j.info("Handshake RTT: "+f.T+"ms")),p=f;var j=l;if(p.na=ap(p,p.L?p.ba:null,p.W),j.L){Ug(p.h,j);var W=j,Gt=p.O;Gt&&(W.H=Gt),W.D&&(Yc(W),Wl(W)),p.g=j}else ep(p);f.i.length>0&&so(f)}else pt[0]!="stop"&&pt[0]!="close"||rs(f,7);else f.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?rs(f,7):th(f):pt[0]!="noop"&&f.l&&f.l.qa(pt),f.A=0)}}aa(4)}catch{}}var nA=class{constructor(l,c){this.g=l,this.map=c}};function Vg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function kg(l){return l.h?1:l.g?l.g.size:0}function Xc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function $c(l,c){l.g?l.g.add(c):l.h=c}function Ug(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Vg.prototype.cancel=function(){if(this.i=Lg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Lg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const f of l.g.values())c=c.concat(f.G);return c}return v(l.i)}var Pg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iA(l,c){if(l){l=l.split("&");for(let f=0;f<l.length;f++){const p=l[f].indexOf("=");let N,O=null;p>=0?(N=l[f].substring(0,p),O=l[f].substring(p+1)):N=l[f],c(N,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function ii(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;l instanceof ii?(this.l=l.l,ha(this,l.j),this.o=l.o,this.g=l.g,fa(this,l.u),this.h=l.h,Jc(this,Gg(l.i)),this.m=l.m):l&&(c=String(l).match(Pg))?(this.l=!1,ha(this,c[1]||"",!0),this.o=da(c[2]||""),this.g=da(c[3]||"",!0),fa(this,c[4]),this.h=da(c[5]||"",!0),Jc(this,c[6]||"",!0),this.m=da(c[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}ii.prototype.toString=function(){const l=[];var c=this.j;c&&l.push(ma(c,zg,!0),":");var f=this.g;return(f||c=="file")&&(l.push("//"),(c=this.o)&&l.push(ma(c,zg,!0),"@"),l.push(ua(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&l.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ma(f,f.charAt(0)=="/"?aA:rA,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ma(f,oA)),l.join("")},ii.prototype.resolve=function(l){const c=an(this);let f=!!l.j;f?ha(c,l.j):f=!!l.o,f?c.o=l.o:f=!!l.g,f?c.g=l.g:f=l.u!=null;var p=l.h;if(f)fa(c,l.u);else if(f=!!l.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var N=c.h.lastIndexOf("/");N!=-1&&(p=c.h.slice(0,N+1)+p)}if(N=p,N==".."||N==".")p="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){p=N.lastIndexOf("/",0)==0,N=N.split("/");const O=[];for(let j=0;j<N.length;){const W=N[j++];W=="."?p&&j==N.length&&O.push(""):W==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),p&&j==N.length&&O.push("")):(O.push(W),p=!0)}p=O.join("/")}else p=N}return f?c.h=p:f=l.i.toString()!=="",f?Jc(c,Gg(l.i)):f=!!l.m,f&&(c.m=l.m),c};function an(l){return new ii(l)}function ha(l,c,f){l.j=f?da(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function fa(l,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);l.u=c}else l.u=null}function Jc(l,c,f){c instanceof ga?(l.i=c,uA(l.i,l.l)):(f||(c=ma(c,lA)),l.i=new ga(c,l.l))}function Et(l,c,f){l.i.set(c,f)}function to(l){return Et(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function da(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ma(l,c,f){return typeof l=="string"?(l=encodeURI(l).replace(c,sA),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var zg=/[#\/\?@]/g,rA=/[#\?:]/g,aA=/[#\?]/g,lA=/[#\?@]/g,oA=/#/g;function ga(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function ss(l){l.g||(l.g=new Map,l.h=0,l.i&&iA(l.i,function(c,f){l.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=ga.prototype,e.add=function(l,c){ss(this),this.i=null,l=js(this,l);let f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(c),this.h+=1,this};function jg(l,c){ss(l),c=js(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function Bg(l,c){return ss(l),c=js(l,c),l.g.has(c)}e.forEach=function(l,c){ss(this),this.g.forEach(function(f,p){f.forEach(function(N){l.call(c,N,p,this)},this)},this)};function qg(l,c){ss(l);let f=[];if(typeof c=="string")Bg(l,c)&&(f=f.concat(l.g.get(js(l,c))));else for(l=Array.from(l.g.values()),c=0;c<l.length;c++)f=f.concat(l[c]);return f}e.set=function(l,c){return ss(this),this.i=null,l=js(this,l),Bg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=qg(this,l),l.length>0?String(l[0]):c):c};function Hg(l,c,f){jg(l,c),f.length>0&&(l.i=null,l.g.set(js(l,c),v(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(let p=0;p<c.length;p++){var f=c[p];const N=ua(f);f=qg(this,f);for(let O=0;O<f.length;O++){let j=N;f[O]!==""&&(j+="="+ua(f[O])),l.push(j)}}return this.i=l.join("&")};function Gg(l){const c=new ga;return c.i=l.i,l.g&&(c.g=new Map(l.g),c.h=l.h),c}function js(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function uA(l,c){c&&!l.j&&(ss(l),l.i=null,l.g.forEach(function(f,p){const N=p.toLowerCase();p!=N&&(jg(this,p),Hg(this,N,f))},l)),l.j=c}function cA(l,c){const f=new oa;if(a.Image){const p=new Image;p.onload=d(si,f,"TestLoadImage: loaded",!0,c,p),p.onerror=d(si,f,"TestLoadImage: error",!1,c,p),p.onabort=d(si,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=d(si,f,"TestLoadImage: timeout",!1,c,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=l}else c(!1)}function hA(l,c){const f=new oa,p=new AbortController,N=setTimeout(()=>{p.abort(),si(f,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:p.signal}).then(O=>{clearTimeout(N),O.ok?si(f,"TestPingServer: ok",!0,c):si(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),si(f,"TestPingServer: error",!1,c)})}function si(l,c,f,p,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),p(f)}catch{}}function fA(){this.g=new Kb}function Zc(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Zc,Eg),Zc.prototype.g=function(){return new eo(this.i,this.h)};function eo(l,c){ue.call(this),this.H=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(eo,ue),e=eo.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=c,this.readyState=1,ya(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(c.body=l),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?pa(this):ya(this),this.readyState==3&&Fg(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,pa(this))},e.Na=function(l){this.g&&(this.response=l,pa(this))},e.ga=function(){this.g&&pa(this)};function pa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ya(l)}e.setRequestHeader=function(l,c){this.A.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=c.next();return l.join(`\r
`)};function ya(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Qg(l){let c="";return _t(l,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Wc(l,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Qg(f),typeof l=="string"?f!=null&&ua(f):Et(l,c,f))}function Nt(l){ue.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Nt,ue);var dA=/^https?$/i,mA=["POST","PUT"];e=Nt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ig.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(O){Yg(this,O);return}if(l=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var N in p)f.set(N,p[N]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const O of p.keys())f.set(O,p.get(O));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(mA,c,void 0)>=0)||p||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of f)this.g.setRequestHeader(O,j);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(O){Yg(this,O)}};function Yg(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.o=5,Kg(l),no(l)}function Kg(l){l.A||(l.A=!0,me(l,"complete"),me(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,me(this,"complete"),me(this,"abort"),no(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),no(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Xg(this):this.Xa())},e.Xa=function(){Xg(this)};function Xg(l){if(l.h&&typeof r<"u"){if(l.v&&ri(l)==4)setTimeout(l.Ca.bind(l),0);else if(me(l,"readystatechange"),ri(l)==4){l.h=!1;try{const O=l.ca();t:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=O===0){let j=String(l.D).match(Pg)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),p=!dA.test(j?j.toLowerCase():"")}f=p}if(f)me(l,"complete"),me(l,"success");else{l.o=6;try{var N=ri(l)>2?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.ca()+"]",Kg(l)}}finally{no(l)}}}}function no(l,c){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const f=l.g;l.g=null,c||me(l,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ri(l){return l.g?l.g.readyState:0}e.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),Yb(c)}};function $g(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(l){const c={};l=(l.g&&ri(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<l.length;p++){if(A(l[p]))continue;var f=Wb(l[p]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=c[N]||[];c[N]=O,O.push(f)}Ut(c,function(p){return p.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(l,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||c}function Jg(l){this.za=0,this.i=[],this.j=new oa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_a("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_a("baseRetryDelayMs",5e3,l),this.Za=_a("retryDelaySeedMs",1e4,l),this.Ta=_a("forwardChannelMaxRetries",2,l),this.va=_a("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Vg(l&&l.concurrentRequestLimit),this.Ba=new fA,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Jg.prototype,e.ka=8,e.I=1,e.connect=function(l,c,f,p){ge(0),this.W=l,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.J=ap(this,null,this.W),so(this)};function th(l){if(Zg(l),l.I==3){var c=l.V++,f=an(l.J);if(Et(f,"SID",l.M),Et(f,"RID",c),Et(f,"TYPE","terminate"),va(l,f),c=new ni(l,l.j,c),c.M=2,c.A=to(an(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=c.A,f=!0),f||(c.g=lp(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Wl(c)}rp(l)}function io(l){l.g&&(nh(l),l.g.cancel(),l.g=null)}function Zg(l){io(l),l.v&&(a.clearTimeout(l.v),l.v=null),ro(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function so(l){if(!Mg(l.h)&&!l.m){l.m=!0;var c=l.Ea;U||y(),z||(U(),z=!0),_.add(c,l),l.D=0}}function pA(l,c){return kg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=c.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=la(h(l.Ea,l,c),sp(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const N=new ni(this,this.j,l);let O=this.o;if(this.U&&(O?(O=ts(O),Ps(O,this.U)):O=this.U),this.u!==null||this.R||(N.J=O,O=null),this.S)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,c>4096){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=tp(this,N,c),f=an(this.J),Et(f,"RID",l),Et(f,"CVER",22),this.G&&Et(f,"X-HTTP-Session-Id",this.G),va(this,f),O&&(this.R?c="headers="+ua(Qg(O))+"&"+c:this.u&&Wc(f,this.u,O)),$c(this.h,N),this.Ra&&Et(f,"TYPE","init"),this.S?(Et(f,"$req",c),Et(f,"SID","null"),N.U=!0,Qc(N,f,null)):Qc(N,f,c),this.I=2}}else this.I==3&&(l?Wg(this,l):this.i.length==0||Mg(this.h)||Wg(this))};function Wg(l,c){var f;c?f=c.l:f=l.V++;const p=an(l.J);Et(p,"SID",l.M),Et(p,"RID",f),Et(p,"AID",l.K),va(l,p),l.u&&l.o&&Wc(p,l.u,l.o),f=new ni(l,l.j,f,l.D+1),l.u===null&&(f.J=l.o),c&&(l.i=c.G.concat(l.i)),c=tp(l,f,1e3),f.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),$c(l.h,f),Qc(f,p,c)}function va(l,c){l.H&&_t(l.H,function(f,p){Et(c,p,f)}),l.l&&_t({},function(f,p){Et(c,p,f)})}function tp(l,c,f){f=Math.min(l.i.length,f);const p=l.l?h(l.l.Ka,l.l,l):null;t:{var N=l.i;let W=-1;for(;;){const Gt=["count="+f];W==-1?f>0?(W=N[0].g,Gt.push("ofs="+W)):W=0:Gt.push("ofs="+W);let pt=!0;for(let Xt=0;Xt<f;Xt++){var O=N[Xt].g;const ln=N[Xt].map;if(O-=W,O<0)W=Math.max(0,N[Xt].g-100),pt=!1;else try{O="req"+O+"_"||"";try{var j=ln instanceof Map?ln:Object.entries(ln);for(const[as,ai]of j){let li=ai;o(ai)&&(li=Bc(ai)),Gt.push(O+as+"="+encodeURIComponent(li))}}catch(as){throw Gt.push(O+"type="+encodeURIComponent("_badmap")),as}}catch{p&&p(ln)}}if(pt){j=Gt.join("&");break t}}j=void 0}return l=l.i.splice(0,f),c.G=l,j}function ep(l){if(!l.g&&!l.v){l.Y=1;var c=l.Da;U||y(),z||(U(),z=!0),_.add(c,l),l.A=0}}function eh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=la(h(l.Da,l),sp(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,np(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=la(h(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),io(this),np(this))};function nh(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function np(l){l.g=new ni(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var c=an(l.na);Et(c,"RID","rpc"),Et(c,"SID",l.M),Et(c,"AID",l.K),Et(c,"CI",l.F?"0":"1"),!l.F&&l.ia&&Et(c,"TO",l.ia),Et(c,"TYPE","xmlhttp"),va(l,c),l.u&&l.o&&Wc(c,l.u,l.o),l.O&&(l.g.H=l.O);var f=l.g;l=l.ba,f.M=1,f.A=to(an(c)),f.u=null,f.R=!0,Ng(f,l)}e.Va=function(){this.C!=null&&(this.C=null,io(this),eh(this),ge(19))};function ro(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ip(l,c){var f=null;if(l.g==c){ro(l),nh(l),l.g=null;var p=2}else if(Xc(l.h,c))f=c.G,Ug(l.h,c),p=1;else return;if(l.I!=0){if(c.o)if(p==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var N=l.D;p=Jl(),me(p,new wg(p,f)),so(l)}else ep(l);else if(N=c.m,N==3||N==0&&c.X>0||!(p==1&&pA(l,c)||p==2&&eh(l)))switch(f&&f.length>0&&(c=l.h,c.i=c.i.concat(f)),N){case 1:rs(l,5);break;case 4:rs(l,10);break;case 3:rs(l,6);break;default:rs(l,2)}}}function sp(l,c){let f=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(f*=2),f*c}function rs(l,c){if(l.j.info("Error code "+c),c==2){var f=h(l.bb,l),p=l.Ua;const N=!p;p=new ii(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ha(p,"https"),to(p),N?cA(p.toString(),f):hA(p.toString(),f)}else ge(2);l.I=0,l.l&&l.l.pa(c),rp(l),Zg(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function rp(l){if(l.I=0,l.ja=[],l.l){const c=Lg(l.h);(c.length!=0||l.i.length!=0)&&(D(l.ja,c),D(l.ja,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.oa()}}function ap(l,c,f){var p=f instanceof ii?an(f):new ii(f);if(p.g!="")c&&(p.g=c+"."+p.g),fa(p,p.u);else{var N=a.location;p=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;const O=new ii(null);p&&ha(O,p),c&&(O.g=c),N&&fa(O,N),f&&(O.h=f),p=O}return f=l.G,c=l.wa,f&&c&&Et(p,f,c),Et(p,"VER",l.ka),va(l,p),p}function lp(l,c,f){if(c&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Aa&&!l.ma?new Nt(new Zc({ab:f})):new Nt(l.ma),c.Fa(l.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function op(){}e=op.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ao(){}ao.prototype.g=function(l,c){return new xe(l,c)};function xe(l,c){ue.call(this),this.g=new Jg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(l?l["X-WebChannel-Client-Profile"]=c.sa:l={"X-WebChannel-Client-Profile":c.sa}),this.g.U=l,(l=c&&c.Qb)&&!A(l)&&(this.g.u=l),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.G=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Bs(this)}g(xe,ue),xe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){th(this.g)},xe.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.v&&(f={},f.__data__=Bc(l),l=f);c.i.push(new nA(c.Ya++,l)),c.I==3&&so(c)},xe.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,xe.Z.N.call(this)};function up(l){qc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const f in c){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}g(up,qc);function cp(){Hc.call(this),this.status=1}g(cp,Hc);function Bs(l){this.g=l}g(Bs,op),Bs.prototype.ra=function(){me(this.g,"a")},Bs.prototype.qa=function(l){me(this.g,new up(l))},Bs.prototype.pa=function(l){me(this.g,new cp)},Bs.prototype.oa=function(){me(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,DT=function(){return new ao},NT=function(){return Jl()},xT=ns,nd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zl.NO_ERROR=0,Zl.TIMEOUT=8,Zl.HTTP_ERROR=6,Qo=Zl,Rg.COMPLETE="complete",CT=Rg,Tg.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Va=Tg,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,IT=Nt}).apply(typeof wo<"u"?wo:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr="12.8.0";function W2(e){Wr=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Sm("@firebase/firestore");function Ys(){return Cs.logLevel}function q(e,...t){if(Cs.logLevel<=it.DEBUG){const n=t.map(Im);Cs.debug(`Firestore (${Wr}): ${e}`,...n)}}function Xn(e,...t){if(Cs.logLevel<=it.ERROR){const n=t.map(Im);Cs.error(`Firestore (${Wr}): ${e}`,...n)}}function kr(e,...t){if(Cs.logLevel<=it.WARN){const n=t.map(Im);Cs.warn(`Firestore (${Wr}): ${e}`,...n)}}function Im(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,OT(e,i,n)}function OT(e,t,n){let i=`FIRESTORE (${Wr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Xn(i),new Error(i)}function ht(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||OT(t,s,i)}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class eI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nI{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new zi,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new zi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new VT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new he(t)}}class iI{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=he.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sI{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new iI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=aI(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function st(e,t){return e<t?-1:e>t?1:0}function id(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Qh(s)===Qh(r)?st(s,r):Qh(s)?1:-1}return st(e.length,t.length)}const lI=55296,oI=57343;function Qh(e){const t=e.charCodeAt(0);return t>=lI&&t<=oI}function Ur(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="__name__";class on{constructor(t,n,i){n===void 0?n=0:n>t.length&&F(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&F(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return on.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof on?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=on.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return st(t.length,n.length)}static compareSegments(t,n){const i=on.isNumericId(t),s=on.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?on.extractNumericId(t).compare(on.extractNumericId(n)):id(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Pi.fromString(t.substring(4,t.length-2))}}class Ct extends on{construct(t,n,i){return new Ct(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends on{construct(t,n,i){return new se(t,n,i)}static isValidIdentifier(t){return uI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zy}static keyField(){return new se([Zy])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(Ct.fromString(t))}static fromName(t){return new G(Ct.fromString(t).popFirst(5))}static empty(){return new G(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ct.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ct.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new Ct(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(e,t,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hI(e,t,n,i){if(t===!0&&i===!0)throw new H(P.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wy(e){if(!G.isDocumentKey(e))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function MT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function xm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":F(12329,{type:typeof e})}function pn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xm(e);throw new H(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e,t){const n={typeString:e};return t&&(n.value=t),n}function ql(e,t){if(!MT(e))throw new H(P.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new H(P.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,e_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(t){return At.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*e_);return new At(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<t_)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,At._jsonSchema))return new At(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-t_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:qt("string",At._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{static fromTimestamp(t){return new K(t)}static min(){return new K(new At(0,0))}static max(){return new K(new At(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=-1;function fI(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=K.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Gi(s,G.empty(),t)}function dI(e){return new Gi(e.readTime,e.key,_l)}class Gi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Gi(K.min(),G.empty(),_l)}static max(){return new Gi(K.max(),G.empty(),_l)}}function mI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(e){if(e.code!==P.FAILED_PRECONDITION||e.message!==gI)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&F(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new L((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++o,o===r&&i(a)},d=>s(d))}})}static doWhile(t,n){return new L((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function yI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function yc(e){return e==null}function Vu(e){return e===0&&1/e==-1/0}function _I(e){return typeof e=="number"&&Number.isInteger(e)&&!Vu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="";function vI(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=n_(t)),t=EI(e.get(n),t);return n_(t)}function EI(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case kT:n+="";break;default:n+=r}}return n}function n_(e){return e+kT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,n){this.comparator=t,this.root=n||ee.EMPTY}insert(t,n){return new xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ee.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ee.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ro(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ro(this.root,t,this.comparator,!0)}}class Ro{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ee{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??ee.RED,this.left=s??ee.EMPTY,this.right=r??ee.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new ee(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ee.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return ee.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ee.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ee.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw F(43730,{key:this.key,value:this.value});if(this.right.isRed())throw F(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw F(27949);return t+(this.isRed()?0:1)}}ee.EMPTY=null,ee.RED=!0,ee.BLACK=!1;ee.EMPTY=new class{constructor(){this.size=0}get key(){throw F(57766)}get value(){throw F(16141)}get color(){throw F(16727)}get left(){throw F(29726)}get right(){throw F(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new ee(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(t){return new s_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Yt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Yt(this.comparator);return n.data=t,n}}class s_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Me([])}unionWith(t){let n=new Yt(se.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Me(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ur(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new LT("Invalid base64 string: "+r):r}}(t);return new le(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const TI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=TI.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vt(e.seconds),nanos:Vt(e.nanos)}}function Vt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qi(e){return typeof e=="string"?le.fromBase64String(e):le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",zT="__type__",jT="__previous_value__",BT="__local_write_time__";function Dm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[zT])==null?void 0:i.stringValue)===PT}function _c(e){const t=e.mapValue.fields[jT];return Dm(t)?_c(t):t}function vl(e){const t=Fi(e.mapValue.fields[BT].timestampValue);return new At(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t,n,i,s,r,a,o,u,h,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=g}}const Mu="(default)";class El{constructor(t,n){this.projectId=t,this.database=n||Mu}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Mu}isEqual(t){return t instanceof El&&t.projectId===this.projectId&&t.database===this.database}}function AI(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",SI="__max__",Io={mapValue:{}},HT="__vector__",ku="value";function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dm(e)?4:RI(e)?9007199254740991:wI(e)?10:11:F(28295,{value:e})}function An(e,t){if(e===t)return!0;const n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vl(e).isEqual(vl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Fi(s.timestampValue),o=Fi(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Qi(s.bytesValue).isEqual(Qi(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return Vt(s.geoPointValue.latitude)===Vt(r.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Vt(s.integerValue)===Vt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Vt(s.doubleValue),o=Vt(r.doubleValue);return a===o?Vu(a)===Vu(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Ur(e.arrayValue.values||[],t.arrayValue.values||[],An);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(i_(a)!==i_(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!An(a[u],o[u])))return!1;return!0}(e,t);default:return F(52216,{left:e})}}function Tl(e,t){return(e.values||[]).find(n=>An(n,t))!==void 0}function Lr(e,t){if(e===t)return 0;const n=Yi(e),i=Yi(t);if(n!==i)return st(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=Vt(r.integerValue||r.doubleValue),u=Vt(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return r_(e.timestampValue,t.timestampValue);case 4:return r_(vl(e),vl(t));case 5:return id(e.stringValue,t.stringValue);case 6:return function(r,a){const o=Qi(r),u=Qi(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),u=a.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=st(o[h],u[h]);if(d!==0)return d}return st(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=st(Vt(r.latitude),Vt(a.latitude));return o!==0?o:st(Vt(r.longitude),Vt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return a_(e.arrayValue,t.arrayValue);case 10:return function(r,a){var m,v,D,M;const o=r.fields||{},u=a.fields||{},h=(m=o[ku])==null?void 0:m.arrayValue,d=(v=u[ku])==null?void 0:v.arrayValue,g=st(((D=h==null?void 0:h.values)==null?void 0:D.length)||0,((M=d==null?void 0:d.values)==null?void 0:M.length)||0);return g!==0?g:a_(h,d)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===Io.mapValue&&a===Io.mapValue)return 0;if(r===Io.mapValue)return 1;if(a===Io.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=id(u[g],d[g]);if(m!==0)return m;const v=Lr(o[u[g]],h[d[g]]);if(v!==0)return v}return st(u.length,d.length)}(e.mapValue,t.mapValue);default:throw F(23264,{he:n})}}function r_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=Fi(e),i=Fi(t),s=st(n.seconds,i.seconds);return s!==0?s:st(n.nanos,i.nanos)}function a_(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Lr(n[s],i[s]);if(r)return r}return st(n.length,i.length)}function Pr(e){return sd(e)}function sd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Fi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Qi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=sd(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${sd(n.fields[a])}`;return s+"}"}(e.mapValue):F(61005,{value:e})}function Yo(e){switch(Yi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_c(e);return t?16+Yo(t):16;case 5:return 2*e.stringValue.length;case 6:return Qi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Yo(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Zi(i.fields,(r,a)=>{s+=r.length+Yo(a)}),s}(e.mapValue);default:throw F(13486,{value:e})}}function rd(e){return!!e&&"integerValue"in e}function Om(e){return!!e&&"arrayValue"in e}function l_(e){return!!e&&"nullValue"in e}function o_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ko(e){return!!e&&"mapValue"in e}function wI(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[qT])==null?void 0:i.stringValue)===HT}function Za(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Zi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Za(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Za(e.arrayValue.values[n]);return t}return{...e}}function RI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===SI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.value=t}static empty(){return new Se({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ko(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Za(n)}setAll(t){let n=se.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Za(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Ko(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return An(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ko(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Zi(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Se(Za(this.value))}}function GT(e){const t=[];return Zi(e.fields,(n,i)=>{const s=new se([n]);if(Ko(i)){const r=GT(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new Me(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new fe(t,0,K.min(),K.min(),K.min(),Se.empty(),0)}static newFoundDocument(t,n,i,s){return new fe(t,1,n,K.min(),i,s,0)}static newNoDocument(t,n){return new fe(t,2,n,K.min(),K.min(),Se.empty(),0)}static newUnknownDocument(t,n){return new fe(t,3,n,K.min(),K.min(),Se.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Se.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Se.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n){this.position=t,this.inclusive=n}}function u_(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Lr(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function c_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!An(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,n="asc"){this.field=t,this.dir=n}}function II(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Qt extends FT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new xI(t,n,i):n==="array-contains"?new OI(t,i):n==="in"?new VI(t,i):n==="not-in"?new MI(t,i):n==="array-contains-any"?new kI(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new NI(t,i):new DI(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lr(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(Lr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return F(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends FT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Sn(t,n)}matches(t){return QT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function QT(e){return e.op==="and"}function YT(e){return CI(e)&&QT(e)}function CI(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function ad(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+Pr(e.value);if(YT(e))return e.filters.map(t=>ad(t)).join(",");{const t=e.filters.map(n=>ad(n)).join(",");return`${e.op}(${t})`}}function KT(e,t){return e instanceof Qt?function(i,s){return s instanceof Qt&&i.op===s.op&&i.field.isEqual(s.field)&&An(i.value,s.value)}(e,t):e instanceof Sn?function(i,s){return s instanceof Sn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&KT(a,s.filters[o]),!0):!1}(e,t):void F(19439)}function XT(e){return e instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pr(n.value)}`}(e):e instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(e):"Filter"}class xI extends Qt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class NI extends Qt{constructor(t,n){super(t,"in",n),this.keys=$T("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class DI extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=$T("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function $T(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class OI extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Om(n)&&Tl(n.arrayValue,this.value)}}class VI extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tl(this.value.arrayValue,n)}}class MI extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tl(this.value.arrayValue,n)}}class kI extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function h_(e,t=null,n=[],i=[],s=null,r=null,a=null){return new UI(e,t,n,i,s,r,a)}function Vm(e){const t=X(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>ad(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),yc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Pr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Pr(i)).join(",")),t.Te=n}return t.Te}function Mm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!II(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!KT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!c_(e.startAt,t.startAt)&&c_(e.endAt,t.endAt)}function ld(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LI(e,t,n,i,s,r,a,o){return new vc(e,t,n,i,s,r,a,o)}function Ec(e){return new vc(e)}function f_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function PI(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function zI(e){return e.collectionGroup!==null}function Wa(e){const t=X(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Yt(se.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Lu(r,i))}),n.has(se.keyField().canonicalString())||t.Ie.push(new Lu(se.keyField(),i))}return t.Ie}function yn(e){const t=X(e);return t.Ee||(t.Ee=jI(t,Wa(e))),t.Ee}function jI(e,t){if(e.limitType==="F")return h_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Lu(s.field,r)});const n=e.endAt?new Uu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Uu(e.startAt.position,e.startAt.inclusive):null;return h_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function od(e,t,n){return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tc(e,t){return Mm(yn(e),yn(t))&&e.limitType===t.limitType}function JT(e){return`${Vm(yn(e))}|lt:${e.limitType}`}function Ks(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XT(s)).join(", ")}]`),yc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Pr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Pr(s)).join(",")),`Target(${i})`}(yn(e))}; limitType=${e.limitType})`}function bc(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):G.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Wa(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,u){const h=u_(a,o,u);return a.inclusive?h<=0:h<0}(i.startAt,Wa(i),s)||i.endAt&&!function(a,o,u){const h=u_(a,o,u);return a.inclusive?h>=0:h>0}(i.endAt,Wa(i),s))}(e,t)}function BI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ZT(e){return(t,n)=>{let i=!1;for(const s of Wa(e)){const r=qI(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function qI(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(r,a,o){const u=a.data.field(r),h=o.data.field(r);return u!==null&&h!==null?Lr(u,h):F(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return F(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Zi(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new xt(G.comparator);function $n(){return HI}const WT=new xt(G.comparator);function Ma(...e){let t=WT;for(const n of e)t=t.insert(n.key,n);return t}function t1(e){let t=WT;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ds(){return tl()}function e1(){return tl()}function tl(){return new Us(e=>e.toString(),(e,t)=>e.isEqual(t))}const GI=new xt(G.comparator),FI=new Yt(G.comparator);function rt(...e){let t=FI;for(const n of e)t=t.add(n);return t}const QI=new Yt(st);function YI(){return QI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(t)?"-0":t}}function n1(e){return{integerValue:""+e}}function i1(e,t){return _I(t)?n1(t):km(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function KI(e,t,n){return e instanceof Pu?function(s,r){const a={fields:{[zT]:{stringValue:PT},[BT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Dm(r)&&(r=_c(r)),r&&(a.fields[jT]=r),{mapValue:a}}(n,t):e instanceof bl?r1(e,t):e instanceof Al?a1(e,t):function(s,r){const a=s1(s,r),o=d_(a)+d_(s.Ae);return rd(a)&&rd(s.Ae)?n1(o):km(s.serializer,o)}(e,t)}function XI(e,t,n){return e instanceof bl?r1(e,t):e instanceof Al?a1(e,t):n}function s1(e,t){return e instanceof Sl?function(i){return rd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Pu extends Ac{}class bl extends Ac{constructor(t){super(),this.elements=t}}function r1(e,t){const n=l1(t);for(const i of e.elements)n.some(s=>An(s,i))||n.push(i);return{arrayValue:{values:n}}}class Al extends Ac{constructor(t){super(),this.elements=t}}function a1(e,t){let n=l1(t);for(const i of e.elements)n=n.filter(s=>!An(s,i));return{arrayValue:{values:n}}}class Sl extends Ac{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function d_(e){return Vt(e.integerValue||e.doubleValue)}function l1(e){return Om(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.field=t,this.transform=n}}function JI(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof bl&&s instanceof bl||i instanceof Al&&s instanceof Al?Ur(i.elements,s.elements,An):i instanceof Sl&&s instanceof Sl?An(i.Ae,s.Ae):i instanceof Pu&&s instanceof Pu}(e.transform,t.transform)}class ZI{constructor(t,n){this.version=t,this.transformResults=n}}class _n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new _n}static exists(t){return new _n(void 0,t)}static updateTime(t){return new _n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xo(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Sc{}function o1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new c1(e.key,_n.none()):new Hl(e.key,e.data,_n.none());{const n=e.data,i=Se.empty();let s=new Yt(se.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Wi(e.key,i,new Me(s.toArray()),_n.none())}}function WI(e,t,n){e instanceof Hl?function(s,r,a){const o=s.value.clone(),u=g_(s.fieldTransforms,r,a.transformResults);o.setAll(u),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Wi?function(s,r,a){if(!Xo(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=g_(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(u1(s)),u.setAll(o),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function el(e,t,n,i){return e instanceof Hl?function(r,a,o,u){if(!Xo(r.precondition,a))return o;const h=r.value.clone(),d=p_(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Wi?function(r,a,o,u){if(!Xo(r.precondition,a))return o;const h=p_(r.fieldTransforms,u,a),d=a.data;return d.setAll(u1(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(r,a,o){return Xo(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function tC(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=s1(i.transform,s||null);r!=null&&(n===null&&(n=Se.empty()),n.set(i.field,r))}return n||null}function m_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ur(i,s,(r,a)=>JI(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hl extends Sc{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wi extends Sc{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function u1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function g_(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,XI(a,o,n[s]))}return i}function p_(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,KI(r,a,t))}return i}class c1 extends Sc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eC extends Sc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&WI(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=el(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=el(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=e1();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const u=o1(a,o);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(K.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Ur(this.mutations,t.mutations,(n,i)=>m_(n,i))&&Ur(this.baseMutations,t.baseMutations,(n,i)=>m_(n,i))}}class Um{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ht(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return GI}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Um(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,ot;function rC(e){switch(e){case P.OK:return F(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return F(15467,{code:e})}}function h1(e){if(e===void 0)return Xn("GRPC error has no .code"),P.UNKNOWN;switch(e){case Lt.OK:return P.OK;case Lt.CANCELLED:return P.CANCELLED;case Lt.UNKNOWN:return P.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return P.INTERNAL;case Lt.UNAVAILABLE:return P.UNAVAILABLE;case Lt.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Lt.NOT_FOUND:return P.NOT_FOUND;case Lt.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Lt.ABORTED:return P.ABORTED;case Lt.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Lt.DATA_LOSS:return P.DATA_LOSS;default:return F(39323,{code:e})}}(ot=Lt||(Lt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Pi([4294967295,4294967295],0);function y_(e){const t=aC().encode(e),n=new RT;return n.update(t),new Uint8Array(n.digest())}function __(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Pi([n,i],0),new Pi([s,r],0)]}class Lm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(i<0)throw new ka(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Pi.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Pi.fromNumber(i)));return s.compare(lC)===1&&(s=new Pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=y_(t),[i,s]=__(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Lm(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=y_(t),[i,s]=__(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new wc(K.min(),s,new xt(st),$n(),rt())}}class Gl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Gl(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=s}}class f1{constructor(t,n){this.targetId=t,this.Ce=n}}class d1{constructor(t,n,i=le.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class v_{constructor(){this.ve=0,this.Fe=E_(),this.Me=le.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=rt(),n=rt(),i=rt();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:F(38017,{changeType:r})}}),new Gl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=E_()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oC{constructor(t){this.Ge=t,this.ze=new Map,this.je=$n(),this.He=Co(),this.Je=Co(),this.Ze=new xt(st)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:F(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(ld(r))if(i===0){const a=new G(r.path);this.et(n,a,fe.newNoDocument(a,K.min()))}else ht(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(t),u=o?this.ct(o,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Qi(i).toUint8Array()}catch(u){if(u instanceof LT)return kr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Lm(a,s,r)}catch(u){return kr(u instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&ld(o.target)){const u=new G(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,fe.newNoDocument(u,t))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=rt();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(t));const s=new wc(t,n,this.Ze,this.je,i);return this.je=$n(),this.He=Co(),this.Je=Co(),this.Ze=new xt(st),s}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new v_,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Yt(st),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Yt(st),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new v_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Co(){return new xt(G.comparator)}function E_(){return new xt(G.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},cC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hC={and:"AND",or:"OR"};class fC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ud(e,t){return e.useProto3Json||yc(t)?t:{value:t}}function zu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function m1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dC(e,t){return zu(e,t.toTimestamp())}function vn(e){return ht(!!e,49232),K.fromTimestamp(function(n){const i=Fi(n);return new At(i.seconds,i.nanos)}(e))}function Pm(e,t){return cd(e,t).canonicalString()}function cd(e,t){const n=function(s){return new Ct(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function g1(e){const t=Ct.fromString(e);return ht(E1(t),10190,{key:t.toString()}),t}function hd(e,t){return Pm(e.databaseId,t.path)}function Yh(e,t){const n=g1(t);if(n.get(1)!==e.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(y1(n))}function p1(e,t){return Pm(e.databaseId,t)}function mC(e){const t=g1(e);return t.length===4?Ct.emptyPath():y1(t)}function fd(e){return new Ct(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function y1(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function T_(e,t,n){return{name:hd(e,t),fields:n.value.mapValue.fields}}function gC(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:F(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(ht(d===void 0||typeof d=="string",58123),le.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),le.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(h){const d=h.code===void 0?P.UNKNOWN:h1(h.code);return new H(d,h.message||"")}(a);n=new d1(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Yh(e,i.document.name),r=vn(i.document.updateTime),a=i.document.createTime?vn(i.document.createTime):K.min(),o=new Se({mapValue:{fields:i.document.fields}}),u=fe.newFoundDocument(s,r,a,o),h=i.targetIds||[],d=i.removedTargetIds||[];n=new $o(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Yh(e,i.document),r=i.readTime?vn(i.readTime):K.min(),a=fe.newNoDocument(s,r),o=i.removedTargetIds||[];n=new $o([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Yh(e,i.document),r=i.removedTargetIds||[];n=new $o([],r,s,null)}else{if(!("filter"in t))return F(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new sC(s,r),o=i.targetId;n=new f1(o,a)}}return n}function pC(e,t){let n;if(t instanceof Hl)n={update:T_(e,t.key,t.value)};else if(t instanceof c1)n={delete:hd(e,t.key)};else if(t instanceof Wi)n={update:T_(e,t.key,t.data),updateMask:wC(t.fieldMask)};else{if(!(t instanceof eC))return F(16599,{dt:t.type});n={verify:hd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof Pu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof bl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Al)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Sl)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw F(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:dC(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:F(27497)}(e,t.precondition)),n}function yC(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?vn(s.updateTime):vn(r);return a.isEqual(K.min())&&(a=vn(r)),new ZI(a,s.transformResults||[])}(n,t))):[]}function _C(e,t){return{documents:[p1(e,t.path)]}}function vC(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=p1(e,s);const r=function(h){if(h.length!==0)return v1(Sn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Xs(m.field),direction:bC(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ud(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:s}}function EC(e){let t=mC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ht(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let r=[];n.where&&(r=function(g){const m=_1(g);return m instanceof Sn&&YT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(D){return new Lu($s(D.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(g){let m;return m=typeof g=="object"?g.value:g,yc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,v=g.values||[];return new Uu(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,v=g.values||[];return new Uu(v,m)}(n.endAt)),LI(t,s,a,r,o,"F",u,h)}function TC(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=$s(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=$s(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$s(n.unaryFilter.field);return Qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=$s(n.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return F(61313);default:return F(60726)}}(e):e.fieldFilter!==void 0?function(n){return Qt.create($s(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return F(58110);default:return F(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(i=>_1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return F(1026)}}(n.compositeFilter.op))}(e):F(30097,{filter:e})}function bC(e){return uC[e]}function AC(e){return cC[e]}function SC(e){return hC[e]}function Xs(e){return{fieldPath:e.canonicalString()}}function $s(e){return se.fromServerFormat(e.fieldPath)}function v1(e){return e instanceof Qt?function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:AC(n.op),value:n.value}}}(e):e instanceof Sn?function(n){const i=n.getFilters().map(s=>v1(s));return i.length===1?i[0]:{compositeFilter:{op:SC(n.op),filters:i}}}(e):F(54877,{filter:e})}function wC(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function E1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function T1(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,n,i,s,r=K.min(),a=K.min(),o=le.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.yt=t}}function IC(e){const t=EC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.Sn=new xC}addToCollectionParentIndex(t,n){return this.Sn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Gi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Gi.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class xC{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Yt(Ct.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Yt(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b1=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(b1,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new zr(0)}static ar(){return new zr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",NC=1048576;function S_([e,t],[n,i]){const s=st(e,n);return s===0?st(t,i):s}class DC{constructor(t){this.Pr=t,this.buffer=new Yt(S_),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();S_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OC{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(A_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?q(A_,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.Ar(3e5)})}}class VC{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return L.resolve(pc.ce);const i=new DC(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(b_)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,s,r,a,o,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(t,s))).next(g=>(i=g,o=Date.now(),this.removeTargets(t,i,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Ys()<=it.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:g})))}}function MC(e,t){return new VC(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.changes=new Us(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&el(i.mutation,s,Me.empty(),At.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const s=ds();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Ma();return r.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ds();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=$n();const a=tl(),o=function(){return tl()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof Wi)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),el(d.mutation,h,d.mutation.getFieldMask(),At.now())):a.set(h.key,Me.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>o.set(h,new UC(d,a.get(h)??null))),o))}recalculateAndSaveOverlays(t,n){const i=tl();let s=new xt((a,o)=>a-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Me.empty();d=o.applyToLocalView(h,d),i.set(u,d);const g=(s.get(o.batchId)||rt()).add(u);s=s.insert(o.batchId,g)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,g=e1();d.forEach(m=>{if(!r.has(m)){const v=o1(n.get(m),i.get(m));v!==null&&g.set(m,v),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return PI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):L.resolve(ds());let o=_l,u=r;return a.next(h=>L.forEach(h,(d,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),r.get(d)?L.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,rt())).next(d=>({batchId:o,changes:t1(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let s=Ma();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Ma();return this.indexManager.getCollectionParents(t,r).next(o=>L.forEach(o,u=>{const h=function(g,m){return new vc(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,s).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,fe.newInvalidDocument(d)))});let o=Ma();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&el(d.mutation,h,Me.empty(),At.now()),bc(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vn(s.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(s){return{name:s.name,query:IC(s.bundledQuery),readTime:vn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.overlays=new xt(G.comparator),this.Lr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ds();return L.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.bt(t,n,r)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const s=ds(),r=n.length+1,a=new G(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new xt((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=ds(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=ds(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=s)););return L.resolve(o)}bt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new iC(n,i));let r=this.Lr.get(n);r===void 0&&(r=rt(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.kr=new Yt($t.Kr),this.qr=new Yt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new $t(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new $t(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new G(new Ct([])),i=new $t(n,t),s=new $t(n,t+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new G(new Ct([])),i=new $t(n,t),s=new $t(n,t+1);let r=rt();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new $t(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class $t{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return G.comparator(t.key,n.key)||st(t.Hr,n.Hr)}static Ur(t,n){return st(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Yt($t.Kr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nC(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Jr=this.Jr.add(new $t(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return L.resolve(a)}lookupMutationBatch(t,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Nm:this.Yn-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new $t(n,0),s=new $t(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const o=this.Zr(a.Hr);r.push(o)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Yt(st);return n.forEach(s=>{const r=new $t(s,0),a=new $t(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],o=>{i=i.add(o.Hr)})}),L.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;G.isDocumentKey(r)||(r=r.child(""));const a=new $t(new G(r),0);let o=new Yt(st);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(o=o.add(u.Hr)),!0)},a),L.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return L.forEach(n.mutations,s=>{const r=new $t(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new $t(n,0),s=this.Jr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t){this.ti=t,this.docs=function(){return new xt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(t,n){let i=$n();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():fe.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=$n();const a=n.path,o=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||mI(dI(d),i)<=0||(s.has(d.key)||bc(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(t,n,i,s){F(9500)}ni(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new HC(this)}getSize(t){return L.resolve(this.size)}}class HC extends kC{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.persistence=t,this.ri=new Us(n=>Vm(n),Mm),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=zr._r()}forEachTarget(t,n){return this.ri.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),L.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new zr(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.lr(n),L.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),L.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n){this._i={},this.overlays={},this.ai=new pc(0),this.ui=!1,this.ui=!0,this.ci=new jC,this.referenceDelegate=t(this),this.li=new GC(this),this.indexManager=new CC,this.remoteDocumentCache=function(s){return new qC(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new RC(n),this.Pi=new PC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new zC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new BC(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const s=new FC(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(t,n){return L.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class FC extends pI{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new jm(t)}get di(){if(this.Ai)return this.Ai;throw F(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),L.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,i=>{const s=G.fromPath(i);return this.mi(t,s).next(r=>{r||n.removeEntry(s,K.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ju{constructor(t,n){this.persistence=t,this.fi=new Us(i=>vI(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=MC(this,n)}static Vi(t,n){return new ju(t,n)}Ti(){}Ii(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return L.forEach(this.fi,(i,s)=>this.wr(t,i,s).next(r=>r?L.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(t,a=>this.wr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,K.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),L.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),L.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yo(t.data.value)),n}wr(t,n,i){return L.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return L.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=s}static Es(t,n){let i=rt(),s=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Bm(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return VR()?8:yI(de())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.gs(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new QC;return this.ys(t,n,a).next(o=>{if(r.result=o,this.As)return this.ws(t,n,a,o.size)})}).next(()=>r.result)}ws(t,n,i,s){return i.documentReadCount<this.Vs?(Ys()<=it.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ys()<=it.DEBUG&&q("QueryEngine","Query:",Ks(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Ys()<=it.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yn(n))):L.resolve())}gs(t,n){if(f_(n))return L.resolve(null);let i=yn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=od(n,null,"F"),i=yn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=rt(...r);return this.fs.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.bs(n,o);return this.Ss(n,h,a,u.readTime)?this.gs(t,od(n,null,"F")):this.Ds(t,h,n,u)}))})))}ps(t,n,i,s){return f_(n)||s.isEqual(K.min())?L.resolve(null):this.fs.getDocuments(t,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?L.resolve(null):(Ys()<=it.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ks(n)),this.Ds(t,a,n,fI(s,_l)).next(o=>o))})}bs(t,n){let i=new Yt(ZT(t));return n.forEach((s,r)=>{bc(t,r)&&(i=i.add(r))}),i}Ss(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(t,n,i){return Ys()<=it.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.fs.getDocumentsMatchingQuery(t,n,Gi.min(),i)}Ds(t,n,i,s){return this.fs.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",KC=3e8;class XC{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new xt(st),this.Fs=new Us(r=>Vm(r),Mm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function $C(e,t,n,i){return new XC(e,t,n,i)}async function S1(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let u=rt();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:o}))})})}function JC(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const g=h.batch,m=g.keys();let v=L.resolve();return m.forEach(D=>{v=v.next(()=>d.getEntry(u,D)).next(M=>{const V=h.docVersions.get(D);ht(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=rt();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function w1(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function ZC(e,t){const n=X(e),i=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const o=[];t.targetChanges.forEach((d,g)=>{const m=s.get(g);if(!m)return;o.push(n.li.removeMatchingKeys(r,d.removedDocuments,g).next(()=>n.li.addMatchingKeys(r,d.addedDocuments,g)));let v=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(le.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),s=s.insert(g,v),function(M,V,b){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=KC?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,v,d)&&o.push(n.li.updateTargetData(r,v))});let u=$n(),h=rt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(WC(r,a,t.documentUpdates).next(d=>{u=d.Bs,h=d.Ls})),!i.isEqual(K.min())){const d=n.li.getLastRemoteSnapshotVersion(r).next(g=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return L.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.vs=s,r))}function WC(e,t,n){let i=rt(),s=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=$n();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(o)),u.isNoDocument()&&u.version.isEqual(K.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):q(qm,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Bs:a,Ls:s}})}function tx(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Nm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ex(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,t).next(r=>r?(s=r,L.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new wi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function dd(e,t,n){const i=X(e),s=i.vs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ea(a))throw a;q(qm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(s.target)}function w_(e,t,n){const i=X(e);let s=K.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=X(u),m=g.Fs.get(d);return m!==void 0?L.resolve(g.vs.get(m)):g.li.getTargetData(h,d)}(i,a,yn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,o.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?s:K.min(),n?r:rt())).next(o=>(nx(i,BI(t),o),{documents:o,ks:r})))}function nx(e,t,n){let i=e.Ms.get(t)||K.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ms.set(t,i)}class R_{constructor(){this.activeTargetIds=YI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ix{constructor(){this.vo=new R_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new R_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class C_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(I_,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(I_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo=null;function md(){return xo===null?xo=function(){return 268435456+Math.round(2147483648*Math.random())}():xo++,"0x"+xo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="RestConnection",rx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ax{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Mu?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,r){const a=md(),o=this.Qo(t,n.toUriEncodedString());q(Kh,`Sending RPC '${t}' ${a}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,r);const{host:h}=new URL(o),d=Jr(h);return this.zo(t,o,u,i,d).then(g=>(q(Kh,`Received RPC '${t}' ${a}: `,g),g),g=>{throw kr(Kh,`RPC '${t}' ${a} failed with error: `,g,"url: ",o,"request:",i),g})}jo(t,n,i,s,r,a){return this.Wo(t,n,i,s,r)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}Qo(t,n){const i=rx[t];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce="WebChannelConnection",Ia=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class yr extends ax{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!yr.c_){const t=NT();Ia(t,xT.STAT_EVENT,n=>{n.stat===nd.PROXY?q(ce,"STAT_EVENT: detected buffering proxy"):n.stat===nd.NOPROXY&&q(ce,"STAT_EVENT: detected no buffering proxy")}),yr.c_=!0}}zo(t,n,i,s,r){const a=md();return new Promise((o,u)=>{const h=new IT;h.setWithCredentials(!0),h.listenOnce(CT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Qo.NO_ERROR:const g=h.getResponseJson();q(ce,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),o(g);break;case Qo.TIMEOUT:q(ce,`RPC '${t}' ${a} timed out`),u(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const m=h.getStatus();if(q(ce,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const D=v==null?void 0:v.error;if(D&&D.status&&D.message){const M=function(b){const E=b.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(E)>=0?E:P.UNKNOWN}(D.status);u(new H(M,D.message))}else u(new H(P.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(P.UNAVAILABLE,"Connection failed."));break;default:F(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{q(ce,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(s);q(ce,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}T_(t,n,i){const s=md(),r=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const h=r.join("");q(ce,`Creating RPC '${t}' stream ${s}: ${h}`,o);const d=a.createWebChannel(h,o);this.I_(d);let g=!1,m=!1;const v=new lx({Ho:D=>{m?q(ce,`Not sending because RPC '${t}' stream ${s} is closed:`,D):(g||(q(ce,`Opening RPC '${t}' stream ${s} transport.`),d.open(),g=!0),q(ce,`RPC '${t}' stream ${s} sending:`,D),d.send(D))},Jo:()=>d.close()});return Ia(d,Va.EventType.OPEN,()=>{m||(q(ce,`RPC '${t}' stream ${s} transport opened.`),v.i_())}),Ia(d,Va.EventType.CLOSE,()=>{m||(m=!0,q(ce,`RPC '${t}' stream ${s} transport closed`),v.o_(),this.E_(d))}),Ia(d,Va.EventType.ERROR,D=>{m||(m=!0,kr(ce,`RPC '${t}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),v.o_(new H(P.UNAVAILABLE,"The operation could not be completed")))}),Ia(d,Va.EventType.MESSAGE,D=>{var M;if(!m){const V=D.data[0];ht(!!V,16349);const b=V,E=(b==null?void 0:b.error)||((M=b[0])==null?void 0:M.error);if(E){q(ce,`RPC '${t}' stream ${s} received error:`,E);const w=E.status;let I=function(_){const y=Lt[_];if(y!==void 0)return h1(y)}(w),U=E.message;I===void 0&&(I=P.INTERNAL,U="Unknown error status: "+w+" with message "+E.message),m=!0,v.o_(new H(I,U)),d.close()}else q(ce,`RPC '${t}' stream ${s} received:`,V),v.__(V)}}),yr.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e){return new yr(e)}function Xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(e){return new fC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.c_=!1;class R1{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="PersistentStream";class I1{constructor(t,n,i,s,r,a,o,u){this.Ci=t,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new H(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(x_,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ux extends I1{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=gC(this.serializer,t),i=function(r){if(!("targetChange"in r))return K.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?K.min():a.readTime?vn(a.readTime):K.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=fd(this.serializer),n.addTarget=function(r,a){let o;const u=a.target;if(o=ld(u)?{documents:_C(r,u)}:{query:vC(r,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=m1(r,a.resumeToken);const h=ud(r,a.expectedCount);h!==null&&(o.expectedCount=h)}else if(a.snapshotVersion.compareTo(K.min())>0){o.readTime=zu(r,a.snapshotVersion.toTimestamp());const h=ud(r,a.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=TC(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=fd(this.serializer),n.removeTarget=t,this.K_(n)}}class cx extends I1{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yC(t.writeResults,t.commitTime),i=vn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=fd(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>pC(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{}class fx extends hx{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(t,cd(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(P.UNKNOWN,r.toString())})}jo(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(t,cd(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(P.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function dx(e,t,n,i){return new fx(e,t,n,i)}class mx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class gx{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Ls(this)&&(q(xs,"Restarting streams for network reachability change."),await async function(u){const h=X(u);h.Ea.add(4),await Fl(h),h.Va.set("Unknown"),h.Ea.delete(4),await Ic(h)}(this))})}),this.Va=new mx(i,s)}}async function Ic(e){if(Ls(e))for(const t of e.Ra)await t(!0)}async function Fl(e){for(const t of e.Ra)await t(!1)}function C1(e,t){const n=X(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qm(n)?Fm(n):na(n).O_()&&Gm(n,t))}function Hm(e,t){const n=X(e),i=na(n);n.Ia.delete(t),i.O_()&&x1(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ls(n)&&n.Va.set("Unknown"))}function Gm(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(K.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}na(e).Z_(t)}function x1(e,t){e.da.$e(t),na(e).X_(t)}function Fm(e){e.da=new oC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),na(e).start(),e.Va.ua()}function Qm(e){return Ls(e)&&!na(e).x_()&&e.Ia.size>0}function Ls(e){return X(e).Ea.size===0}function N1(e){e.da=void 0}async function px(e){e.Va.set("Online")}async function yx(e){e.Ia.forEach((t,n)=>{Gm(e,t)})}async function _x(e,t){N1(e),Qm(e)?(e.Va.ha(t),Fm(e)):e.Va.set("Unknown")}async function vx(e,t,n){if(e.Va.set("Online"),t instanceof d1&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.da.removeTarget(o))}(e,t)}catch(i){q(xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Bu(e,i)}else if(t instanceof $o?e.da.Xe(t):t instanceof f1?e.da.st(t):e.da.tt(t),!n.isEqual(K.min()))try{const i=await w1(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.da.Tt(a);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ia.get(h);d&&r.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,h)=>{const d=r.Ia.get(u);if(!d)return;r.Ia.set(u,d.withResumeToken(le.EMPTY_BYTE_STRING,d.snapshotVersion)),x1(r,u);const g=new wi(d.target,u,h,d.sequenceNumber);Gm(r,g)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(xs,"Failed to raise snapshot:",i),await Bu(e,i)}}async function Bu(e,t,n){if(!ea(t))throw t;e.Ea.add(1),await Fl(e),e.Va.set("Offline"),n||(n=()=>w1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(xs,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ic(e)})}function D1(e,t){return t().catch(n=>Bu(e,n,t))}async function Cc(e){const t=X(e),n=Ki(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;Ex(t);)try{const s=await tx(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,Tx(t,s)}catch(s){await Bu(t,s)}O1(t)&&V1(t)}function Ex(e){return Ls(e)&&e.Ta.length<10}function Tx(e,t){e.Ta.push(t);const n=Ki(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function O1(e){return Ls(e)&&!Ki(e).x_()&&e.Ta.length>0}function V1(e){Ki(e).start()}async function bx(e){Ki(e).ra()}async function Ax(e){const t=Ki(e);for(const n of e.Ta)t.ea(n.mutations)}async function Sx(e,t,n){const i=e.Ta.shift(),s=Um.from(i,t,n);await D1(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Cc(e)}async function wx(e,t){t&&Ki(e).Y_&&await async function(i,s){if(function(a){return rC(a)&&a!==P.ABORTED}(s.code)){const r=i.Ta.shift();Ki(i).B_(),await D1(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Cc(i)}}(e,t),O1(e)&&V1(e)}async function N_(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),q(xs,"RemoteStore received new credentials");const i=Ls(n);n.Ea.add(3),await Fl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ic(n)}async function Rx(e,t){const n=X(e);t?(n.Ea.delete(2),await Ic(n)):t||(n.Ea.add(2),await Fl(n),n.Va.set("Unknown"))}function na(e){return e.ma||(e.ma=function(n,i,s){const r=X(n);return r.sa(),new ux(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:px.bind(null,e),Yo:yx.bind(null,e),t_:_x.bind(null,e),J_:vx.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Qm(e)?Fm(e):e.Va.set("Unknown")):(await e.ma.stop(),N1(e))})),e.ma}function Ki(e){return e.fa||(e.fa=function(n,i,s){const r=X(n);return r.sa(),new cx(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bx.bind(null,e),t_:wx.bind(null,e),ta:Ax.bind(null,e),na:Sx.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Cc(e)):(await e.fa.stop(),e.Ta.length>0&&(q(xs,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new Ym(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(e,t){if(Xn("AsyncQueue",`${t}: ${e}`),ea(e))return new H(P.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{static emptySet(t){return new _r(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Ma(),this.sortedSet=new xt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof _r)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new _r;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new xt(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):F(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class jr{constructor(t,n,i,s,r,a,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new jr(t,n,_r.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class Cx{constructor(){this.queries=O_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=X(n),r=s.queries;s.queries=O_(),r.forEach((a,o)=>{for(const u of o.ba)u.onError(i)})})(this,new H(P.ABORTED,"Firestore shutting down"))}}function O_(){return new Us(e=>JT(e),Tc)}async function M1(e,t){const n=X(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Sa()&&t.Da()&&(i=2):(r=new Ix,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Km(a,`Initialization of query '${Ks(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.ba.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Xm(n)}async function k1(e,t){const n=X(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(t);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=t.Da()?0:1:!r.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function xx(e,t){const n=X(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.ba)o.Fa(s)&&(i=!0);a.wa=s}}i&&Xm(n)}function Nx(e,t,n){const i=X(e),s=i.queries.get(t);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(t)}function Xm(e){e.Ca.forEach(t=>{t.next()})}var gd,V_;(V_=gd||(gd={})).Ma="default",V_.Cache="cache";class U1{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new jr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=jr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.key=t}}class P1{constructor(t){this.key=t}}class Dx{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=ZT(t),this.tu=new _r(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new D_,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,g)=>{const m=s.get(d),v=bc(this.query,g)?g:null,D=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let V=!1;m&&v?m.data.isEqual(v.data)?D!==M&&(i.track({type:3,doc:v}),V=!0):this.su(m,v)||(i.track({type:2,doc:v}),V=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(o=!0)):!m&&v?(i.track({type:0,doc:v}),V=!0):m&&!v&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(o=!0)),V&&(v?(a=a.add(v),r=M?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:o,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,g)=>function(v,D){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F(20277,{Vt:V})}};return M(v)-M(D)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(i),s=s??!1;const o=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Xa;return this.Xa=u,a.length!==0||h?{snapshot:new jr(this.query,t.tu,r,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new P1(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new L1(i))}),n}cu(t){this.Za=t.ks,this.Ya=rt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class Ox{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class Vx{constructor(t){this.key=t,this.hu=!1}}class Mx{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Us(o=>JT(o),Tc),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(G.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=zr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kx(e,t,n=!0){const i=G1(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await z1(i,t,n,!0),s}async function Ux(e,t){const n=G1(e);await z1(n,t,!0,!1)}async function z1(e,t,n,i){const s=await ex(e.localStore,yn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await Lx(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&C1(e.remoteStore,s),o}async function Lx(e,t,n,i,s){e.pu=(g,m,v)=>async function(M,V,b,E){let w=V.view.ru(b);w.Ss&&(w=await w_(M.localStore,V.query,!1).then(({documents:_})=>V.view.ru(_,w)));const I=E&&E.targetChanges.get(V.targetId),U=E&&E.targetMismatches.get(V.targetId)!=null,z=V.view.applyChanges(w,M.isPrimaryClient,I,U);return k_(M,V.targetId,z.au),z.snapshot}(e,g,m,v);const r=await w_(e.localStore,t,!0),a=new Dx(t,r.ks),o=a.ru(r.documents),u=Gl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),h=a.applyChanges(o,e.isPrimaryClient,u);k_(e,n,h.au);const d=new Ox(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function Px(e,t,n){const i=X(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Tc(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await dd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Hm(i.remoteStore,s.targetId),pd(i,s.targetId)}).catch(ta)):(pd(i,s.targetId),await dd(i.localStore,s.targetId,!0))}async function zx(e,t){const n=X(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Hm(n.remoteStore,i.targetId))}async function jx(e,t,n){const i=Yx(e);try{const s=await function(a,o){const u=X(a),h=At.now(),d=o.reduce((v,D)=>v.add(D.key),rt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=$n(),M=rt();return u.xs.getEntries(v,d).next(V=>{D=V,D.forEach((b,E)=>{E.isValidDocument()||(M=M.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,D)).next(V=>{g=V;const b=[];for(const E of o){const w=tC(E,g.get(E.key).overlayedDocument);w!=null&&b.push(new Wi(E.key,w,GT(w.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,b,o)}).next(V=>{m=V;const b=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(v,V.batchId,b)})}).then(()=>({batchId:m.batchId,changes:t1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,u){let h=a.du[a.currentUser.toKey()];h||(h=new xt(st)),h=h.insert(o,u),a.du[a.currentUser.toKey()]=h}(i,s.batchId,n),await Ql(i,s.changes),await Cc(i.remoteStore)}catch(s){const r=Km(s,"Failed to persist write");n.reject(r)}}async function j1(e,t){const n=X(e);try{const i=await ZC(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ht(a.hu,14607):s.removedDocuments.size>0&&(ht(a.hu,42227),a.hu=!1))}),await Ql(n,i,t)}catch(i){await ta(i)}}function M_(e,t,n){const i=X(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const o=a.view.va(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const u=X(a);u.onlineState=o;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.ba)m.va(o)&&(h=!0)}),h&&Xm(u)}(i.eventManager,t),s.length&&i.Pu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Bx(e,t,n){const i=X(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let a=new xt(G.comparator);a=a.insert(r,fe.newNoDocument(r,K.min()));const o=rt().add(r),u=new wc(K.min(),new Map,new xt(st),a,o);await j1(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(t),Jm(i)}else await dd(i.localStore,t,!1).then(()=>pd(i,t,n)).catch(ta)}async function qx(e,t){const n=X(e),i=t.batch.batchId;try{const s=await JC(n.localStore,t);q1(n,i,null),B1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ql(n,s)}catch(s){await ta(s)}}async function Hx(e,t,n){const i=X(e);try{const s=await function(a,o){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(g=>(ht(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);q1(i,t,n),B1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Ql(i,s)}catch(s){await ta(s)}}function B1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function q1(e,t,n){const i=X(e);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.du[i.currentUser.toKey()]=s}}function pd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||H1(e,i)})}function H1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Hm(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Jm(e))}function k_(e,t,n){for(const i of n)i instanceof L1?(e.Vu.addReference(i.key,t),Gx(e,i)):i instanceof P1?(q($m,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||H1(e,i.key)):F(19791,{wu:i})}function Gx(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q($m,"New document in limbo: "+n),e.Eu.add(i),Jm(e))}function Jm(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(Ct.fromString(t)),i=e.fu.next();e.Au.set(i,new Vx(n)),e.Ru=e.Ru.insert(n,i),C1(e.remoteStore,new wi(yn(Ec(n.path)),i,"TargetPurposeLimboResolution",pc.ce))}}async function Ql(e,t,n){const i=X(e),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Bm.Es(u.targetId,h);r.push(g)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(u,h){const d=X(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,m=>L.forEach(m.Ts,v=>d.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>L.forEach(m.Is,v=>d.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!ea(g))throw g;q(qm,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const v=d.vs.get(m),D=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(D);d.vs=d.vs.insert(m,M)}}}(i.localStore,r))}async function Fx(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){q($m,"User change. New user:",t.toKey());const i=await S1(n.localStore,t);n.currentUser=t,function(r,a){r.mu.forEach(o=>{o.forEach(u=>{u.reject(new H(P.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ql(n,i.Ns)}}function Qx(e,t){const n=X(e),i=n.Au.get(t);if(i&&i.hu)return rt().add(i.key);{let s=rt();const r=n.Iu.get(t);if(!r)return s;for(const a of r){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function G1(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,t),t.Pu.J_=xx.bind(null,t.eventManager),t.Pu.yu=Nx.bind(null,t.eventManager),t}function Yx(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hx.bind(null,t),t}class qu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $C(this.persistence,new YC,t.initialUser,this.serializer)}Cu(t){return new A1(jm.Vi,this.serializer)}Du(t){return new ix}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qu.provider={build:()=>new qu};class Kx extends qu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ht(this.persistence.referenceDelegate instanceof ju,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OC(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new A1(i=>ju.Vi(i,n),this.serializer)}}class yd{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>M_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fx.bind(null,this.syncEngine),await Rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Cx}()}createDatastore(t){const n=Rc(t.databaseInfo.databaseId),i=ox(t.databaseInfo);return dx(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new gx(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return C_.v()?new C_:new sx}())}createSyncEngine(t,n){return function(s,r,a,o,u,h,d){const g=new Mx(s,r,a,o,u,h);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=X(s);q(xs,"RemoteStore shutting down."),r.Ea.add(5),await Fl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}yd.provider={build:()=>new yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Xn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class Xx{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=he.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{q(Xi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(Xi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Km(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function $h(e,t){e.asyncQueue.verifyOperationInProgress(),q(Xi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await S1(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function U_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $x(e);q(Xi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>N_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>N_(t.remoteStore,s)),e._onlineComponents=t}async function $x(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Xi,"Using user provided OfflineComponentProvider");try{await $h(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===P.FAILED_PRECONDITION||s.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),await $h(e,new qu)}}else q(Xi,"Using default OfflineComponentProvider"),await $h(e,new Kx(void 0));return e._offlineComponents}async function Q1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Xi,"Using user provided OnlineComponentProvider"),await U_(e,e._uninitializedComponentsProvider._online)):(q(Xi,"Using default OnlineComponentProvider"),await U_(e,new yd))),e._onlineComponents}function Jx(e){return Q1(e).then(t=>t.syncEngine)}async function _d(e){const t=await Q1(e),n=t.eventManager;return n.onListen=kx.bind(null,t.syncEngine),n.onUnlisten=Px.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ux.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zx.bind(null,t.syncEngine),n}function Zx(e,t,n,i){const s=new F1(i),r=new U1(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>M1(await _d(e),r)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>k1(await _d(e),r))}}function Wx(e,t,n={}){const i=new zi;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,h){const d=new F1({next:m=>{d.Nu(),a.enqueueAndForget(()=>k1(r,g));const v=m.docs.has(o);!v&&m.fromCache?h.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?h.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new U1(Ec(o.path),d,{includeMetadataChanges:!0,Ka:!0});return M1(r,g)}(await _d(e),e.asyncQueue,t,n,i)),i.promise}function tN(e,t){const n=new zi;return e.asyncQueue.enqueueAndForget(async()=>jx(await Jx(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="ComponentProvider",L_=new Map;function nN(e,t,n,i,s){return new bI(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Y1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firestore.googleapis.com",P_=!0;class z_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K1,this.ssl=P_}else this.host=t.host,this.ssl=t.ssl??P_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=b1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NC)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y1(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tI;switch(i.type){case"firstParty":return new sI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=L_.get(n);i&&(q(eN,"Removing Datastore"),L_.delete(n),i.terminate())}(this),Promise.resolve()}}function iN(e,t,n,i={}){var h;e=pn(e,Zm);const s=Jr(t),r=e._getSettings(),a={...r,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&(_T(`https://${o}`),vT("Firestore",!0)),r.host!==K1&&r.host!==o&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:o,ssl:s,emulatorOptions:i};if(!Rs(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=he.MOCK_USER;else{d=SR(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new he(m)}e._authCredentials=new eI(new VT(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xc(this.firestore,t,this._query)}}class Ht{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ht(this.firestore,t,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(ql(n,Ht._jsonSchema))return new Ht(t,i||null,new G(Ct.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:qt("string",Ht._jsonSchemaVersion),referencePath:qt("string")};class wl extends xc{constructor(t,n,i){super(t,n,Ec(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ht(this.firestore,null,new G(t))}withConverter(t){return new wl(this.firestore,t,this._path)}}function un(e,t,...n){if(e=Ie(e),arguments.length===1&&(t=Cm.newId()),cI("doc","path",t),e instanceof Zm){const i=Ct.fromString(t,...n);return Wy(i),new Ht(e,null,new G(i))}{if(!(e instanceof Ht||e instanceof wl))throw new H(P.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ct.fromString(t,...n));return Wy(i),new Ht(e.firestore,e instanceof wl?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class B_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R1(this,"async_queue_retry"),this._c=()=>{const i=Xh();i&&q(j_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Xh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ea(t))throw t;q(j_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Xn("INTERNAL UNHANDLED ERROR: ",q_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Ym.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&F(47125,{Pc:q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function q_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Br extends Zm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new B_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new B_(t),this._firestoreClient=void 0,await t}}}function sN(e,t){const n=typeof e=="object"?e:AT(),i=typeof e=="string"?e:Mu,s=Rm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=bR("firestore");r&&iN(s,...r)}return s}function Wm(e){if(e._terminated)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||rN(e),e._firestoreClient}function rN(e){var i,s,r,a;const t=e._freezeSettings(),n=nN(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(s=e._app)==null?void 0:s.options.apiKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Xx(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xe(le.fromBase64String(t))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xe(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,Xe._jsonSchema))return Xe.fromBase64String(t.bytes)}}Xe._jsonSchemaVersion="firestore/bytes/1.0",Xe._jsonSchema={type:qt("string",Xe._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:En._jsonSchemaVersion}}static fromJSON(t){if(ql(t,En._jsonSchema))return new En(t.latitude,t.longitude)}}En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:qt("string",En._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,sn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new sn(t.vectorValues);throw new H(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sn._jsonSchemaVersion="firestore/vectorValue/1.0",sn._jsonSchema={type:qt("string",sn._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^__.*__$/;class lN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Wi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(t,this.data,n,this.fieldTransforms)}}class X1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Wi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function $1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F(40011,{dataSource:e})}}class eg{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Hu(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if($1(this.dataSource)&&aN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class oN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Rc(t)}createContext(t,n,i,s=!1){return new eg({dataSource:t,methodName:n,targetDoc:i,path:se.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J1(e){const t=e._freezeSettings(),n=Rc(e._databaseId);return new oN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uN(e,t,n,i,s,r={}){const a=e.createContext(r.merge||r.mergeFields?2:0,t,n,s);ig("Data must be an object, but it was:",a,i);const o=Z1(i,a);let u,h;if(r.merge)u=new Me(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const g of r.mergeFields){const m=Rl(t,g,n);if(!a.contains(m))throw new H(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eb(d,m)||d.push(m)}u=new Me(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new lN(new Se(o),u,h)}class Dc extends Nc{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dc}}class ng extends Nc{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new Sl(t.serializer,i1(t.serializer,this.Vc));return new $I(t.path,n)}isEqual(t){return t instanceof ng&&this.Vc===t.Vc}}function cN(e,t,n,i){const s=e.createContext(1,t,n);ig("Data must be an object, but it was:",s,i);const r=[],a=Se.empty();Zi(i,(u,h)=>{const d=tb(t,u,n);h=Ie(h);const g=s.childContextForFieldPath(d);if(h instanceof Dc)r.push(d);else{const m=Oc(h,g);m!=null&&(r.push(d),a.set(d,m))}});const o=new Me(r);return new X1(a,o,s.fieldTransforms)}function hN(e,t,n,i,s,r){const a=e.createContext(1,t,n),o=[Rl(t,i,n)],u=[s];if(r.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)o.push(Rl(t,r[m])),u.push(r[m+1]);const h=[],d=Se.empty();for(let m=o.length-1;m>=0;--m)if(!eb(h,o[m])){const v=o[m];let D=u[m];D=Ie(D);const M=a.childContextForFieldPath(v);if(D instanceof Dc)h.push(v);else{const V=Oc(D,M);V!=null&&(h.push(v),d.set(v,V))}}const g=new Me(h);return new X1(d,g,a.fieldTransforms)}function Oc(e,t){if(W1(e=Ie(e)))return ig("Unsupported field value:",t,e),Z1(e,t);if(e instanceof Nc)return function(i,s){if(!$1(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let u=Oc(o,s.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Ie(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return i1(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=At.fromDate(i);return{timestampValue:zu(s.serializer,r)}}if(i instanceof At){const r=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:zu(s.serializer,r)}}if(i instanceof En)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xe)return{bytesValue:m1(s.serializer,i._byteString)};if(i instanceof Ht){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Pm(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof sn)return function(a,o){const u=a instanceof sn?a.toArray():a;return{mapValue:{fields:{[qT]:{stringValue:HT},[ku]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return km(o.serializer,d)})}}}}}}(i,s);if(T1(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${xm(i)}`)}(e,t)}function Z1(e,t){const n={};return UT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(e,(i,s)=>{const r=Oc(s,t.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function W1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof At||e instanceof En||e instanceof Xe||e instanceof Ht||e instanceof Nc||e instanceof sn||T1(e))}function ig(e,t,n){if(!W1(n)||!MT(n)){const i=xm(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Rl(e,t,n){if((t=Ie(t))instanceof tg)return t._internalPath;if(typeof t=="string")return tb(e,t);throw Hu("Field path arguments must be of type string or ",e,!1,void 0,n)}const fN=new RegExp("[~\\*/\\[\\]]");function tb(e,t,n){if(t.search(fN)>=0)throw Hu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new tg(...t.split("."))._internalPath}catch{throw Hu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Hu(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new H(P.INVALID_ARGUMENT,o+e+u)}function eb(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{convertValue(t,n="none"){switch(Yi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw F(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Zi(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[ku].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>Vt(a.doubleValue));return new sn(n)}convertGeoPoint(t){return new En(Vt(t.latitude),Vt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=_c(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vl(t));default:return null}}convertTimestamp(t){const n=Fi(t);return new At(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ct.fromString(t);ht(E1(i),9688,{name:t});const s=new El(i.get(1),i.get(3)),r=new G(i.popFirst(5));return s.isEqual(n)||Xn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends dN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Jh(e){return new ng("increment",e)}const H_="@firebase/firestore",G_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Rl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mN extends ib{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function pN(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Ua{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vs extends ib{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Rl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=vs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:qt("string",vs._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Jo extends vs{data(t={}){return super.data(t)}}class vr{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ua(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Jo(this._firestore,this._userDataWriter,i.key,i,new Ua(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new Jo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ua(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Jo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ua(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return o.type!==0&&(h=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:yN(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=vr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:qt("string",vr._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(e){e=pn(e,Ht);const t=pn(e.firestore,Br),n=Wm(t);return Wx(n,e._key).then(i=>ob(t,e,i))}function rb(e,t,n){e=pn(e,Ht);const i=pn(e.firestore,Br),s=pN(e.converter,t),r=J1(i);return lb(i,[uN(r,"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,_n.none())])}function pi(e,t,n,...i){e=pn(e,Ht);const s=pn(e.firestore,Br),r=J1(s);let a;return a=typeof(t=Ie(t))=="string"||t instanceof tg?hN(r,"updateDoc",e._key,t,n,i):cN(r,"updateDoc",e._key,t),lb(s,[a.toMutation(e._key,_n.exists(!0))])}function ab(e,...t){var h,d,g;e=Ie(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||F_(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(F_(t[i])){const m=t[i];t[i]=(h=m.next)==null?void 0:h.bind(m),t[i+1]=(d=m.error)==null?void 0:d.bind(m),t[i+2]=(g=m.complete)==null?void 0:g.bind(m)}let r,a,o;if(e instanceof Ht)a=pn(e.firestore,Br),o=Ec(e._key.path),r={next:m=>{t[i]&&t[i](ob(a,e,m))},error:t[i+1],complete:t[i+2]};else{const m=pn(e,xc);a=pn(m.firestore,Br),o=m._query;const v=new nb(a);r={next:D=>{t[i]&&t[i](new vr(a,v,m,D))},error:t[i+1],complete:t[i+2]},gN(e._query)}const u=Wm(a);return Zx(u,o,s,r)}function lb(e,t){const n=Wm(e);return tN(n,t)}function ob(e,t,n){const i=n.docs.get(t._key),s=new nb(e);return new vs(e,s,t._key,i,new Ua(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){W2(Zr),Mr(new Is("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Br(new nI(i.getProvider("auth-internal")),new rI(a,i.getProvider("app-check-internal")),AI(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Li(H_,G_,t),Li(H_,G_,"esm2020")})();function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=ub,cb=new jl("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Sm("@firebase/auth");function vN(e,...t){Gu.logLevel<=it.WARN&&Gu.warn(`Auth (${Zr}): ${e}`,...t)}function Zo(e,...t){Gu.logLevel<=it.ERROR&&Gu.error(`Auth (${Zr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(e,...t){throw sg(e,...t)}function Tn(e,...t){return sg(e,...t)}function hb(e,t,n){const i={..._N(),[t]:n};return new jl("auth","Firebase",i).create(t,{appName:e.name})}function Es(e){return hb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return cb.create(e,...t)}function Y(e,t,...n){if(!e)throw sg(t,...n)}function Pn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Zo(t),new Error(t)}function Zn(e,t){e||Pn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function EN(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||NR()||"connection"in navigator)?navigator.onLine:!0}function bN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zn(n>t,"Short delay should be less than long delay!"),this.isMobile=IR()||DR()}get(){return TN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e,t){Zn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wN=new Yl(3e4,6e4);function ag(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ia(e,t,n,i,s={}){return db(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=Bl({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...r};return xR()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Jr(e.emulatorConfig.host)&&(h.credentials="include"),fb.fetch()(await mb(e,e.config.apiHost,n,o),h)})}async function db(e,t,n){e._canInitEmulator=!1;const i={...AN,...t};try{const s=new IN(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw No(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,h]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw No(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw No(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw No(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hb(e,d,h);Jn(e,d)}}catch(s){if(s instanceof ti)throw s;Jn(e,"network-request-failed",{message:String(s)})}}async function RN(e,t,n,i,s={}){const r=await ia(e,t,n,i,s);return"mfaPendingCredential"in r&&Jn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function mb(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?rg(e.config,s):`${e.config.apiScheme}://${s}`;return SN.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Tn(this.auth,"network-request-failed")),wN.get())})}}function No(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Tn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(e,t){return ia(e,"POST","/v1/accounts:delete",t)}async function Fu(e,t){return ia(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function xN(e,t=!1){const n=Ie(e),i=await n.getIdToken(t),s=lg(i);Y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:nl(Zh(s.auth_time)),issuedAtTime:nl(Zh(s.iat)),expirationTime:nl(Zh(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Zh(e){return Number(e)*1e3}function lg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Zo("JWT malformed, contained fewer than 3 sections"),null;try{const s=mT(n);return s?JSON.parse(s):(Zo("Failed to decode base64 JWT payload"),null)}catch(s){return Zo("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Y_(e){const t=lg(e);return Y(t,"internal-error"),Y(typeof t.exp<"u","internal-error"),Y(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ti&&NN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function NN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(e){var g;const t=e.auth,n=await e.getIdToken(),i=await Il(e,Fu(t,{idToken:n}));Y(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(g=s.providerUserInfo)!=null&&g.length?gb(s.providerUserInfo):[],a=VN(e.providerData,r),o=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=o?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ed(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function ON(e){const t=Ie(e);await Qu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function VN(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function gb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(e,t){const n=await db(e,{},async()=>{const i=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await mb(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&Jr(e.emulatorConfig.host)&&(u.credentials="include"),fb.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kN(e,t){return ia(e,"POST","/v2/accounts:revokeToken",ag(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Y(t.idToken,"internal-error"),Y(typeof t.idToken<"u","internal-error"),Y(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Y_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Y(t.length!==0,"internal-error");const n=Y_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await MN(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Er;return i&&(Y(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(Y(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(Y(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Er,this.toJSON())}_performRefresh(){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,t){Y(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ed(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Il(this,this.stsTokenManager.getToken(this.auth,t));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return xN(this,t)}reload(){return ON(this)}_assign(t){this!==t&&(Y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new nn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Qu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await Il(this,CN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:v,providerData:D,stsTokenManager:M}=n;Y(g&&M,t,"internal-error");const V=Er.fromJSON(this.name,M);Y(typeof g=="string",t,"internal-error"),ui(i,t.name),ui(s,t.name),Y(typeof m=="boolean",t,"internal-error"),Y(typeof v=="boolean",t,"internal-error"),ui(r,t.name),ui(a,t.name),ui(o,t.name),ui(u,t.name),ui(h,t.name),ui(d,t.name);const b=new nn({uid:g,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:v,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:V,createdAt:h,lastLoginAt:d});return D&&Array.isArray(D)&&(b.providerData=D.map(E=>({...E}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(t,n,i=!1){const s=new Er;s.updateFromServerResponse(n);const r=new nn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Qu(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Y(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?gb(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new Er;o.updateFromIdToken(i);const u=new nn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ed(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function zn(e){Zn(e instanceof Function,"Expected a class definition");let t=K_.get(e);return t?(Zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,K_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}pb.type="NONE";const X_=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e,t,n){return`firebase:${e}:${t}:${n}`}class Tr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Wo(this.userKey,s.apiKey,r),this.fullPersistenceKey=Wo("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Fu(this.auth,{idToken:t}).catch(()=>{});return n?nn._fromGetAccountInfoResponse(this.auth,n,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Tr(zn(X_),t,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||zn(X_);const a=Wo(i,t.config.apiKey,t.name);let o=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await Fu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await nn._fromGetAccountInfoResponse(t,m,d)}else g=nn._fromJSON(t,d);h!==r&&(o=g),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Tr(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Tr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Eb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bb(t))return"Blackberry";if(Ab(t))return"Webos";if(_b(t))return"Safari";if((t.includes("chrome/")||vb(t))&&!t.includes("edge/"))return"Chrome";if(Tb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yb(e=de()){return/firefox\//i.test(e)}function _b(e=de()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vb(e=de()){return/crios\//i.test(e)}function Eb(e=de()){return/iemobile/i.test(e)}function Tb(e=de()){return/android/i.test(e)}function bb(e=de()){return/blackberry/i.test(e)}function Ab(e=de()){return/webos/i.test(e)}function og(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function UN(e=de()){var t;return og(e)&&!!((t=window.navigator)!=null&&t.standalone)}function LN(){return OR()&&document.documentMode===10}function Sb(e=de()){return og(e)||Tb(e)||Ab(e)||bb(e)||/windows phone/i.test(e)||Eb(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(e,t=[]){let n;switch(e){case"Browser":n=$_(de());break;case"Worker":n=`${$_(de())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(e,t={}){return ia(e,"GET","/v2/passwordPolicy",ag(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=6;class BN{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new PN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Tr.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Fu(this,{idToken:t}),i=await nn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Qu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hn(this.app))return Promise.reject(Es(this));const n=t?Ie(t):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await zN(this),n=new BN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await kN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zn(t)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Tr.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&vN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ug(e){return Ie(e)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jR(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HN(e){cg=e}function GN(e){return cg.loadJS(e)}function FN(){return cg.gapiScript}function QN(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(e,t){const n=Rm(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Rs(r,t??{}))return s;Jn(s,"already-initialized")}return n.initialize({options:t})}function KN(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function XN(e,t,n){const i=ug(e);Y(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=Rb(t),{host:a,port:o}=$N(t),u=o===null?"":`:${o}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Y(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Y(Rs(h,i.config.emulator)&&Rs(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Jr(a)?(_T(`${r}//${a}${u}`),vT("Auth",!0)):JN()}function Rb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $N(e){const t=Rb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Z_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:Z_(a)}}}function Z_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function JN(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(t){return Pn("not implemented")}_linkToIdToken(t,n){return Pn("not implemented")}_getReauthenticationResolver(t){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function br(e,t){return RN(e,"POST","/v1/accounts:signInWithIdp",ag(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="http://localhost";class Ns extends Ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new Ns(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return br(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,br(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,br(t,n)}buildRequest(){const t={requestUri:ZN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Kl{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yi.credentialFromTaggedObject(t)}static credentialFromError(t){return yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yi.credential(t.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Mn.credentialFromTaggedObject(t)}static credentialFromError(t){return Mn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Mn.credential(n,i)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Kl{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Kl{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return vi.credential(n,i)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await nn._fromIdTokenResponse(t,i,s),a=W_(i);return new qr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=W_(i);return new qr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function W_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends ti{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Yu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Yu(t,n,i,s)}}function xb(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Yu._fromErrorAndOperation(e,r,t,i):r})}async function WN(e,t,n=!1){const i=await Il(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(e,t,n=!1){const{auth:i}=e;if(hn(i.app))return Promise.reject(Es(i));const s="reauthenticate";try{const r=await Il(e,xb(i,s,t,e),n);Y(r.idToken,i,"internal-error");const a=lg(r.idToken);Y(a,i,"internal-error");const{sub:o}=a;return Y(e.uid===o,i,"user-mismatch"),qr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Jn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(e,t,n=!1){if(hn(e.app))return Promise.reject(Es(e));const i="signIn",s=await xb(e,i,t),r=await qr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}function nD(e,t,n,i){return Ie(e).onIdTokenChanged(t,n,i)}function iD(e,t,n){return Ie(e).beforeAuthStateChanged(t,n)}const Ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1e3,rD=10;class Db extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);LN()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,rD):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Db.type="LOCAL";const aD=Db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ob.type="SESSION";const Vb=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Vc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async h=>h(n.origin,r)),u=await lD(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const h=hg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function uD(e){bn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function cD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hD(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function fD(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",dD=1,Xu="firebaseLocalStorage",Ub="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mc(e,t){return e.transaction([Xu],t?"readwrite":"readonly").objectStore(Xu)}function mD(){const e=indexedDB.deleteDatabase(kb);return new Xl(e).toPromise()}function Td(){const e=indexedDB.open(kb,dD);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Xu,{keyPath:Ub})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Xu)?t(i):(i.close(),await mD(),t(await Td()))})})}async function tv(e,t,n){const i=Mc(e,!0).put({[Ub]:t,value:n});return new Xl(i).toPromise()}async function gD(e,t){const n=Mc(e,!1).get(t),i=await new Xl(n).toPromise();return i===void 0?null:i.value}function ev(e,t){const n=Mc(e,!0).delete(t);return new Xl(n).toPromise()}const pD=800,yD=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Td(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>yD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vc._getInstance(fD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await cD(),!this.activeServiceWorker)return;this.sender=new oD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Td();return await tv(t,Ku,"1"),await ev(t,Ku),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>gD(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ev(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Mc(s,!1).getAll();return new Xl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const _D=Lb;new Yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(e,t){return t?zn(t):(Y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends Ib{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return br(t,this._buildIdpRequest())}_linkToIdToken(t,n){return br(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return br(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ED(e){return eD(e.auth,new fg(e),e.bypassAuthState)}function TD(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),tD(n,new fg(e),e.bypassAuthState)}async function bD(e){const{auth:t,user:n}=e;return Y(n,t,"internal-error"),WN(n,new fg(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ED;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:Jn(this.auth,"internal-error")}}resolve(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Yl(2e3,1e4);class ur extends Pb{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ur.currentPopupAction&&ur.currentPopupAction.cancel(),ur.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Y(t,this.auth,"internal-error"),t}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const t=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ur.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AD.get())};t()}}ur.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",tu=new Map;class wD extends Pb{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=tu.get(this.auth._key());if(!t){try{const i=await RD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}tu.set(this.auth._key(),t)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RD(e,t){const n=xD(t),i=CD(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function ID(e,t){tu.set(e._key(),t)}function CD(e){return zn(e._redirectPersistence)}function xD(e){return Wo(SD,e.config.apiKey,e.name)}async function ND(e,t,n=!1){if(hn(e.app))return Promise.reject(Es(e));const i=ug(e),s=vD(i,t),a=await new wD(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=10*60*1e3;class OD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VD(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!zb(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DD&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(t))}saveEventToCache(t){this.cachedEventUids.add(nv(t)),this.lastProcessedEventTime=Date.now()}}function nv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function zb({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VD(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(e,t={}){return ia(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UD=/^https?/;async function LD(e){if(e.config.emulator)return;const{authorizedDomains:t}=await MD(e);for(const n of t)try{if(PD(n))return}catch{}Jn(e,"unauthorized-domain")}function PD(e){const t=vd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!UD.test(n))return!1;if(kD.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Yl(3e4,6e4);function iv(){const e=bn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function jD(e){return new Promise((t,n)=>{var s,r,a;function i(){iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{iv(),n(Tn(e,"network-request-failed"))},timeout:zD.get()})}if((r=(s=bn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=bn().gapi)!=null&&a.load)i();else{const o=QN("iframefcb");return bn()[o]=()=>{gapi.load?i():n(Tn(e,"network-request-failed"))},GN(`${FN()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw eu=null,t})}let eu=null;function BD(e){return eu=eu||jD(e),eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Yl(5e3,15e3),HD="__/auth/iframe",GD="emulator/auth/iframe",FD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YD(e){const t=e.config;Y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rg(t,GD):`https://${e.config.authDomain}/${HD}`,i={apiKey:t.apiKey,appName:e.name,v:Zr},s=QD.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Bl(i).slice(1)}`}async function KD(e){const t=await BD(e),n=bn().gapi;return Y(n,e,"internal-error"),t.open({where:document.body,url:YD(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FD,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Tn(e,"network-request-failed"),o=bn().setTimeout(()=>{r(a)},qD.get());function u(){bn().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$D=500,JD=600,ZD="_blank",WD="http://localhost";class sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tO(e,t,n,i=$D,s=JD){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u={...XD,width:i.toString(),height:s.toString(),top:r,left:a},h=de().toLowerCase();n&&(o=vb(h)?ZD:n),yb(h)&&(t=t||WD,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[v,D])=>`${m}${v}=${D},`,"");if(UN(h)&&o!=="_self")return eO(t||"",o),new sv(null);const g=window.open(t||"",o,d);Y(g,e,"popup-blocked");try{g.focus()}catch{}return new sv(g)}function eO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="__/auth/handler",iO="emulator/auth/handler",sO=encodeURIComponent("fac");async function rv(e,t,n,i,s,r){Y(e.config.authDomain,e,"auth-domain-config-required"),Y(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Zr,eventId:s};if(t instanceof Cb){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",zR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Kl){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await e._getAppCheckToken(),h=u?`#${sO}=${encodeURIComponent(u)}`:"";return`${rO(e)}?${Bl(o).slice(1)}${h}`}function rO({config:e}){return e.emulator?rg(e,iO):`https://${e.authDomain}/${nO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="webStorageSupport";class aO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=ND,this._overrideRedirectResult=ID}async _openPopup(t,n,i,s){var a;Zn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await rv(t,n,i,vd(),s);return tO(t,r,hg())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await rv(t,n,i,vd(),s);return uD(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Zn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await KD(t),i=new OD(t);return n.register("authEvent",s=>(Y(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wh,{type:Wh},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Wh];r!==void 0&&n(!!r),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sb()||_b()||og()}}const lO=aO;var av="@firebase/auth",lv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cO(e){Mr(new Is("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Y(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wb(e)},h=new qN(i,s,r,u);return KN(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Mr(new Is("auth-internal",t=>{const n=ug(t.getProvider("auth").getImmediate());return(i=>new oO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(av,lv,uO(e)),Li(av,lv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=5*60,fO=yT("authIdTokenMaxAge")||hO;let ov=null;const dO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>fO)return;const s=n==null?void 0:n.token;ov!==s&&(ov=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mO(e=AT()){const t=Rm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=YN(e,{popupRedirectResolver:lO,persistence:[_D,aD,Vb]}),i=yT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=dO(r.toString());iD(n,a,()=>a(n.currentUser)),nD(n,o=>a(o))}}const s=gT("auth");return s&&XN(n,`http://${s}`),n}function gO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}HN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Tn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",gO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cO("Browser");const pO={apiKey:"AIzaSyB1Ry2KzqPfN4M80Gu_iatdCiklRCJI3LQ",authDomain:"quize-ee617.firebaseapp.com",projectId:"quize-ee617",storageBucket:"quize-ee617.appspot.com",messagingSenderId:"448358194670",appId:"1:448358194670:web:a89c3a3c85a2faeaedc2ff"},jb=bT(pO),cn=sN(jb),bd=mO(jb);new Mn;const Bb=async()=>{try{return(await(await fetch("https://opentdb.com/api.php?amount=10&category=9&type=multiple")).json()).results.map(n=>({question:n.question,options:[...n.incorrect_answers,n.correct_answer].sort(()=>Math.random()-.5),correctAnswer:n.correct_answer}))}catch{return[{question:"2 + 2?",options:["3","4","5","6"],correctAnswer:"4"}]}},yO=()=>{var V,b,E;const[e,t]=It.useState(""),[n,i]=It.useState(""),[s,r]=It.useState(null),[a,o]=It.useState(null),[u,h]=It.useState(!1),d=async()=>{var _;h(!0);const w=Math.random().toString(36).substring(2,7).toUpperCase(),I=await Bb(),U=un(cn,"rooms",w),z={questions:I,player1:{id:((_=bd.currentUser)==null?void 0:_.uid)||"anon1",score:0,hasAnswered:!1},player2:null,status:"waiting",currentQuestionIndex:0};await rb(U,z),t(w),o(1),h(!1)},g=async()=>{var U;if(!n)return alert("Enter Room ID");h(!0);const w=un(cn,"rooms",n);(await sb(w)).exists()?(await pi(w,{player2:{id:((U=bd.currentUser)==null?void 0:U.uid)||"anon2",score:0,hasAnswered:!1},status:"playing"}),t(n),o(2)):alert("Room not found!"),h(!1)};It.useEffect(()=>{if(!e)return;const w=ab(un(cn,"rooms",e),I=>{r(I.data())});return()=>w()},[e]);const m=async w=>{const I=a===1?"player1":"player2",U=a===1?"player2":"player1";if(s[I].hasAnswered)return;const z=s.currentQuestionIndex,_=s.questions[z],y=w===_.correctAnswer,T=un(cn,"rooms",e),S=s[I],R=s[U],x=y?S.score+10:S.score;R.hasAnswered?await pi(T,{[`${I}.score`]:x,[`${I}.hasAnswered`]:!1,[`${U}.hasAnswered`]:!1,currentQuestionIndex:z+1}):await pi(T,{[`${I}.score`]:x,[`${I}.hasAnswered`]:!0})};if((s==null?void 0:s.currentQuestionIndex)>=10){const w=s.player1,I=s.player2,U=w.score>I.score?"PLAYER 1 WON!":I.score>w.score?"PLAYER 2 WON!":"IT'S A TIE!";return C.jsx("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-6 text-center font-sans",children:C.jsxs("div",{className:"relative p-1",children:[C.jsx("div",{className:"absolute -inset-1 bg-yellow-500 rounded-3xl blur opacity-25"}),C.jsxs("div",{className:"relative bg-[#16181a] border border-gray-800 p-10 rounded-3xl shadow-2xl",children:[C.jsx("h1",{className:"text-5xl font-black text-yellow-500 mb-2 italic tracking-tighter",children:"FINISH LINE"}),C.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-8 uppercase tracking-widest",children:U}),C.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-10",children:[C.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-cyan-500 shadow-lg shadow-cyan-500/10",children:[C.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase mb-2",children:"P1 Score"}),C.jsx("p",{className:"text-5xl font-black text-white",children:w.score})]}),C.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-pink-500 shadow-lg shadow-pink-500/10",children:[C.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase mb-2",children:"P2 Score"}),C.jsx("p",{className:"text-5xl font-black text-white",children:I.score})]})]}),C.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white text-black py-4 rounded-xl font-black hover:bg-gray-200 transition-all active:scale-95 uppercase tracking-widest",children:"Play Again"})]})]})})}if(!e)return C.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-6 font-sans",children:[C.jsxs("div",{className:"text-center mb-12",children:[C.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter text-gray-200 uppercase",children:["Battle",C.jsx("span",{className:"text-gray-500",children:"Zone"})]}),C.jsx("p",{className:"text-sm tracking-[0.5em] text-cyan-400 mt-2 uppercase font-bold",children:"Online Multiplayer"})]}),C.jsxs("div",{className:"w-full max-w-md space-y-6",children:[C.jsxs("button",{onClick:d,className:"w-full relative group h-[120px] transition-all duration-300 active:scale-95",children:[C.jsx("div",{className:"absolute -inset-1 bg-cyan-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition duration-500"}),C.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-cyan-500/50 rounded-2xl flex flex-col items-center justify-center transition-all",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] bg-cyan-400 rounded-t-2xl shadow-[0_0_15px_cyan]"}),C.jsx("span",{className:"text-2xl font-black uppercase tracking-widest",children:u?"Generating...":"Create Room"}),C.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase",children:"Start a new battle and share code"})]})]}),C.jsx("input",{placeholder:"ENTER ROOM ID",value:n,onChange:w=>i(w.target.value.toUpperCase()),className:"w-full bg-black border-2 border-gray-800 p-5 rounded-2xl text-center font-black text-xl text-white focus:border-emerald-500 outline-none transition-all placeholder:text-gray-700"}),C.jsx("button",{onClick:g,className:"w-full h-[80px] bg-emerald-600 rounded-2xl font-black text-xl hover:bg-emerald-500 shadow-lg shadow-emerald-900/20 active:scale-95 transition-all uppercase",children:"Join Arena"})]})]});if((s==null?void 0:s.status)==="waiting")return C.jsx("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center font-sans",children:C.jsxs("div",{className:"bg-[#111] border border-gray-800 p-12 rounded-[40px] text-center shadow-2xl",children:[C.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-[0.3em] mb-4",children:"Room Code"}),C.jsx("h1",{className:"text-7xl font-black text-cyan-400 tracking-[0.2em] animate-pulse",children:e}),C.jsxs("div",{className:"mt-12 space-y-4",children:[C.jsx("div",{className:"w-12 h-12 border-4 border-gray-800 border-t-emerald-500 rounded-full animate-spin mx-auto"}),C.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:"Waiting for opponent to join..."})]})]})});const v=a===1?"player1":"player2",D=(V=s==null?void 0:s[v])==null?void 0:V.hasAnswered,M=(b=s==null?void 0:s.questions)==null?void 0:b[s.currentQuestionIndex];return C.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white p-4 flex flex-col font-sans overflow-hidden",children:[C.jsxs("div",{className:"flex-none flex justify-between items-center bg-[#111] border border-gray-800 p-4 rounded-2xl mb-4 shadow-xl",children:[C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:"text-[10px] text-cyan-400 font-black uppercase",children:"P1 Score"}),C.jsx("p",{className:"text-2xl font-black",children:s==null?void 0:s.player1.score})]}),C.jsx("div",{className:"text-center",children:C.jsxs("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-xs font-bold",children:[((s==null?void 0:s.currentQuestionIndex)||0)+1,"/10"]})}),C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-[10px] text-pink-400 font-black uppercase",children:"P2 Score"}),C.jsx("p",{className:"text-2xl font-black",children:((E=s==null?void 0:s.player2)==null?void 0:E.score)||0})]})]}),C.jsx("div",{className:`flex-none text-center py-2 rounded-xl font-black mb-4 border-b-2 transition-all ${D?"bg-orange-900/20 border-orange-500 text-orange-400":"bg-emerald-900/20 border-emerald-500 text-emerald-400"}`,children:D?" WAITING FOR OPPONENT...":" YOUR TURN"}),M&&C.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pb-6",children:C.jsx("div",{className:"max-w-2xl mx-auto w-full",children:C.jsxs("div",{className:"relative bg-[#16181a] border border-gray-800 p-6 md:p-10 rounded-3xl shadow-2xl",children:[C.jsx("h3",{className:"text-xl md:text-3xl font-bold text-center mb-8 leading-tight text-gray-100",dangerouslySetInnerHTML:{__html:M.question}}),C.jsx("div",{className:"grid grid-cols-1 gap-3",children:M.options.map((w,I)=>C.jsxs("button",{disabled:D,onClick:()=>m(w),className:`w-full p-4 rounded-2xl text-left border-2 transition-all flex items-center ${D?"bg-gray-900/20 border-transparent text-gray-700 cursor-not-allowed":"bg-black/40 border-gray-800 hover:border-cyan-500 active:scale-[0.98]"}`,children:[C.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-4 text-xs font-bold ${D?"bg-gray-900":"bg-gray-800 text-cyan-400"}`,children:String.fromCharCode(65+I)}),C.jsx("span",{className:"flex-1",dangerouslySetInnerHTML:{__html:w}})]},I))})]})})})]})},uv=[{question:"Which planet is known as the Red Planet?",correct_answer:"Mars",incorrect_answers:["Venus","Jupiter","Saturn"]},{question:"What is the capital of France?",correct_answer:"Paris",incorrect_answers:["London","Berlin","Madrid"]},{question:"Which language is used for web development?",correct_answer:"JavaScript",incorrect_answers:["C++","Python","Java"]}],_O=({onBack:e})=>{const[t,n]=It.useState([]),[i,s]=It.useState(!0),[r,a]=It.useState(0),[o,u]=It.useState({p1:0,p2:0}),[h,d]=It.useState(1),[g,m]=It.useState(!1);It.useEffect(()=>{(async()=>{try{const b=await fetch("https://opentdb.com/api.php?amount=10&type=multiple");if(b.status===429)throw new Error("Rate Limit");const E=await b.json();E.results&&E.results.length>0?n(E.results):n(uv)}catch{console.warn("API Error: Using Fallback Questions"),n(uv)}finally{s(!1)}})()},[]);const v=V=>{const b=t[r];V===b.correct_answer&&u(E=>({...E,[h===1?"p1":"p2"]:E[h===1?"p1":"p2"]+10})),r<t.length-1?(a(E=>E+1),d(h===1?2:1)):m(!0)};if(i)return C.jsx("div",{className:"h-screen bg-black flex items-center justify-center text-cyan-400 font-black animate-pulse",children:"INITIALIZING BATTLE..."});if(g){const V=o.p1>o.p2?"PLAYER 1":o.p2>o.p1?"PLAYER 2":"TIE";return C.jsx("div",{className:"h-screen bg-[#0a0a0a] flex items-center justify-center p-6 text-white",children:C.jsxs("div",{className:"w-full max-w-md bg-[#111] border border-gray-800 p-10 rounded-[2.5rem] text-center shadow-2xl relative",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-purple-500"}),C.jsx("h1",{className:"text-5xl font-black italic mb-2 text-yellow-500 tracking-tighter",children:"FINISH LINE"}),C.jsxs("p",{className:"text-cyan-400 font-bold tracking-widest mb-10 uppercase",children:[V," DOMINATED"]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[C.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-cyan-500",children:[C.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:"P1 Score"}),C.jsx("p",{className:"text-5xl font-black",children:o.p1})]}),C.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-purple-500",children:[C.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:"P2 Score"}),C.jsx("p",{className:"text-5xl font-black",children:o.p2})]})]}),C.jsx("button",{onClick:e,className:"w-full py-4 bg-white text-black font-black rounded-xl hover:scale-105 transition uppercase tracking-widest",children:"Return to Menu"})]})})}const D=t[r],M=[...D.incorrect_answers,D.correct_answer].sort();return C.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col font-sans overflow-hidden",children:[C.jsxs("div",{className:"flex-none flex justify-between items-center bg-[#111] p-6 border-b border-gray-900 shadow-xl",children:[C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:`text-[10px] font-black uppercase ${h===1?"text-cyan-400":"text-gray-700"}`,children:"P1 Score"}),C.jsx("p",{className:"text-2xl font-black",children:o.p1})]}),C.jsxs("div",{className:"bg-gray-900 px-4 py-1 rounded-full text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Q ",r+1,"/10"]}),C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:`text-[10px] font-black uppercase ${h===2?"text-purple-400":"text-gray-700"}`,children:"P2 Score"}),C.jsx("p",{className:"text-2xl font-black",children:o.p2})]})]}),C.jsx("div",{className:`flex-none text-center py-2 font-black text-[10px] tracking-[0.5em] ${h===1?"bg-cyan-500/10 text-cyan-400 border-b border-cyan-500/20":"bg-purple-500/10 text-purple-400 border-b border-purple-500/20"}`,children:h===1?"PLAYER 1'S TURN":"PLAYER 2'S TURN"}),C.jsx("div",{className:"flex-grow overflow-y-auto p-4 pt-10 pb-10",children:C.jsx("div",{className:"max-w-2xl mx-auto w-full",children:C.jsxs("div",{className:"bg-[#16181a] border border-gray-800 rounded-[2.5rem] p-8 md:p-12 relative shadow-2xl",children:[C.jsx("div",{className:`absolute top-0 left-10 right-10 h-1 rounded-full ${h===1?"bg-cyan-500 shadow-[0_0_10px_cyan]":"bg-purple-500 shadow-[0_0_10px_purple]"}`}),C.jsx("h2",{className:"text-xl md:text-3xl font-bold mb-12 leading-snug text-center",dangerouslySetInnerHTML:{__html:D.question}}),C.jsx("div",{className:"grid grid-cols-1 gap-4",children:M.map((V,b)=>C.jsxs("button",{onClick:()=>v(V),className:"group flex items-center p-5 text-left bg-black/40 border border-gray-800 rounded-2xl hover:border-cyan-500 hover:shadow-[0_0_15px_rgba(6,182,212,0.1)] transition-all active:scale-95",children:[C.jsx("span",{className:`w-10 h-10 flex-none flex items-center justify-center rounded-lg mr-4 font-black text-xs ${h===1?"bg-cyan-900/30 text-cyan-400":"bg-purple-900/30 text-purple-400"}`,children:String.fromCharCode(65+b)}),C.jsx("span",{className:"flex-1 font-bold text-gray-300 group-hover:text-white",dangerouslySetInnerHTML:{__html:V}})]},b))})]})})})]})},vO=({onBack:e})=>{var E,w;const[t,n]=It.useState(""),[i,s]=It.useState(""),[r,a]=It.useState(null),[o,u]=It.useState(!1),[h,d]=It.useState(4),[g]=It.useState(()=>{var z;const I=localStorage.getItem("quiz_uid");if(I)return I;const U=((z=bd.currentUser)==null?void 0:z.uid)||`anon_${Math.random().toString(36).substr(2,5)}`;return localStorage.setItem("quiz_uid",U),U}),m=async()=>{u(!0);const I=Math.random().toString(36).substring(2,7).toUpperCase();try{const U=await Bb(),z=un(cn,"rooms",I);await rb(z,{questions:U,hostId:g,players:{[g]:{id:g,score:0,name:"Host",hasAnswered:!1}},maxPlayers:parseInt(h),status:"waiting",currentQuestionIndex:0}),n(I)}catch{alert("Error creating room")}u(!1)},v=async()=>{if(!i)return alert("Enter ID");u(!0);try{const I=un(cn,"rooms",i),U=await sb(I);if(U.exists()){const z=U.data(),_=Object.keys(z.players||{}).length;if(_>=z.maxPlayers)return alert("Room full!");await pi(I,{[`players.${g}`]:{id:g,score:0,name:`Player ${_+1}`,hasAnswered:!1}}),n(i)}else alert("Room not found")}catch{alert("Join failed")}u(!1)};It.useEffect(()=>{if(!t)return;const I=ab(un(cn,"rooms",t),U=>{if(U.exists()){const z=U.data();if(a(z),z.status==="playing"&&z.hostId===g){const _=Object.values(z.players||{}),y=_.length,T=_.filter(S=>S.hasAnswered).length;T>0&&T===y&&D(z,_)}}});return()=>I()},[t,g]);const D=async(I,U)=>{const z=un(cn,"rooms",t);if(I.currentQuestionIndex>=9)await pi(z,{status:"finished"});else{const _={currentQuestionIndex:Jh(1)};U.forEach(y=>{_[`players.${y.id}.hasAnswered`]=!1}),await pi(z,_)}},M=async I=>{if(!r||!r.players[g]||r.players[g].hasAnswered)return;const U=r.currentQuestionIndex,z=r.questions[U],_=I===z.correctAnswer,y=un(cn,"rooms",t);await pi(y,{[`players.${g}.score`]:Jh(_?10:0),[`players.${g}.hasAnswered`]:!0})};if(t&&!r)return C.jsx("div",{className:"h-screen bg-black flex items-center justify-center text-white font-bold",children:"SYCHRONIZING DATA..."});if((r==null?void 0:r.status)==="finished"){const I=Object.values(r.players||{}).sort((U,z)=>z.score-U.score);return C.jsxs("div",{className:"h-screen bg-black text-white flex flex-col items-center justify-center p-6 text-center",children:[C.jsx("h1",{className:"text-5xl font-black text-yellow-500 mb-8 italic",children:"FINAL RANKINGS"}),C.jsx("div",{className:"w-full max-w-sm space-y-4",children:I.map((U,z)=>C.jsxs("div",{className:`p-5 rounded-2xl border ${z===0?"bg-yellow-500/10 border-yellow-500":"bg-[#111] border-gray-800"} flex justify-between items-center`,children:[C.jsxs("span",{className:"font-bold text-lg",children:[z+1,". ",U.name," ",U.id===g&&"(YOU)"]}),C.jsx("span",{className:"text-2xl font-black",children:U.score})]},U.id))}),C.jsx("button",{onClick:e,className:"mt-12 bg-white text-black px-12 py-4 rounded-2xl font-black",children:"BACK TO MENU"})]})}if(!t)return C.jsxs("div",{className:"h-screen bg-black text-white p-6 flex flex-col items-center justify-center",children:[C.jsxs("h1",{className:"text-6xl font-black mb-12 tracking-tighter",children:["PARTY",C.jsx("span",{className:"text-cyan-500",children:"PLAY"})]}),C.jsxs("div",{className:"w-full max-w-xs space-y-4",children:[C.jsx("input",{type:"number",value:h,onChange:I=>d(I.target.value),className:"w-full bg-[#111] p-4 rounded-xl border border-gray-800 text-white font-bold",placeholder:"Max Players"}),C.jsx("button",{onClick:m,className:"w-full bg-cyan-600 py-4 rounded-xl font-bold uppercase",children:o?"Wait...":"Create Room"}),C.jsx("div",{className:"text-center text-gray-700 text-xs font-bold",children:"OR"}),C.jsx("input",{placeholder:"ENTER CODE",value:i,onChange:I=>s(I.target.value.toUpperCase()),className:"w-full bg-[#111] p-4 rounded-xl text-center font-bold border border-gray-800 focus:border-cyan-500 outline-none"}),C.jsx("button",{onClick:v,className:"w-full bg-emerald-600 py-4 rounded-xl font-bold uppercase",children:"Join Match"}),C.jsx("button",{onClick:e,className:"w-full text-gray-600 font-bold mt-4 text-sm",children:"BACK"})]})]});if((r==null?void 0:r.status)==="waiting"){const I=Object.values(r.players||{});return C.jsx("div",{className:"h-screen bg-black text-white flex flex-col items-center justify-center",children:C.jsxs("div",{className:"bg-[#111] border border-gray-800 p-10 rounded-[40px] text-center w-full max-w-sm",children:[C.jsx("p",{className:"text-gray-500 text-xs font-black mb-2 uppercase",children:"Lobby ID"}),C.jsx("h1",{className:"text-6xl font-black text-cyan-400 mb-8 tracking-widest",children:t}),C.jsx("div",{className:"mb-10 space-y-2",children:I.map(U=>C.jsxs("p",{className:"text-gray-300 font-bold uppercase text-sm",children:[" ",U.name]},U.id))}),r.hostId===g?C.jsx("button",{onClick:()=>pi(un(cn,"rooms",t),{status:"playing"}),className:"w-full bg-white text-black py-4 rounded-xl font-black shadow-lg shadow-white/10",children:"START GAME"}):C.jsx("div",{className:"p-4 bg-gray-900/50 rounded-xl text-xs text-gray-500 font-bold animate-pulse",children:"WAITING FOR HOST..."})]})})}const V=(E=r==null?void 0:r.players)==null?void 0:E[g],b=(w=r==null?void 0:r.questions)==null?void 0:w[r==null?void 0:r.currentQuestionIndex];return C.jsxs("div",{className:"h-screen bg-black text-white p-4 flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-center bg-[#111] p-5 rounded-3xl border border-gray-800 mb-6",children:[C.jsxs("div",{children:[C.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase",children:"Your Score"}),C.jsx("p",{className:"text-3xl font-black text-white",children:(V==null?void 0:V.score)||0})]}),C.jsxs("div",{className:"bg-gray-800 px-4 py-2 rounded-full text-xs font-black border border-gray-700",children:["Q: ",((r==null?void 0:r.currentQuestionIndex)||0)+1," / 10"]}),C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase",children:"Status"}),C.jsx("p",{className:"text-xs font-black text-emerald-500 uppercase",children:"Live Sync"})]})]}),C.jsxs("div",{className:"flex-grow flex flex-col justify-center max-w-2xl mx-auto w-full",children:[C.jsx("div",{className:`p-4 rounded-2xl text-center font-black mb-8 border-b-4 transition-all ${V!=null&&V.hasAnswered?"bg-orange-900/20 border-orange-500 text-orange-500":"bg-cyan-900/20 border-cyan-500 text-cyan-500"}`,children:V!=null&&V.hasAnswered?" WAITING FOR OTHER PLAYERS...":" ACTION: CHOOSE YOUR ANSWER!"}),b&&C.jsxs("div",{className:"bg-[#111] border border-gray-800 p-8 rounded-[40px] shadow-2xl",children:[C.jsx("h2",{className:"text-2xl font-black text-center mb-10 leading-snug",dangerouslySetInnerHTML:{__html:b.question}}),C.jsx("div",{className:"grid gap-4",children:b.options.map((I,U)=>C.jsxs("button",{disabled:V==null?void 0:V.hasAnswered,onClick:()=>M(I),className:`w-full p-5 rounded-2xl text-left border-2 transition-all flex items-center justify-between group ${V!=null&&V.hasAnswered?"opacity-20 border-gray-800":"border-gray-800 hover:border-cyan-500 hover:bg-cyan-500/5 active:scale-95"}`,children:[C.jsx("span",{className:"font-bold text-lg",dangerouslySetInnerHTML:{__html:I}}),!(V!=null&&V.hasAnswered)&&C.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-800 group-hover:bg-cyan-500"})]},U))})]}),C.jsx("div",{className:"mt-8 flex justify-center gap-4 flex-wrap",children:Object.values((r==null?void 0:r.players)||{}).map(I=>C.jsxs("div",{className:"flex items-center gap-2 bg-[#111] px-3 py-1 rounded-full border border-gray-800",children:[C.jsx("div",{className:`w-2 h-2 rounded-full ${I.hasAnswered?"bg-emerald-500":"bg-red-500 animate-pulse"}`}),C.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:[I.name,": ",I.score]})]},I.id))})]})]})},EO=({onStartPvP:e,onStartSolo:t,onStartMultiple:n})=>C.jsxs("div",{className:"min-h-screen w-full bg-[#0a0a0a] text-white font-sans flex flex-col items-center py-10 px-4 overflow-y-auto custom-scrollbar",children:[C.jsxs("div",{className:"text-center mb-12 flex-none",children:[C.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tighter text-gray-200",children:["Imagin",C.jsx("span",{className:"text-gray-500",children:"XP"})]}),C.jsx("p",{className:"text-lg tracking-[0.5em] text-gray-400 mt-2 uppercase font-light",children:"Quiz Battle"}),C.jsxs("div",{className:"flex items-center justify-center mt-6 gap-4",children:[C.jsx("div",{className:"h-[1px] w-16 bg-gray-800"}),C.jsx("span",{className:"text-xs font-bold tracking-widest text-gray-500 uppercase",children:"Competitive Gaming"}),C.jsx("div",{className:"h-[1px] w-16 bg-gray-800"})]})]}),C.jsxs("div",{className:"w-full max-w-3xl flex flex-col gap-8 mb-16",children:[C.jsxs("button",{onClick:e,className:"relative group w-full h-[280px] transition-all duration-300 active:scale-95 cursor-pointer",children:[C.jsx("div",{className:"absolute -inset-1 bg-cyan-500/20 rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition duration-500"}),C.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-cyan-500/50 rounded-2xl flex flex-col items-center justify-center p-10 transition-all duration-300",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] bg-cyan-400 shadow-[0_0_25px_rgba(34,211,238,1)] rounded-t-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),C.jsx("div",{className:"text-6xl mb-4 group-hover:animate-pulse",children:""}),C.jsx("h2",{className:"text-4xl font-black tracking-widest uppercase mb-2",children:"PvP Mode"}),C.jsx("p",{className:"text-gray-400 text-xl mb-6",children:"Battle 1v1 against another player"}),C.jsx("div",{className:"h-[1px] w-full bg-gray-800/50 mb-6"}),C.jsx("p",{className:"text-sm text-gray-500 tracking-[0.3em] uppercase font-bold",children:"Chalenge your Knowledge"})]})]}),C.jsxs("button",{onClick:t,className:"relative group w-full h-[280px] transition-all duration-300 active:scale-95 cursor-pointer",children:[C.jsx("div",{className:"absolute -inset-1 bg-emerald-500/20 rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition duration-500"}),C.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-emerald-500/50 rounded-2xl flex flex-col items-center justify-center p-10 transition-all duration-300",children:[C.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-emerald-400 shadow-[0_0_20px_rgba(52,211,153,1)] rounded-t-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),C.jsx("div",{className:"text-6xl mb-4 group-hover:animate-bounce",children:""}),C.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-widest uppercase mb-2 text-gray-400 group-hover:text-white",children:"Offline Mode"}),C.jsx("p",{className:"text-gray-400 text-xl mb-6",children:"For two Players"}),C.jsx("div",{className:"h-[1px] w-full bg-gray-800/50 mb-6"}),C.jsx("p",{className:"text-sm text-gray-500 tracking-[0.3em] uppercase font-bold",children:"Chalenge your Knowledge"})]})]})]}),C.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-3xl pb-10",children:[C.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center shadow-2xl",children:[C.jsx("span",{className:"block text-4xl font-black text-white",children:"50+"}),C.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Questions"})]}),C.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center",children:[C.jsx("span",{className:"block text-3xl font-bold text-gray-600",children:"LIVE"}),C.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Multiplayer"})]}),C.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center",children:[C.jsx("span",{className:"block text-3xl font-bold text-gray-600 italic",children:"INSTANT"}),C.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Results"})]})]})]});function TO(){const[e,t]=It.useState("start");return C.jsxs("div",{className:"bg-black min-h-screen",children:[e==="start"&&C.jsx(EO,{onStartPvP:()=>t("online"),onStartSolo:()=>t("pvp"),onStartMultiple:()=>t("multiplayer")}),e==="online"&&C.jsx(yO,{onBack:()=>t("start")}),e==="pvp"&&C.jsx(_O,{onBack:()=>t("start")}),e==="multiplayer"&&C.jsx(vO,{onBack:()=>t("start")})]})}dR.createRoot(document.getElementById("root")).render(C.jsx(It.StrictMode,{children:C.jsx(TO,{})}));
