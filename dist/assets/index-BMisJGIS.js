(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var ov={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=Symbol.for("react.transitional.element"),hA=Symbol.for("react.fragment");function uv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:cA,type:e,key:i,ref:t!==void 0?t:null,props:n}}Xu.Fragment=hA;Xu.jsx=uv;Xu.jsxs=uv;ov.exports=Xu;var O=ov.exports,cv={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd=Symbol.for("react.transitional.element"),fA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),mA=Symbol.for("react.strict_mode"),gA=Symbol.for("react.profiler"),pA=Symbol.for("react.consumer"),yA=Symbol.for("react.context"),_A=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),EA=Symbol.for("react.memo"),hv=Symbol.for("react.lazy"),TA=Symbol.for("react.activity"),lp=Symbol.iterator;function SA(e){return e===null||typeof e!="object"?null:(e=lp&&e[lp]||e["@@iterator"],typeof e=="function"?e:null)}var fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dv=Object.assign,mv={};function jr(e,t,n){this.props=e,this.context=t,this.refs=mv,this.updater=n||fv}jr.prototype.isReactComponent={};jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gv(){}gv.prototype=jr.prototype;function Ed(e,t,n){this.props=e,this.context=t,this.refs=mv,this.updater=n||fv}var Td=Ed.prototype=new gv;Td.constructor=Ed;dv(Td,jr.prototype);Td.isPureReactComponent=!0;var op=Array.isArray;function $h(){}var bt={H:null,A:null,T:null,S:null},pv=Object.prototype.hasOwnProperty;function Sd(e,t,n){var i=n.ref;return{$$typeof:vd,type:e,key:t,ref:i!==void 0?i:null,props:n}}function AA(e,t){return Sd(e.type,t,e.props)}function Ad(e){return typeof e=="object"&&e!==null&&e.$$typeof===vd}function bA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var up=/\/+/g;function nh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bA(""+e.key):t.toString(36)}function wA(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then($h,$h):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Bs(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vd:case fA:a=!0;break;case hv:return a=e._init,Bs(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+nh(e,0):i,op(s)?(n="",a!=null&&(n=a.replace(up,"$&/")+"/"),Bs(s,t,n,"",function(h){return h})):s!=null&&(Ad(s)&&(s=AA(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(up,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(op(e))for(var u=0;u<e.length;u++)i=e[u],r=o+nh(i,u),a+=Bs(i,t,n,r,s);else if(u=SA(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+nh(i,u++),a+=Bs(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return Bs(wA(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function so(e,t,n){if(e==null)return e;var i=[],s=0;return Bs(e,i,"","",function(r){return t.call(n,r,s++)}),i}function RA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},IA={map:so,forEach:function(e,t,n){so(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!Ad(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Activity=TA;$.Children=IA;$.Component=jr;$.Fragment=dA;$.Profiler=gA;$.PureComponent=Ed;$.StrictMode=mA;$.Suspense=vA;$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bt;$.__COMPILER_RUNTIME={__proto__:null,c:function(e){return bt.H.useMemoCache(e)}};$.cache=function(e){return function(){return e.apply(null,arguments)}};$.cacheSignal=function(){return null};$.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=dv({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!pv.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return Sd(e.type,s,i)};$.createContext=function(e){return e={$$typeof:yA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:pA,_context:e},e};$.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)pv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Sd(e,r,s)};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:_A,render:e}};$.isValidElement=Ad;$.lazy=function(e){return{$$typeof:hv,_payload:{_status:-1,_result:e},_init:RA}};$.memo=function(e,t){return{$$typeof:EA,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=bt.T,n={};bt.T=n;try{var i=e(),s=bt.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then($h,cp)}catch(r){cp(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),bt.T=t}};$.unstable_useCacheRefresh=function(){return bt.H.useCacheRefresh()};$.use=function(e){return bt.H.use(e)};$.useActionState=function(e,t,n){return bt.H.useActionState(e,t,n)};$.useCallback=function(e,t){return bt.H.useCallback(e,t)};$.useContext=function(e){return bt.H.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e,t){return bt.H.useDeferredValue(e,t)};$.useEffect=function(e,t){return bt.H.useEffect(e,t)};$.useEffectEvent=function(e){return bt.H.useEffectEvent(e)};$.useId=function(){return bt.H.useId()};$.useImperativeHandle=function(e,t,n){return bt.H.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return bt.H.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return bt.H.useLayoutEffect(e,t)};$.useMemo=function(e,t){return bt.H.useMemo(e,t)};$.useOptimistic=function(e,t){return bt.H.useOptimistic(e,t)};$.useReducer=function(e,t,n){return bt.H.useReducer(e,t,n)};$.useRef=function(e){return bt.H.useRef(e)};$.useState=function(e){return bt.H.useState(e)};$.useSyncExternalStore=function(e,t,n){return bt.H.useSyncExternalStore(e,t,n)};$.useTransition=function(){return bt.H.useTransition()};$.version="19.2.3";cv.exports=$;var ee=cv.exports,yv={exports:{}},Ju={},_v={exports:{}},vv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,tt){var J=j.length;j.push(tt);t:for(;0<J;){var _t=J-1>>>1,Ut=j[_t];if(0<s(Ut,tt))j[_t]=tt,j[J]=Ut,J=_t;else break t}}function n(j){return j.length===0?null:j[0]}function i(j){if(j.length===0)return null;var tt=j[0],J=j.pop();if(J!==tt){j[0]=J;t:for(var _t=0,Ut=j.length,$i=Ut>>>1;_t<$i;){var Zi=2*(_t+1)-1,Us=j[Zi],Be=Zi+1,Wn=j[Be];if(0>s(Us,J))Be<Ut&&0>s(Wn,Us)?(j[_t]=Wn,j[Be]=J,_t=Be):(j[_t]=Us,j[Zi]=J,_t=Zi);else if(Be<Ut&&0>s(Wn,J))j[_t]=Wn,j[Be]=J,_t=Be;else break t}}return tt}function s(j,tt){var J=j.sortIndex-tt.sortIndex;return J!==0?J:j.id-tt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],h=[],d=1,g=null,m=3,_=!1,N=!1,M=!1,V=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(j){for(var tt=n(h);tt!==null;){if(tt.callback===null)i(h);else if(tt.startTime<=j)i(h),tt.sortIndex=tt.expirationTime,t(u,tt);else break;tt=n(h)}}function z(j){if(M=!1,D(j),!N)if(n(u)!==null)N=!0,q||(q=!0,I());else{var tt=n(h);tt!==null&&We(z,tt.startTime-j)}}var q=!1,E=-1,y=5,T=-1;function b(){return V?!0:!(e.unstable_now()-T<y)}function w(){if(V=!1,q){var j=e.unstable_now();T=j;var tt=!0;try{t:{N=!1,M&&(M=!1,v(E),E=-1),_=!0;var J=m;try{e:{for(D(j),g=n(u);g!==null&&!(g.expirationTime>j&&b());){var _t=g.callback;if(typeof _t=="function"){g.callback=null,m=g.priorityLevel;var Ut=_t(g.expirationTime<=j);if(j=e.unstable_now(),typeof Ut=="function"){g.callback=Ut,D(j),tt=!0;break e}g===n(u)&&i(u),D(j)}else i(u);g=n(u)}if(g!==null)tt=!0;else{var $i=n(h);$i!==null&&We(z,$i.startTime-j),tt=!1}}break t}finally{g=null,m=J,_=!1}tt=void 0}}finally{tt?I():q=!1}}}var I;if(typeof R=="function")I=function(){R(w)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,oe=A.port2;A.port1.onmessage=w,I=function(){oe.postMessage(null)}}else I=function(){S(w,0)};function We(j,tt){E=S(function(){j(e.unstable_now())},tt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(j){switch(m){case 1:case 2:case 3:var tt=3;break;default:tt=m}var J=m;m=tt;try{return j()}finally{m=J}},e.unstable_requestPaint=function(){V=!0},e.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=m;m=j;try{return tt()}finally{m=J}},e.unstable_scheduleCallback=function(j,tt,J){var _t=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?_t+J:_t):J=_t,j){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=J+Ut,j={id:d++,callback:tt,priorityLevel:j,startTime:J,expirationTime:Ut,sortIndex:-1},J>_t?(j.sortIndex=J,t(h,j),n(u)===null&&j===n(h)&&(M?(v(E),E=-1):M=!0,We(z,J-_t))):(j.sortIndex=Ut,t(u,j),N||_||(N=!0,q||(q=!0,I()))),j},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(j){var tt=m;return function(){var J=m;m=tt;try{return j.apply(this,arguments)}finally{m=J}}}})(vv);_v.exports=vv;var CA=_v.exports,Ev={exports:{}},_e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=ee;function Tv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ai(){}var ye={d:{f:ai,r:function(){throw Error(Tv(522))},D:ai,C:ai,L:ai,m:ai,X:ai,S:ai,M:ai},p:0,findDOMNode:null},DA=Symbol.for("react.portal");function xA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:DA,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ma=NA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function $u(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}_e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;_e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Tv(299));return xA(e,t,null,n)};_e.flushSync=function(e){var t=Ma.T,n=ye.p;try{if(Ma.T=null,ye.p=2,e)return e()}finally{Ma.T=t,ye.p=n,ye.d.f()}};_e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};_e.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};_e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=$u(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};_e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=$u(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};_e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=$u(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};_e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=$u(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};_e.requestFormReset=function(e){ye.d.r(e)};_e.unstable_batchedUpdates=function(e,t){return e(t)};_e.useFormState=function(e,t,n){return Ma.H.useFormState(e,t,n)};_e.useFormStatus=function(){return Ma.H.useHostTransitionStatus()};_e.version="19.2.3";function Sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sv)}catch(e){console.error(e)}}Sv(),Ev.exports=_e;var OA=Ev.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=CA,Av=ee,VA=OA;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hp(e){if(bl(e)!==e)throw Error(U(188))}function MA(e){var t=e.alternate;if(!t){if(t=bl(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return hp(s),e;if(r===i)return hp(s),t;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function Iv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Iv(e),t!==null)return t;e=e.sibling}return null}var wt=Object.assign,UA=Symbol.for("react.element"),ro=Symbol.for("react.transitional.element"),wa=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),Nv=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),tf=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),ef=Symbol.for("react.activity"),LA=Symbol.for("react.memo_cache_sentinel"),fp=Symbol.iterator;function ya(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var kA=Symbol.for("react.client.reference");function nf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===kA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ys:return"Fragment";case Zh:return"Profiler";case Cv:return"StrictMode";case Wh:return"Suspense";case tf:return"SuspenseList";case ef:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case wa:return"Portal";case Vn:return e.displayName||"Context";case Nv:return(e._context.displayName||"Context")+".Consumer";case bd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wd:return t=e.displayName||null,t!==null?t:nf(e.type)||"Memo";case oi:t=e._payload,e=e._init;try{return nf(e(t))}catch{}}return null}var Ra=Array.isArray,Q=Av.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=VA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,hs={pending:!1,data:null,method:null,action:null},sf=[],Xs=-1;function An(e){return{current:e}}function Zt(e){0>Xs||(e.current=sf[Xs],sf[Xs]=null,Xs--)}function vt(e,t){Xs++,sf[Xs]=e.current,e.current=t}var dn=An(null),tl=An(null),Ai=An(null),tu=An(null);function eu(e,t){switch(vt(Ai,t),vt(tl,e),vt(dn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_y(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_y(t),e=XE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Zt(dn),vt(dn,e)}function Er(){Zt(dn),Zt(tl),Zt(Ai)}function rf(e){e.memoizedState!==null&&vt(tu,e);var t=dn.current,n=XE(t,e.type);t!==n&&(vt(tl,e),vt(dn,n))}function nu(e){tl.current===e&&(Zt(dn),Zt(tl)),tu.current===e&&(Zt(tu),hl._currentValue=hs)}var ih,dp;function rs(e){if(ih===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ih=t&&t[1]||"",dp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ih+e+dp}var sh=!1;function rh(e,t){if(!e||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(e,[],g)}else{try{g.call()}catch(_){m=_}e.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),h=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=s);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rs(n):""}function PA(e,t){switch(e.tag){case 26:case 27:case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return e.child!==t&&t!==null?rs("Suspense Fallback"):rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return rh(e.type,!1);case 11:return rh(e.type.render,!1);case 1:return rh(e.type,!0);case 31:return rs("Activity");default:return""}}function mp(e){try{var t="",n=null;do t+=PA(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var af=Object.prototype.hasOwnProperty,Rd=Kt.unstable_scheduleCallback,ah=Kt.unstable_cancelCallback,zA=Kt.unstable_shouldYield,jA=Kt.unstable_requestPaint,Ue=Kt.unstable_now,BA=Kt.unstable_getCurrentPriorityLevel,Dv=Kt.unstable_ImmediatePriority,xv=Kt.unstable_UserBlockingPriority,iu=Kt.unstable_NormalPriority,qA=Kt.unstable_LowPriority,Ov=Kt.unstable_IdlePriority,HA=Kt.log,GA=Kt.unstable_setDisableYieldValue,wl=null,Le=null;function yi(e){if(typeof HA=="function"&&GA(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(wl,e)}catch{}}var ke=Math.clz32?Math.clz32:KA,FA=Math.log,QA=Math.LN2;function KA(e){return e>>>=0,e===0?32:31-(FA(e)/QA|0)|0}var ao=256,lo=262144,oo=4194304;function as(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=as(i):(a&=o,a!==0?s=as(a):n||(n=o&~e,n!==0&&(s=as(n))))):(o=i&~r,o!==0?s=as(o):a!==0?s=as(a):n||(n=i&~e,n!==0&&(s=as(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Rl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function YA(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vv(){var e=oo;return oo<<=1,!(oo&62914560)&&(oo=4194304),e}function lh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function XA(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-ke(n),g=1<<d;o[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&Mv(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function Mv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ke(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Uv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ke(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function Lv(e,t){var n=t&-t;return n=n&42?1:Id(n),n&(e.suspendedLanes|t)?0:n}function Id(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function kv(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:aT(e.type))}function gp(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var Ki=Math.random().toString(36).slice(2),ne="__reactFiber$"+Ki,Re="__reactProps$"+Ki,Br="__reactContainer$"+Ki,lf="__reactEvents$"+Ki,JA="__reactListeners$"+Ki,$A="__reactHandles$"+Ki,pp="__reactResources$"+Ki,Cl="__reactMarker$"+Ki;function Nd(e){delete e[ne],delete e[Re],delete e[lf],delete e[JA],delete e[$A]}function Js(e){var t=e[ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Br]||n[ne]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ay(e);e!==null;){if(n=e[ne])return n;e=Ay(e)}return t}e=n,n=e.parentNode}return null}function qr(e){if(e=e[ne]||e[Br]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ia(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function lr(e){var t=e[pp];return t||(t=e[pp]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $t(e){e[Cl]=!0}var Pv=new Set,zv={};function Cs(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(zv[e]=t,e=0;e<t.length;e++)Pv.add(t[e])}var ZA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yp={},_p={};function WA(e){return af.call(_p,e)?!0:af.call(yp,e)?!1:ZA.test(e)?_p[e]=!0:(yp[e]=!0,!1)}function No(e,t,n){if(WA(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function uo(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function wn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tb(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function of(e){if(!e._valueTracker){var t=jv(e)?"checked":"value";e._valueTracker=tb(e,t,""+e[t])}}function Bv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=jv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function su(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eb=/[\n"\\]/g;function Qe(e){return e.replace(eb,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function uf(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?cf(e,a,He(t)):n!=null?cf(e,a,He(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+He(o):e.removeAttribute("name")}function qv(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){of(e);return}n=n!=null?""+He(n):"",t=t!=null?""+He(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),of(e)}function cf(e,t,n){t==="number"&&su(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function or(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hv(e,t,n){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+He(n):""}function Gv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(Ra(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=He(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),of(e)}function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vp(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||nb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Fv(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&vp(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&vp(e,r,t[r])}function Dd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ib=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(e){return sb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var hf=null;function xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $s=null,ur=null;function Ep(e){var t=qr(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(uf(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Re]||null;if(!s)throw Error(U(90));uf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Bv(i)}break t;case"textarea":Hv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&or(e,!!n.multiple,t,!1)}}}var oh=!1;function Qv(e,t,n){if(oh)return e(t,n);oh=!0;try{var i=e(t);return i}finally{if(oh=!1,($s!==null||ur!==null)&&(cc(),$s&&(t=$s,e=ur,ur=$s=null,Ep(t),e)))for(t=0;t<e.length;t++)Ep(e[t])}}function el(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=!1;if(Bn)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){ff=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{ff=!1}var _i=null,Od=null,xo=null;function Kv(){if(xo)return xo;var e,t=Od,n=t.length,i,s="value"in _i?_i.value:_i.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return xo=s.slice(e,1<i?1-i:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function co(){return!0}function Tp(){return!1}function Ce(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?co:Tp,this.isPropagationStopped=Tp,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=co)},persist:function(){},isPersistent:co}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wu=Ce(Ns),Nl=wt({},Ns,{view:0,detail:0}),rb=Ce(Nl),uh,ch,va,tc=wt({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(uh=e.screenX-va.screenX,ch=e.screenY-va.screenY):ch=uh=0,va=e),uh)},movementY:function(e){return"movementY"in e?e.movementY:ch}}),Sp=Ce(tc),ab=wt({},tc,{dataTransfer:0}),lb=Ce(ab),ob=wt({},Nl,{relatedTarget:0}),hh=Ce(ob),ub=wt({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=Ce(ub),hb=wt({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fb=Ce(hb),db=wt({},Ns,{data:0}),Ap=Ce(db),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pb[e])?!!t[e]:!1}function Vd(){return yb}var _b=wt({},Nl,{key:function(e){if(e.key){var t=mb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vb=Ce(_b),Eb=wt({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bp=Ce(Eb),Tb=wt({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),Sb=Ce(Tb),Ab=wt({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),bb=Ce(Ab),wb=wt({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rb=Ce(wb),Ib=wt({},Ns,{newState:0,oldState:0}),Cb=Ce(Ib),Nb=[9,13,27,32],Md=Bn&&"CompositionEvent"in window,Ua=null;Bn&&"documentMode"in document&&(Ua=document.documentMode);var Db=Bn&&"TextEvent"in window&&!Ua,Yv=Bn&&(!Md||Ua&&8<Ua&&11>=Ua),wp=" ",Rp=!1;function Xv(e,t){switch(e){case"keyup":return Nb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zs=!1;function xb(e,t){switch(e){case"compositionend":return Jv(t);case"keypress":return t.which!==32?null:(Rp=!0,wp);case"textInput":return e=t.data,e===wp&&Rp?null:e;default:return null}}function Ob(e,t){if(Zs)return e==="compositionend"||!Md&&Xv(e,t)?(e=Kv(),xo=Od=_i=null,Zs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yv&&t.locale!=="ko"?null:t.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vb[e.type]:t==="textarea"}function $v(e,t,n,i){$s?ur?ur.push(i):ur=[i]:$s=i,t=Su(t,"onChange"),0<t.length&&(n=new Wu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var La=null,nl=null;function Mb(e){QE(e,0)}function ec(e){var t=Ia(e);if(Bv(t))return e}function Cp(e,t){if(e==="change")return t}var Zv=!1;if(Bn){var fh;if(Bn){var dh="oninput"in document;if(!dh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),dh=typeof Np.oninput=="function"}fh=dh}else fh=!1;Zv=fh&&(!document.documentMode||9<document.documentMode)}function Dp(){La&&(La.detachEvent("onpropertychange",Wv),nl=La=null)}function Wv(e){if(e.propertyName==="value"&&ec(nl)){var t=[];$v(t,nl,e,xd(e)),Qv(Mb,t)}}function Ub(e,t,n){e==="focusin"?(Dp(),La=t,nl=n,La.attachEvent("onpropertychange",Wv)):e==="focusout"&&Dp()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(nl)}function kb(e,t){if(e==="click")return ec(t)}function Pb(e,t){if(e==="input"||e==="change")return ec(t)}function zb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ze=typeof Object.is=="function"?Object.is:zb;function il(e,t){if(ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!af.call(t,s)||!ze(e[s],t[s]))return!1}return!0}function xp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Op(e,t){var n=xp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=xp(n)}}function t0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?t0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=su(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=su(e.document)}return t}function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var jb=Bn&&"documentMode"in document&&11>=document.documentMode,Ws=null,df=null,ka=null,mf=!1;function Vp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Ws==null||Ws!==su(i)||(i=Ws,"selectionStart"in i&&Ud(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ka&&il(ka,i)||(ka=i,i=Su(df,"onSelect"),0<i.length&&(t=new Wu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ws)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tr={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},mh={},n0={};Bn&&(n0=document.createElement("div").style,"AnimationEvent"in window||(delete tr.animationend.animation,delete tr.animationiteration.animation,delete tr.animationstart.animation),"TransitionEvent"in window||delete tr.transitionend.transition);function Ds(e){if(mh[e])return mh[e];if(!tr[e])return e;var t=tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in n0)return mh[e]=t[n];return e}var i0=Ds("animationend"),s0=Ds("animationiteration"),r0=Ds("animationstart"),Bb=Ds("transitionrun"),qb=Ds("transitionstart"),Hb=Ds("transitioncancel"),a0=Ds("transitionend"),l0=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function rn(e,t){l0.set(e,t),Cs(t,[e])}var ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qe=[],er=0,Ld=0;function nc(){for(var e=er,t=Ld=er=0;t<e;){var n=qe[t];qe[t++]=null;var i=qe[t];qe[t++]=null;var s=qe[t];qe[t++]=null;var r=qe[t];if(qe[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&o0(n,s,r)}}function ic(e,t,n,i){qe[er++]=e,qe[er++]=t,qe[er++]=n,qe[er++]=i,Ld|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function kd(e,t,n,i){return ic(e,t,n,i),au(e)}function xs(e,t){return ic(e,null,null,t),au(e)}function o0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-ke(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function au(e){if(50<Qa)throw Qa=0,Lf=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nr={};function Gb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,i){return new Gb(e,t,n,i)}function Pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pn(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function u0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vo(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Pd(e)&&(a=1);else if(typeof e=="string")a=Xw(e,n,dn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case ef:return e=Oe(31,n,t,s),e.elementType=ef,e.lanes=r,e;case Ys:return fs(n.children,s,r,t);case Cv:a=8,s|=24;break;case Zh:return e=Oe(12,n,t,s|2),e.elementType=Zh,e.lanes=r,e;case Wh:return e=Oe(13,n,t,s),e.elementType=Wh,e.lanes=r,e;case tf:return e=Oe(19,n,t,s),e.elementType=tf,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vn:a=10;break t;case Nv:a=9;break t;case bd:a=11;break t;case wd:a=14;break t;case oi:a=16,i=null;break t}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=Oe(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function fs(e,t,n,i){return e=Oe(7,e,i,t),e.lanes=n,e}function gh(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function c0(e){var t=Oe(18,null,null,0);return t.stateNode=e,t}function ph(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Mp=new WeakMap;function Ke(e,t){if(typeof e=="object"&&e!==null){var n=Mp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mp(t)},Mp.set(e,t),t)}return{value:e,source:t,stack:mp(t)}}var ir=[],sr=0,lu=null,sl=0,Ge=[],Fe=0,ki=null,cn=1,hn="";function Dn(e,t){ir[sr++]=sl,ir[sr++]=lu,lu=e,sl=t}function h0(e,t,n){Ge[Fe++]=cn,Ge[Fe++]=hn,Ge[Fe++]=ki,ki=e;var i=cn;e=hn;var s=32-ke(i)-1;i&=~(1<<s),n+=1;var r=32-ke(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,cn=1<<32-ke(t)+s|n<<s|i,hn=r+e}else cn=1<<r|n<<s|i,hn=e}function zd(e){e.return!==null&&(Dn(e,1),h0(e,1,0))}function jd(e){for(;e===lu;)lu=ir[--sr],ir[sr]=null,sl=ir[--sr],ir[sr]=null;for(;e===ki;)ki=Ge[--Fe],Ge[Fe]=null,hn=Ge[--Fe],Ge[Fe]=null,cn=Ge[--Fe],Ge[Fe]=null}function f0(e,t){Ge[Fe++]=cn,Ge[Fe++]=hn,Ge[Fe++]=ki,cn=t.id,hn=t.overflow,ki=e}var ie=null,St=null,lt=!1,bi=null,Ye=!1,pf=Error(U(519));function Pi(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Ke(t,e)),pf}function Up(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ne]=e,t[Re]=i,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<ul.length;n++)et(ul[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),qv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),Gv(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||YE(t.textContent,n)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||Pi(e,!0)}function Lp(e){for(ie=e.return;ie;)switch(ie.tag){case 5:case 31:case 13:Ye=!1;return;case 27:case 3:Ye=!0;return;default:ie=ie.return}}function zs(e){if(e!==ie)return!1;if(!lt)return Lp(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bf(e.type,e.memoizedProps)),n=!n),n&&St&&Pi(e),Lp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));St=Sy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));St=Sy(e)}else t===27?(t=St,Yi(e.type)?(e=Ff,Ff=null,St=e):St=t):St=ie?$e(e.stateNode.nextSibling):null;return!0}function _s(){St=ie=null,lt=!1}function yh(){var e=bi;return e!==null&&(Se===null?Se=e:Se.push.apply(Se,e),bi=null),e}function rl(e){bi===null?bi=[e]:bi.push(e)}var yf=An(null),Os=null,Un=null;function ci(e,t,n){vt(yf,t._currentValue),t._currentValue=n}function zn(e){e._currentValue=yf.current,Zt(yf)}function _f(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function vf(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),_f(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),_f(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Hr(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var o=s.type;ze(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===tu.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(hl):e=[hl])}s=s.return}e!==null&&vf(t,e,n,i),t.flags|=262144}function ou(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){Os=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function re(e){return d0(Os,e)}function ho(e,t){return Os===null&&vs(e),d0(e,t)}function d0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Un===null){if(e===null)throw Error(U(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return n}var Fb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Qb=Kt.unstable_scheduleCallback,Kb=Kt.unstable_NormalPriority,zt={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new Fb,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&Qb(Kb,function(){e.controller.abort()})}var Pa=null,Ef=0,Ar=0,cr=null;function Yb(e,t){if(Pa===null){var n=Pa=[];Ef=0,Ar=fm(),cr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ef++,t.then(kp,kp),t}function kp(){if(--Ef===0&&Pa!==null){cr!==null&&(cr.status="fulfilled");var e=Pa;Pa=null,Ar=0,cr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xb(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var Pp=Q.S;Q.S=function(e,t){IE=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Yb(e,t),Pp!==null&&Pp(e,t)};var ds=An(null);function qd(){var e=ds.current;return e!==null?e:yt.pooledCache}function Mo(e,t){t===null?vt(ds,ds.current):vt(ds,t.pool)}function m0(){var e=qd();return e===null?null:{parent:zt._currentValue,pool:e}}var Gr=Error(U(460)),Hd=Error(U(474)),sc=Error(U(542)),uu={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function g0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Mn,Mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bp(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bp(e),e}throw ms=t,Gr}}function ls(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ms=n,Gr):n}}var ms=null;function jp(){if(ms===null)throw Error(U(459));var e=ms;return ms=null,e}function Bp(e){if(e===Gr||e===sc)throw Error(U(483))}var hr=null,al=0;function fo(e){var t=al;return al+=1,hr===null&&(hr=[]),g0(hr,e,t)}function Ea(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mo(e,t){throw t.$$typeof===UA?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function p0(e){function t(S,v){if(e){var R=S.deletions;R===null?(S.deletions=[v],S.flags|=16):R.push(v)}}function n(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function i(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function s(S,v){return S=Pn(S,v),S.index=0,S.sibling=null,S}function r(S,v,R){return S.index=R,e?(R=S.alternate,R!==null?(R=R.index,R<v?(S.flags|=67108866,v):R):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function a(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function o(S,v,R,D){return v===null||v.tag!==6?(v=gh(R,S.mode,D),v.return=S,v):(v=s(v,R),v.return=S,v)}function u(S,v,R,D){var z=R.type;return z===Ys?d(S,v,R.props.children,D,R.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===oi&&ls(z)===v.type)?(v=s(v,R.props),Ea(v,R),v.return=S,v):(v=Vo(R.type,R.key,R.props,null,S.mode,D),Ea(v,R),v.return=S,v)}function h(S,v,R,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==R.containerInfo||v.stateNode.implementation!==R.implementation?(v=ph(R,S.mode,D),v.return=S,v):(v=s(v,R.children||[]),v.return=S,v)}function d(S,v,R,D,z){return v===null||v.tag!==7?(v=fs(R,S.mode,D,z),v.return=S,v):(v=s(v,R),v.return=S,v)}function g(S,v,R){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=gh(""+v,S.mode,R),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ro:return R=Vo(v.type,v.key,v.props,null,S.mode,R),Ea(R,v),R.return=S,R;case wa:return v=ph(v,S.mode,R),v.return=S,v;case oi:return v=ls(v),g(S,v,R)}if(Ra(v)||ya(v))return v=fs(v,S.mode,R,null),v.return=S,v;if(typeof v.then=="function")return g(S,fo(v),R);if(v.$$typeof===Vn)return g(S,ho(S,v),R);mo(S,v)}return null}function m(S,v,R,D){var z=v!==null?v.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return z!==null?null:o(S,v,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ro:return R.key===z?u(S,v,R,D):null;case wa:return R.key===z?h(S,v,R,D):null;case oi:return R=ls(R),m(S,v,R,D)}if(Ra(R)||ya(R))return z!==null?null:d(S,v,R,D,null);if(typeof R.then=="function")return m(S,v,fo(R),D);if(R.$$typeof===Vn)return m(S,v,ho(S,R),D);mo(S,R)}return null}function _(S,v,R,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return S=S.get(R)||null,o(v,S,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ro:return S=S.get(D.key===null?R:D.key)||null,u(v,S,D,z);case wa:return S=S.get(D.key===null?R:D.key)||null,h(v,S,D,z);case oi:return D=ls(D),_(S,v,R,D,z)}if(Ra(D)||ya(D))return S=S.get(R)||null,d(v,S,D,z,null);if(typeof D.then=="function")return _(S,v,R,fo(D),z);if(D.$$typeof===Vn)return _(S,v,R,ho(v,D),z);mo(v,D)}return null}function N(S,v,R,D){for(var z=null,q=null,E=v,y=v=0,T=null;E!==null&&y<R.length;y++){E.index>y?(T=E,E=null):T=E.sibling;var b=m(S,E,R[y],D);if(b===null){E===null&&(E=T);break}e&&E&&b.alternate===null&&t(S,E),v=r(b,v,y),q===null?z=b:q.sibling=b,q=b,E=T}if(y===R.length)return n(S,E),lt&&Dn(S,y),z;if(E===null){for(;y<R.length;y++)E=g(S,R[y],D),E!==null&&(v=r(E,v,y),q===null?z=E:q.sibling=E,q=E);return lt&&Dn(S,y),z}for(E=i(E);y<R.length;y++)T=_(E,S,y,R[y],D),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?y:T.key),v=r(T,v,y),q===null?z=T:q.sibling=T,q=T);return e&&E.forEach(function(w){return t(S,w)}),lt&&Dn(S,y),z}function M(S,v,R,D){if(R==null)throw Error(U(151));for(var z=null,q=null,E=v,y=v=0,T=null,b=R.next();E!==null&&!b.done;y++,b=R.next()){E.index>y?(T=E,E=null):T=E.sibling;var w=m(S,E,b.value,D);if(w===null){E===null&&(E=T);break}e&&E&&w.alternate===null&&t(S,E),v=r(w,v,y),q===null?z=w:q.sibling=w,q=w,E=T}if(b.done)return n(S,E),lt&&Dn(S,y),z;if(E===null){for(;!b.done;y++,b=R.next())b=g(S,b.value,D),b!==null&&(v=r(b,v,y),q===null?z=b:q.sibling=b,q=b);return lt&&Dn(S,y),z}for(E=i(E);!b.done;y++,b=R.next())b=_(E,S,y,b.value,D),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?y:b.key),v=r(b,v,y),q===null?z=b:q.sibling=b,q=b);return e&&E.forEach(function(I){return t(S,I)}),lt&&Dn(S,y),z}function V(S,v,R,D){if(typeof R=="object"&&R!==null&&R.type===Ys&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ro:t:{for(var z=R.key;v!==null;){if(v.key===z){if(z=R.type,z===Ys){if(v.tag===7){n(S,v.sibling),D=s(v,R.props.children),D.return=S,S=D;break t}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===oi&&ls(z)===v.type){n(S,v.sibling),D=s(v,R.props),Ea(D,R),D.return=S,S=D;break t}n(S,v);break}else t(S,v);v=v.sibling}R.type===Ys?(D=fs(R.props.children,S.mode,D,R.key),D.return=S,S=D):(D=Vo(R.type,R.key,R.props,null,S.mode,D),Ea(D,R),D.return=S,S=D)}return a(S);case wa:t:{for(z=R.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===R.containerInfo&&v.stateNode.implementation===R.implementation){n(S,v.sibling),D=s(v,R.children||[]),D.return=S,S=D;break t}else{n(S,v);break}else t(S,v);v=v.sibling}D=ph(R,S.mode,D),D.return=S,S=D}return a(S);case oi:return R=ls(R),V(S,v,R,D)}if(Ra(R))return N(S,v,R,D);if(ya(R)){if(z=ya(R),typeof z!="function")throw Error(U(150));return R=z.call(R),M(S,v,R,D)}if(typeof R.then=="function")return V(S,v,fo(R),D);if(R.$$typeof===Vn)return V(S,v,ho(S,R),D);mo(S,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,v!==null&&v.tag===6?(n(S,v.sibling),D=s(v,R),D.return=S,S=D):(n(S,v),D=gh(R,S.mode,D),D.return=S,S=D),a(S)):n(S,v)}return function(S,v,R,D){try{al=0;var z=V(S,v,R,D);return hr=null,z}catch(E){if(E===Gr||E===sc)throw E;var q=Oe(29,E,null,S.mode);return q.lanes=D,q.return=S,q}finally{}}}var Es=p0(!0),y0=p0(!1),ui=!1;function Gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ut&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=au(e),o0(e,null,n),t}return ic(e,i,t,n),au(e)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Uv(e,n)}}function _h(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Sf=!1;function ja(){if(Sf){var e=cr;if(e!==null)throw e}}function Ba(e,t,n,i){Sf=!1;var s=e.updateQueue;ui=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(r!==null){var g=s.baseState;a=0,d=h=u=null,o=r;do{var m=o.lane&-536870913,_=m!==o.lane;if(_?(at&m)===m:(i&m)===m){m!==0&&m===Ar&&(Sf=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var N=e,M=o;m=t;var V=n;switch(M.tag){case 1:if(N=M.payload,typeof N=="function"){g=N.call(V,g,m);break t}g=N;break t;case 3:N.flags=N.flags&-65537|128;case 0:if(N=M.payload,m=typeof N=="function"?N.call(V,g,m):N,m==null)break t;g=wt({},g,m);break t;case 2:ui=!0}}m=o.callback,m!==null&&(e.flags|=64,_&&(e.flags|=8192),_=s.callbacks,_===null?s.callbacks=[m]:_.push(m))}else _={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;_=o,o=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);d===null&&(u=g),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),ji|=a,e.lanes=a,e.memoizedState=g}}function _0(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function v0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)_0(n[e],t)}var br=An(null),cu=An(0);function qp(e,t){e=Fn,vt(cu,e),vt(br,t),Fn=e|t.baseLanes}function Af(){vt(cu,Fn),vt(br,br.current)}function Fd(){Fn=cu.current,Zt(br),Zt(cu)}var je=An(null),Je=null;function hi(e){var t=e.alternate;vt(Vt,Vt.current&1),vt(je,e),Je===null&&(t===null||br.current!==null||t.memoizedState!==null)&&(Je=e)}function bf(e){vt(Vt,Vt.current),vt(je,e),Je===null&&(Je=e)}function E0(e){e.tag===22?(vt(Vt,Vt.current),vt(je,e),Je===null&&(Je=e)):fi()}function fi(){vt(Vt,Vt.current),vt(je,je.current)}function xe(e){Zt(je),Je===e&&(Je=null),Zt(Vt)}var Vt=An(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Hf(n)||Gf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qn=0,Z=null,gt=null,kt=null,fu=!1,fr=!1,Ts=!1,du=0,ll=0,dr=null,Jb=0;function Dt(){throw Error(U(321))}function Qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ze(e[n],t[n]))return!1;return!0}function Kd(e,t,n,i,s,r){return qn=r,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?$0:sm,Ts=!1,r=n(i,s),Ts=!1,fr&&(r=S0(t,n,i,s)),T0(e),r}function T0(e){Q.H=ol;var t=gt!==null&&gt.next!==null;if(qn=0,kt=gt=Z=null,fu=!1,ll=0,dr=null,t)throw Error(U(300));e===null||jt||(e=e.dependencies,e!==null&&ou(e)&&(jt=!0))}function S0(e,t,n,i){Z=e;var s=0;do{if(fr&&(dr=null),ll=0,fr=!1,25<=s)throw Error(U(301));if(s+=1,kt=gt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}Q.H=Z0,r=t(n,i)}while(fr);return r}function $b(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?xl(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(Z.flags|=1024),t}function Yd(){var e=du!==0;return du=0,e}function Xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Jd(e){if(fu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fu=!1}qn=0,kt=gt=Z=null,fr=!1,ll=du=0,dr=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Z.memoizedState=kt=e:kt=kt.next=e,kt}function Mt(){if(gt===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=kt===null?Z.memoizedState:kt.next;if(t!==null)kt=t,gt=e;else{if(e===null)throw Z.alternate===null?Error(U(467)):Error(U(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},kt===null?Z.memoizedState=kt=e:kt=kt.next=e}return kt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(e){var t=ll;return ll+=1,dr===null&&(dr=[]),e=g0(dr,e,t),t=Z,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?$0:sm),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xl(e);if(e.$$typeof===Vn)return re(e)}throw Error(U(438,String(e)))}function $d(e){var t=null,n=Z.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Z.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=rc(),Z.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=LA;return t.index++,n}function Hn(e,t){return typeof t=="function"?t(e):t}function Uo(e){var t=Mt();return Zd(t,gt,e)}function Zd(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(at&g)===g:(qn&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Ar&&(d=!0);else if((qn&m)===m){h=h.next,m===Ar&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,a=r):u=u.next=g,Z.lanes|=m,ji|=m;g=h.action,Ts&&n(r,g),r=h.hasEagerState?h.eagerState:n(r,g)}else m={lane:g,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,Z.lanes|=g,ji|=g;h=h.next}while(h!==null&&h!==t);if(u===null?a=r:u.next=o,!ze(r,e.memoizedState)&&(jt=!0,d&&(n=cr,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function vh(e){var t=Mt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);ze(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function A0(e,t,n){var i=Z,s=Mt(),r=lt;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!ze((gt||s).memoizedState,n);if(a&&(s.memoizedState=n,jt=!0),s=s.queue,Wd(R0.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||kt!==null&&kt.memoizedState.tag&1){if(i.flags|=2048,wr(9,{destroy:void 0},w0.bind(null,i,s,n,t),null),yt===null)throw Error(U(349));r||qn&127||b0(i,t,n)}return n}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t=rc(),Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function w0(e,t,n,i){t.value=n,t.getSnapshot=i,I0(t)&&C0(e)}function R0(e,t,n){return n(function(){I0(t)&&C0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ze(e,n)}catch{return!0}}function C0(e){var t=xs(e,2);t!==null&&we(t,e,2)}function wf(e){var t=pe();if(typeof e=="function"){var n=e;if(e=n(),Ts){yi(!0);try{n()}finally{yi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t}function N0(e,t,n,i){return e.baseState=n,Zd(e,gt,typeof i=="function"?i:Hn)}function Zb(e,t,n,i,s){if(oc(e))throw Error(U(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};Q.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,D0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function D0(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=Q.T,a={};Q.T=a;try{var o=n(s,i),u=Q.S;u!==null&&u(a,o),Hp(e,t,o)}catch(h){Rf(e,t,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),Q.T=r}}else try{r=n(s,i),Hp(e,t,r)}catch(h){Rf(e,t,h)}}function Hp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Gp(e,t,i)},function(i){return Rf(e,t,i)}):Gp(e,t,n)}function Gp(e,t,n){t.status="fulfilled",t.value=n,x0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,D0(e,n)))}function Rf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,x0(t),t=t.next;while(t!==i)}e.action=null}function x0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function O0(e,t){return t}function Fp(e,t){if(lt){var n=yt.formState;if(n!==null){t:{var i=Z;if(lt){if(St){e:{for(var s=St,r=Ye;s.nodeType!==8;){if(!r){s=null;break e}if(s=$e(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){St=$e(s.nextSibling),i=s.data==="F!";break t}}Pi(i)}i=!1}i&&(t=n[0])}}return n=pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:t},n.queue=i,n=Y0.bind(null,Z,i),i.dispatch=n,i=wf(!1),r=im.bind(null,Z,!1,i.queue),i=pe(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=Zb.bind(null,Z,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function Qp(e){var t=Mt();return V0(t,gt,e)}function V0(e,t,n){if(t=Zd(e,t,O0)[0],e=Uo(Hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=xl(t)}catch(a){throw a===Gr?sc:a}else i=t;t=Mt();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Z.flags|=2048,wr(9,{destroy:void 0},Wb.bind(null,s,n),null)),[i,r,e]}function Wb(e,t){e.action=t}function Kp(e){var t=Mt(),n=gt;if(n!==null)return V0(t,n,e);Mt(),t=t.memoizedState,n=Mt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function wr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Z.updateQueue,t===null&&(t=rc(),Z.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function M0(){return Mt().memoizedState}function Lo(e,t,n,i){var s=pe();Z.flags|=e,s.memoizedState=wr(1|t,{destroy:void 0},n,i===void 0?null:i)}function lc(e,t,n,i){var s=Mt();i=i===void 0?null:i;var r=s.memoizedState.inst;gt!==null&&i!==null&&Qd(i,gt.memoizedState.deps)?s.memoizedState=wr(t,r,n,i):(Z.flags|=e,s.memoizedState=wr(1|t,r,n,i))}function Yp(e,t){Lo(8390656,8,e,t)}function Wd(e,t){lc(2048,8,e,t)}function tw(e){Z.flags|=4;var t=Z.updateQueue;if(t===null)t=rc(),Z.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function U0(e){var t=Mt().memoizedState;return tw({ref:t,nextImpl:e}),function(){if(ut&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function L0(e,t){return lc(4,2,e,t)}function k0(e,t){return lc(4,4,e,t)}function P0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z0(e,t,n){n=n!=null?n.concat([e]):null,lc(4,4,P0.bind(null,t,e),n)}function tm(){}function j0(e,t){var n=Mt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Qd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function B0(e,t){var n=Mt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Qd(t,i[1]))return i[0];if(i=e(),Ts){yi(!0);try{e()}finally{yi(!1)}}return n.memoizedState=[i,t],i}function em(e,t,n){return n===void 0||qn&1073741824&&!(at&261930)?e.memoizedState=t:(e.memoizedState=n,e=NE(),Z.lanes|=e,ji|=e,n)}function q0(e,t,n,i){return ze(n,t)?n:br.current!==null?(e=em(e,n,i),ze(e,t)||(jt=!0),e):!(qn&42)||qn&1073741824&&!(at&261930)?(jt=!0,e.memoizedState=n):(e=NE(),Z.lanes|=e,ji|=e,t)}function H0(e,t,n,i,s){var r=ct.p;ct.p=r!==0&&8>r?r:8;var a=Q.T,o={};Q.T=o,im(e,!1,t,n);try{var u=s(),h=Q.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Xb(u,i);qa(e,t,d,Pe(e))}else qa(e,t,i,Pe(e))}catch(g){qa(e,t,{then:function(){},status:"rejected",reason:g},Pe())}finally{ct.p=r,a!==null&&o.types!==null&&(a.types=o.types),Q.T=a}}function ew(){}function If(e,t,n,i){if(e.tag!==5)throw Error(U(476));var s=G0(e).queue;H0(e,s,t,hs,n===null?ew:function(){return F0(e),n(i)})}function G0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:hs,baseState:hs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:hs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function F0(e){var t=G0(e);t.next===null&&(t=e.alternate.memoizedState),qa(e,t.next.queue,{},Pe())}function nm(){return re(hl)}function Q0(){return Mt().memoizedState}function K0(){return Mt().memoizedState}function nw(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Pe();e=wi(n);var i=Ri(t,e,n);i!==null&&(we(i,t,n),za(i,t,n)),t={cache:Bd()},e.payload=t;return}t=t.return}}function iw(e,t,n){var i=Pe();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},oc(e)?X0(t,n):(n=kd(e,t,n,i),n!==null&&(we(n,e,i),J0(n,t,i)))}function Y0(e,t,n){var i=Pe();qa(e,t,n,i)}function qa(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(oc(e))X0(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,ze(o,a))return ic(e,t,s,0),yt===null&&nc(),!1}catch{}finally{}if(n=kd(e,t,s,i),n!==null)return we(n,e,i),J0(n,t,i),!0}return!1}function im(e,t,n,i){if(i={lane:2,revertLane:fm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(t)throw Error(U(479))}else t=kd(e,n,i,2),t!==null&&we(t,e,2)}function oc(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function X0(e,t){fr=fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function J0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Uv(e,n)}}var ol={readContext:re,use:ac,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};ol.useEffectEvent=Dt;var $0={readContext:re,use:ac,useCallback:function(e,t){return pe().memoizedState=[e,t===void 0?null:t],e},useContext:re,useEffect:Yp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Lo(4194308,4,P0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){Lo(4,2,e,t)},useMemo:function(e,t){var n=pe();t=t===void 0?null:t;var i=e();if(Ts){yi(!0);try{e()}finally{yi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pe();if(n!==void 0){var s=n(t);if(Ts){yi(!0);try{n(t)}finally{yi(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=iw.bind(null,Z,e),[i.memoizedState,e]},useRef:function(e){var t=pe();return e={current:e},t.memoizedState=e},useState:function(e){e=wf(e);var t=e.queue,n=Y0.bind(null,Z,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:tm,useDeferredValue:function(e,t){var n=pe();return em(n,e,t)},useTransition:function(){var e=wf(!1);return e=H0.bind(null,Z,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Z,s=pe();if(lt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),yt===null)throw Error(U(349));at&127||b0(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Yp(R0.bind(null,i,r,e),[e]),i.flags|=2048,wr(9,{destroy:void 0},w0.bind(null,i,r,n,t),null),n},useId:function(){var e=pe(),t=yt.identifierPrefix;if(lt){var n=hn,i=cn;n=(i&~(1<<32-ke(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=du++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Jb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nm,useFormState:Fp,useActionState:Fp,useOptimistic:function(e){var t=pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=im.bind(null,Z,!0,n),n.dispatch=t,[e,t]},useMemoCache:$d,useCacheRefresh:function(){return pe().memoizedState=nw.bind(null,Z)},useEffectEvent:function(e){var t=pe(),n={impl:e};return t.memoizedState=n,function(){if(ut&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},sm={readContext:re,use:ac,useCallback:j0,useContext:re,useEffect:Wd,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:k0,useMemo:B0,useReducer:Uo,useRef:M0,useState:function(){return Uo(Hn)},useDebugValue:tm,useDeferredValue:function(e,t){var n=Mt();return q0(n,gt.memoizedState,e,t)},useTransition:function(){var e=Uo(Hn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:xl(e),t]},useSyncExternalStore:A0,useId:Q0,useHostTransitionStatus:nm,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,t){var n=Mt();return N0(n,gt,e,t)},useMemoCache:$d,useCacheRefresh:K0};sm.useEffectEvent=U0;var Z0={readContext:re,use:ac,useCallback:j0,useContext:re,useEffect:Wd,useImperativeHandle:z0,useInsertionEffect:L0,useLayoutEffect:k0,useMemo:B0,useReducer:vh,useRef:M0,useState:function(){return vh(Hn)},useDebugValue:tm,useDeferredValue:function(e,t){var n=Mt();return gt===null?em(n,e,t):q0(n,gt.memoizedState,e,t)},useTransition:function(){var e=vh(Hn)[0],t=Mt().memoizedState;return[typeof e=="boolean"?e:xl(e),t]},useSyncExternalStore:A0,useId:Q0,useHostTransitionStatus:nm,useFormState:Kp,useActionState:Kp,useOptimistic:function(e,t){var n=Mt();return gt!==null?N0(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$d,useCacheRefresh:K0};Z0.useEffectEvent=U0;function Eh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:wt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pe(),s=wi(i);s.payload=t,n!=null&&(s.callback=n),t=Ri(e,s,i),t!==null&&(we(t,e,i),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pe(),s=wi(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ri(e,s,i),t!==null&&(we(t,e,i),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),i=wi(n);i.tag=2,t!=null&&(i.callback=t),t=Ri(e,i,n),t!==null&&(we(t,e,n),za(t,e,n))}};function Xp(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!il(n,i)||!il(s,r):!0}function Jp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=wt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function W0(e){ru(e)}function tE(e){console.error(e)}function eE(e){ru(e)}function mu(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function $p(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Nf(e,t,n){return n=wi(n),n.tag=3,n.payload={element:null},n.callback=function(){mu(e,t)},n}function nE(e){return e=wi(e),e.tag=3,e}function iE(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){$p(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){$p(t,n,i),typeof s!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function sw(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Hr(t,n,s,!0),n=je.current,n!==null){switch(n.tag){case 31:case 13:return Je===null?vu():n.alternate===null&&xt===0&&(xt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===uu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),xh(e,i,s)),!1;case 22:return n.flags|=65536,i===uu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),xh(e,i,s)),!1}throw Error(U(435,n.tag))}return xh(e,i,s),vu(),!1}if(lt)return t=je.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==pf&&(e=Error(U(422),{cause:i}),rl(Ke(e,n)))):(i!==pf&&(t=Error(U(423),{cause:i}),rl(Ke(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=Ke(i,n),s=Nf(e.stateNode,i,s),_h(e,s),xt!==4&&(xt=2)),!1;var r=Error(U(520),{cause:i});if(r=Ke(r,n),Fa===null?Fa=[r]:Fa.push(r),xt!==4&&(xt=2),t===null)return!0;i=Ke(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Nf(n.stateNode,i,e),_h(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=nE(s),iE(s,e,n,i),_h(n,s),!1}n=n.return}while(n!==null);return!1}var rm=Error(U(461)),jt=!1;function Wt(e,t,n,i){t.child=e===null?y0(t,null,n,i):Es(t,e.child,n,i)}function Zp(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return vs(t),i=Kd(e,t,n,a,r,s),o=Yd(),e!==null&&!jt?(Xd(e,t,s),Gn(e,t,s)):(lt&&o&&zd(t),t.flags|=1,Wt(e,t,i,s),t.child)}function Wp(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Pd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,sE(e,t,r,i,s)):(e=Vo(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!am(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(a,i)&&e.ref===t.ref)return Gn(e,t,s)}return t.flags|=1,e=Pn(r,i),e.ref=t.ref,e.return=t,t.child=e}function sE(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(il(r,i)&&e.ref===t.ref)if(jt=!1,t.pendingProps=i=r,am(e,s))e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,Gn(e,t,s)}return Df(e,t,n,i,s)}function rE(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return ty(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mo(t,r!==null?r.cachePool:null),r!==null?qp(t,r):Af(),E0(t);else return i=t.lanes=536870912,ty(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Mo(t,r.cachePool),qp(t,r),fi(),t.memoizedState=null):(e!==null&&Mo(t,null),Af(),fi());return Wt(e,t,s,n),t.child}function Ca(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ty(e,t,n,i,s){var r=qd();return r=r===null?null:{parent:zt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Mo(t,null),Af(),E0(t),e!==null&&Hr(e,t,i,!0),t.childLanes=s,null}function ko(e,t){return t=gu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ey(e,t,n){return Es(t,e.child,null,n),e=ko(t,t.pendingProps),e.flags|=2,xe(t),t.memoizedState=null,e}function rw(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(i.mode==="hidden")return e=ko(t,i),t.lanes=536870912,Ca(null,e);if(bf(t),(e=St)?(e=$E(e,Ye),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki!==null?{id:cn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},n=c0(e),n.return=t,t.child=n,ie=t,St=null)):e=null,e===null)throw Pi(t);return t.lanes=536870912,null}return ko(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(bf(t),s)if(t.flags&256)t.flags&=-257,t=ey(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(jt||Hr(e,t,n,!1),s=(n&e.childLanes)!==0,jt||s){if(i=yt,i!==null&&(a=Lv(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,xs(e,a),we(i,e,a),rm;vu(),t=ey(e,t,n)}else e=r.treeContext,St=$e(a.nextSibling),ie=t,lt=!0,bi=null,Ye=!1,e!==null&&f0(t,e),t=ko(t,i),t.flags|=4096;return t}return e=Pn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Po(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Df(e,t,n,i,s){return vs(t),n=Kd(e,t,n,i,void 0,s),i=Yd(),e!==null&&!jt?(Xd(e,t,s),Gn(e,t,s)):(lt&&i&&zd(t),t.flags|=1,Wt(e,t,n,s),t.child)}function ny(e,t,n,i,s,r){return vs(t),t.updateQueue=null,n=S0(t,i,n,s),T0(e),i=Yd(),e!==null&&!jt?(Xd(e,t,r),Gn(e,t,r)):(lt&&i&&zd(t),t.flags|=1,Wt(e,t,n,r),t.child)}function iy(e,t,n,i,s){if(vs(t),t.stateNode===null){var r=nr,a=n.contextType;typeof a=="object"&&a!==null&&(r=re(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Cf,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Gd(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?re(a):nr,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Eh(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Cf.enqueueReplaceState(r,r.state,null),Ba(t,i,r,s),ja(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=Ss(n,o);r.props=u;var h=r.context,d=n.contextType;a=nr,typeof d=="object"&&d!==null&&(a=re(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||h!==a)&&Jp(t,r,i,a),ui=!1;var m=t.memoizedState;r.state=m,Ba(t,i,r,s),ja(),h=t.memoizedState,o||m!==h||ui?(typeof g=="function"&&(Eh(t,n,g,i),h=t.memoizedState),(u=ui||Xp(t,n,u,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Tf(e,t),a=t.memoizedProps,d=Ss(n,a),r.props=d,g=t.pendingProps,m=r.context,h=n.contextType,u=nr,typeof h=="object"&&h!==null&&(u=re(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Jp(t,r,i,u),ui=!1,m=t.memoizedState,r.state=m,Ba(t,i,r,s),ja();var _=t.memoizedState;a!==g||m!==_||ui||e!==null&&e.dependencies!==null&&ou(e.dependencies)?(typeof o=="function"&&(Eh(t,n,o,i),_=t.memoizedState),(d=ui||Xp(t,n,d,i,m,_,u)||e!==null&&e.dependencies!==null&&ou(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=_),r.props=i,r.state=_,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Po(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=Es(t,e.child,null,s),t.child=Es(t,null,n,s)):Wt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Gn(e,t,s),e}function sy(e,t,n,i){return _s(),t.flags|=256,Wt(e,t,n,i),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(e){return{baseLanes:e,cachePool:m0()}}function Ah(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ve),e}function aE(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Vt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(s?hi(t):fi(),(e=St)?(e=$E(e,Ye),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ki!==null?{id:cn,overflow:hn}:null,retryLane:536870912,hydrationErrors:null},n=c0(e),n.return=t,t.child=n,ie=t,St=null)):e=null,e===null)throw Pi(t);return Gf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(fi(),s=t.mode,o=gu({mode:"hidden",children:o},s),i=fs(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Sh(n),i.childLanes=Ah(e,a,n),t.memoizedState=Th,Ca(null,i)):(hi(t),xf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(hi(t),t.flags&=-257,t=bh(e,t,n)):t.memoizedState!==null?(fi(),t.child=e.child,t.flags|=128,t=null):(fi(),o=i.fallback,s=t.mode,i=gu({mode:"visible",children:i.children},s),o=fs(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,Es(t,e.child,null,n),i=t.child,i.memoizedState=Sh(n),i.childLanes=Ah(e,a,n),t.memoizedState=Th,t=Ca(null,i));else if(hi(t),Gf(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,rl({value:i,source:null,stack:null}),t=bh(e,t,n)}else if(jt||Hr(e,t,n,!1),a=(n&e.childLanes)!==0,jt||a){if(a=yt,a!==null&&(i=Lv(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,xs(e,i),we(a,e,i),rm;Hf(o)||vu(),t=bh(e,t,n)}else Hf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,St=$e(o.nextSibling),ie=t,lt=!0,bi=null,Ye=!1,e!==null&&f0(t,e),t=xf(t,i.children),t.flags|=4096);return t}return s?(fi(),o=i.fallback,s=t.mode,u=e.child,h=u.sibling,i=Pn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Pn(h,o):(o=fs(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Ca(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Sh(n):(s=o.cachePool,s!==null?(u=zt._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=m0(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=Ah(e,a,n),t.memoizedState=Th,Ca(e.child,i)):(hi(t),n=e.child,e=n.sibling,n=Pn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function xf(e,t){return t=gu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gu(e,t){return e=Oe(22,e,null,t),e.lanes=0,e}function bh(e,t,n){return Es(t,e.child,null,n),e=xf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ry(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_f(e.return,t,n)}function wh(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function lE(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Vt.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,vt(Vt,a),Wt(e,t,i,n),i=lt?sl:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,n,t);else if(e.tag===19)ry(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&hu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),wh(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}wh(t,!0,n,null,r,i);break;case"together":wh(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ji|=t.lanes,!(n&t.childLanes))if(e!==null){if(Hr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function am(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ou(e)))}function aw(e,t,n){switch(t.tag){case 3:eu(t,t.stateNode.containerInfo),ci(t,zt,e.memoizedState.cache),_s();break;case 27:case 5:rf(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:ci(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bf(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(hi(t),t.flags|=128,null):n&t.child.childLanes?aE(e,t,n):(hi(t),e=Gn(e,t,n),e!==null?e.sibling:null);hi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Hr(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return lE(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(Vt,Vt.current),i)break;return null;case 22:return t.lanes=0,rE(e,t,n,t.pendingProps);case 24:ci(t,zt,e.memoizedState.cache)}return Gn(e,t,n)}function oE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)jt=!0;else{if(!am(e,n)&&!(t.flags&128))return jt=!1,aw(e,t,n);jt=!!(e.flags&131072)}else jt=!1,lt&&t.flags&1048576&&h0(t,sl,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=ls(t.elementType),t.type=e,typeof e=="function")Pd(e)?(i=Ss(e,i),t.tag=1,t=iy(null,t,e,i,n)):(t.tag=0,t=Df(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===bd){t.tag=11,t=Zp(null,t,e,i,n);break t}else if(s===wd){t.tag=14,t=Wp(null,t,e,i,n);break t}}throw t=nf(e)||e,Error(U(306,t,""))}}return t;case 0:return Df(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=Ss(i,t.pendingProps),iy(e,t,i,s,n);case 3:t:{if(eu(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Tf(e,t),Ba(t,i,null,n);var a=t.memoizedState;if(i=a.cache,ci(t,zt,i),i!==r.cache&&vf(t,[zt],n,!0),ja(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=sy(e,t,i,n);break t}else if(i!==s){s=Ke(Error(U(424)),t),rl(s),t=sy(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=$e(e.firstChild),ie=t,lt=!0,bi=null,Ye=!0,n=y0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(_s(),i===s){t=Gn(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return Po(e,t),e===null?(n=wy(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=Au(Ai.current).createElement(n),i[ne]=t,i[Re]=e,ae(i,n,e),$t(i),t.stateNode=i):t.memoizedState=wy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rf(t),e===null&&lt&&(i=t.stateNode=ZE(t.type,t.pendingProps,Ai.current),ie=t,Ye=!0,s=St,Yi(t.type)?(Ff=s,St=$e(i.firstChild)):St=s),Wt(e,t,t.pendingProps.children,n),Po(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((s=i=St)&&(i=Lw(i,t.type,t.pendingProps,Ye),i!==null?(t.stateNode=i,ie=t,St=$e(i.firstChild),Ye=!1,s=!0):s=!1),s||Pi(t)),rf(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Bf(s,r)?i=null:a!==null&&Bf(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Kd(e,t,$b,null,null,n),hl._currentValue=s),Po(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=St)&&(n=kw(n,t.pendingProps,Ye),n!==null?(t.stateNode=n,ie=t,St=null,e=!0):e=!1),e||Pi(t)),null;case 13:return aE(e,t,n);case 4:return eu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Es(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return Zp(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ci(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,vs(t),s=re(s),i=i(s),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return Wp(e,t,t.type,t.pendingProps,n);case 15:return sE(e,t,t.type,t.pendingProps,n);case 19:return lE(e,t,n);case 31:return rw(e,t,n);case 22:return rE(e,t,n,t.pendingProps);case 24:return vs(t),i=re(zt),e===null?(s=qd(),s===null&&(s=yt,r=Bd(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Gd(t),ci(t,zt,s)):(e.lanes&n&&(Tf(e,t),Ba(t,null,null,n),ja()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),ci(t,zt,i)):(i=r.cache,ci(t,zt,i),i!==s.cache&&vf(t,[zt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function Rn(e){e.flags|=4}function Rh(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(OE())e.flags|=8192;else throw ms=uu,Hd}else e.flags&=-16777217}function ay(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!eT(t))if(OE())e.flags|=8192;else throw ms=uu,Hd}function go(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vv():536870912,e.lanes|=t,Rr|=t)}function Ta(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function lw(e,t,n){var i=t.pendingProps;switch(jd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),zn(zt),Er(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zs(t)?Rn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yh())),Tt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(Rn(t),r!==null?(Tt(t),ay(t,r)):(Tt(t),Rh(t,s,null,i,n))):r?r!==e.memoizedState?(Rn(t),Tt(t),ay(t,r)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Rn(t),Tt(t),Rh(t,s,e,i,n)),null;case 27:if(nu(t),n=Ai.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Rn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Tt(t),null}e=dn.current,zs(t)?Up(t):(e=ZE(s,i,n),t.stateNode=e,Rn(t))}return Tt(t),null;case 5:if(nu(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Rn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Tt(t),null}if(r=dn.current,zs(t))Up(t);else{var a=Au(Ai.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[ne]=t,r[Re]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;t:switch(ae(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Rn(t)}}return Tt(t),Rh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Rn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=Ai.current,zs(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=ie,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[ne]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||YE(e.nodeValue,n)),e||Pi(t,!0)}else e=Au(e).createTextNode(i),e[ne]=t,t.stateNode=e}return Tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=zs(t),n!==null){if(e===null){if(!i)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[ne]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else n=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(xe(t),t):(xe(t),null);if(t.flags&128)throw Error(U(558))}return Tt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=zs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[ne]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else s=yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(xe(t),t):(xe(t),null)}return xe(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),go(t,t.updateQueue),Tt(t),null);case 4:return Er(),e===null&&dm(t.stateNode.containerInfo),Tt(t),null;case 10:return zn(t.type),Tt(t),null;case 19:if(Zt(Vt),i=t.memoizedState,i===null)return Tt(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Ta(i,!1);else{if(xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=hu(e),r!==null){for(t.flags|=128,Ta(i,!1),e=r.updateQueue,t.updateQueue=e,go(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)u0(n,e),n=n.sibling;return vt(Vt,Vt.current&1|2),lt&&Dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ue()>yu&&(t.flags|=128,s=!0,Ta(i,!1),t.lanes=4194304)}else{if(!s)if(e=hu(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,go(t,e),Ta(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!lt)return Tt(t),null}else 2*Ue()-i.renderingStartTime>yu&&n!==536870912&&(t.flags|=128,s=!0,Ta(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Vt.current,vt(Vt,s?n&1|2:n&1),lt&&Dn(t,i.treeForkCount),e):(Tt(t),null);case 22:case 23:return xe(t),Fd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),n=t.updateQueue,n!==null&&go(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Zt(ds),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),zn(zt),Tt(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function ow(e,t){switch(jd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zn(zt),Er(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return nu(t),null;case 31:if(t.memoizedState!==null){if(xe(t),t.alternate===null)throw Error(U(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(xe(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(Vt),null;case 4:return Er(),null;case 10:return zn(t.type),null;case 22:case 23:return xe(t),Fd(),e!==null&&Zt(ds),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return zn(zt),null;case 25:return null;default:return null}}function uE(e,t){switch(jd(t),t.tag){case 3:zn(zt),Er();break;case 26:case 27:case 5:nu(t);break;case 4:Er();break;case 31:t.memoizedState!==null&&xe(t);break;case 13:xe(t);break;case 19:Zt(Vt);break;case 10:zn(t.type);break;case 22:case 23:xe(t),Fd(),e!==null&&Zt(ds);break;case 24:zn(zt)}}function Ol(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){dt(t,t.return,o)}}function zi(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,h=o;try{h()}catch(d){dt(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){dt(t,t.return,d)}}function cE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{v0(t,n)}catch(i){dt(e,e.return,i)}}}function hE(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dt(e,t,i)}}function Ha(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){dt(e,t,s)}}function fn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){dt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){dt(e,t,s)}else n.current=null}function fE(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){dt(e,e.return,s)}}function Ih(e,t,n){try{var i=e.stateNode;Dw(i,e.type,n,t),i[Re]=t}catch(s){dt(e,e.return,s)}}function dE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yi(e.type)||e.tag===4}function Ch(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mn));else if(i!==4&&(i===27&&Yi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Of(e,t,n),e=e.sibling;e!==null;)Of(e,t,n),e=e.sibling}function pu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Yi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(pu(e,t,n),e=e.sibling;e!==null;)pu(e,t,n),e=e.sibling}function mE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ae(t,i,n),t[ne]=e,t[Re]=n}catch(r){dt(e,e.return,r)}}var xn=!1,Pt=!1,Nh=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function uw(e,t){if(e=e.containerInfo,zf=Iu,e=e0(e),Ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var _;g!==n||s!==0&&g.nodeType!==3||(o=a+s),g!==r||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===e)break e;if(m===n&&++h===s&&(o=a),m===r&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jf={focusedElem:e,selectionRange:n},Iu=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var N=Ss(n.type,s);e=i.getSnapshotBeforeUpdate(N,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){dt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)qf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function gE(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Cn(e,n),i&4&&Ol(5,n);break;case 1:if(Cn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){dt(n,n.return,a)}else{var s=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){dt(n,n.return,a)}}i&64&&cE(n),i&512&&Ha(n,n.return);break;case 3:if(Cn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{v0(e,t)}catch(a){dt(n,n.return,a)}}break;case 27:t===null&&i&4&&mE(n);case 26:case 5:Cn(e,n),t===null&&i&4&&fE(n),i&512&&Ha(n,n.return);break;case 12:Cn(e,n);break;case 31:Cn(e,n),i&4&&_E(e,n);break;case 13:Cn(e,n),i&4&&vE(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_w.bind(null,n),Pw(e,n))));break;case 22:if(i=n.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||Pt,s=xn;var r=Pt;xn=i,(Pt=t)&&!r?Nn(e,n,(n.subtreeFlags&8772)!==0):Cn(e,n),xn=s,Pt=r}break;case 30:break;default:Cn(e,n)}}function pE(e){var t=e.alternate;t!==null&&(e.alternate=null,pE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rt=null,Te=!1;function In(e,t,n){for(n=n.child;n!==null;)yE(e,t,n),n=n.sibling}function yE(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(wl,n)}catch{}switch(n.tag){case 26:Pt||fn(n,t),In(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||fn(n,t);var i=Rt,s=Te;Yi(n.type)&&(Rt=n.stateNode,Te=!1),In(e,t,n),Ka(n.stateNode),Rt=i,Te=s;break;case 5:Pt||fn(n,t);case 6:if(i=Rt,s=Te,Rt=null,In(e,t,n),Rt=i,Te=s,Rt!==null)if(Te)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(n.stateNode)}catch(r){dt(n,t,r)}else try{Rt.removeChild(n.stateNode)}catch(r){dt(n,t,r)}break;case 18:Rt!==null&&(Te?(e=Rt,Ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Dr(e)):Ey(Rt,n.stateNode));break;case 4:i=Rt,s=Te,Rt=n.stateNode.containerInfo,Te=!0,In(e,t,n),Rt=i,Te=s;break;case 0:case 11:case 14:case 15:zi(2,n,t),Pt||zi(4,n,t),In(e,t,n);break;case 1:Pt||(fn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&hE(n,t,i)),In(e,t,n);break;case 21:In(e,t,n);break;case 22:Pt=(i=Pt)||n.memoizedState!==null,In(e,t,n),Pt=i;break;default:In(e,t,n)}}function _E(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dr(e)}catch(n){dt(t,t.return,n)}}}function vE(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(n){dt(t,t.return,n)}}function cw(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ly),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ly),t;default:throw Error(U(435,e.tag))}}function po(e,t){var n=cw(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=vw.bind(null,e,i);i.then(s,s)}})}function ve(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(Yi(o.type)){Rt=o.stateNode,Te=!1;break t}break;case 5:Rt=o.stateNode,Te=!1;break t;case 3:case 4:Rt=o.stateNode.containerInfo,Te=!0;break t}o=o.return}if(Rt===null)throw Error(U(160));yE(r,a,s),Rt=null,Te=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)EE(t,e),t=t.sibling}var en=null;function EE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ve(t,e),Ee(e),i&4&&(zi(3,e,e.return),Ol(3,e),zi(5,e,e.return));break;case 1:ve(t,e),Ee(e),i&512&&(Pt||n===null||fn(n,n.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=en;if(ve(t,e),Ee(e),i&512&&(Pt||n===null||fn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Cl]||r[ne]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ae(r,i,n),r[ne]=e,$t(r),i=r;break t;case"link":var a=Iy("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ae(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Iy("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ae(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[ne]=e,$t(r),i=r}e.stateNode=i}else Cy(s,e.type,e.stateNode);else e.stateNode=Ry(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Cy(s,e.type,e.stateNode):Ry(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ih(e,e.memoizedProps,n.memoizedProps)}break;case 27:ve(t,e),Ee(e),i&512&&(Pt||n===null||fn(n,n.return)),n!==null&&i&4&&Ih(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ve(t,e),Ee(e),i&512&&(Pt||n===null||fn(n,n.return)),e.flags&32){s=e.stateNode;try{Sr(s,"")}catch(N){dt(e,e.return,N)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Ih(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Nh=!0);break;case 6:if(ve(t,e),Ee(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(N){dt(e,e.return,N)}}break;case 3:if(Bo=null,s=en,en=bu(t.containerInfo),ve(t,e),en=s,Ee(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(N){dt(e,e.return,N)}Nh&&(Nh=!1,TE(e));break;case 4:i=en,en=bu(e.stateNode.containerInfo),ve(t,e),Ee(e),en=i;break;case 12:ve(t,e),Ee(e);break;case 31:ve(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,po(e,i)));break;case 13:ve(t,e),Ee(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uc=Ue()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,po(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=xn,d=Pt;if(xn=h||s,Pt=d||u,ve(t,e),Pt=d,xn=h,Ee(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||xn||Pt||os(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(N){dt(u,u.return,N)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(N){dt(u,u.return,N)}}}else if(t.tag===18){if(n===null){u=t;try{var _=u.stateNode;s?Ty(_,!0):Ty(u.stateNode,!1)}catch(N){dt(u,u.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,po(e,n))));break;case 19:ve(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,po(e,i)));break;case 30:break;case 21:break;default:ve(t,e),Ee(e)}}function Ee(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(dE(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=Ch(e);pu(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(Sr(a,""),n.flags&=-33);var o=Ch(e);pu(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Ch(e);Of(e,h,u);break;default:throw Error(U(161))}}catch(d){dt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;TE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)gE(e,t.alternate,t),t=t.sibling}function os(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:zi(4,t,t.return),os(t);break;case 1:fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&hE(t,t.return,n),os(t);break;case 27:Ka(t.stateNode);case 26:case 5:fn(t,t.return),os(t);break;case 22:t.memoizedState===null&&os(t);break;case 30:os(t);break;default:os(t)}e=e.sibling}}function Nn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:Nn(s,r,n),Ol(4,r);break;case 1:if(Nn(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){dt(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)_0(u[s],o)}catch(h){dt(i,i.return,h)}}n&&a&64&&cE(r),Ha(r,r.return);break;case 27:mE(r);case 26:case 5:Nn(s,r,n),n&&i===null&&a&4&&fE(r),Ha(r,r.return);break;case 12:Nn(s,r,n);break;case 31:Nn(s,r,n),n&&a&4&&_E(s,r);break;case 13:Nn(s,r,n),n&&a&4&&vE(s,r);break;case 22:r.memoizedState===null&&Nn(s,r,n),Ha(r,r.return);break;case 30:break;default:Nn(s,r,n)}t=t.sibling}}function lm(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Dl(n))}function om(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)SE(e,t,n,i),t=t.sibling}function SE(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),s&2048&&Ol(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e)));break;case 12:if(s&2048){tn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){dt(t,t.return,u)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?tn(e,t,n,i):Ga(e,t):r._visibility&2?tn(e,t,n,i):(r._visibility|=2,qs(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&lm(a,t);break;case 24:tn(e,t,n,i),s&2048&&om(t.alternate,t);break;default:tn(e,t,n,i)}}function qs(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:qs(r,a,o,u,s),Ol(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?qs(r,a,o,u,s):Ga(r,a):(d._visibility|=2,qs(r,a,o,u,s)),s&&h&2048&&lm(a.alternate,a);break;case 24:qs(r,a,o,u,s),s&&h&2048&&om(a.alternate,a);break;default:qs(r,a,o,u,s)}t=t.sibling}}function Ga(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:Ga(n,i),s&2048&&lm(i.alternate,i);break;case 24:Ga(n,i),s&2048&&om(i.alternate,i);break;default:Ga(n,i)}t=t.sibling}}var Na=8192;function js(e,t,n){if(e.subtreeFlags&Na)for(e=e.child;e!==null;)AE(e,t,n),e=e.sibling}function AE(e,t,n){switch(e.tag){case 26:js(e,t,n),e.flags&Na&&e.memoizedState!==null&&Jw(n,en,e.memoizedState,e.memoizedProps);break;case 5:js(e,t,n);break;case 3:case 4:var i=en;en=bu(e.stateNode.containerInfo),js(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Na,Na=16777216,js(e,t,n),Na=i):js(e,t,n));break;default:js(e,t,n)}}function bE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sa(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Jt=i,RE(i,e)}bE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wE(e),e=e.sibling}function wE(e){switch(e.tag){case 0:case 11:case 15:Sa(e),e.flags&2048&&zi(9,e,e.return);break;case 3:Sa(e);break;case 12:Sa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,zo(e)):Sa(e);break;default:Sa(e)}}function zo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Jt=i,RE(i,e)}bE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:zi(8,t,t.return),zo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,zo(t));break;default:zo(t)}e=e.sibling}}function RE(e,t){for(;Jt!==null;){var n=Jt;switch(n.tag){case 0:case 11:case 15:zi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Dl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Jt=i;else t:for(n=e;Jt!==null;){i=Jt;var s=i.sibling,r=i.return;if(pE(i),i===n){Jt=null;break t}if(s!==null){s.return=r,Jt=s;break t}Jt=r}}}var hw={getCacheForType:function(e){var t=re(zt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return re(zt).controller.signal}},fw=typeof WeakMap=="function"?WeakMap:Map,ut=0,yt=null,nt=null,at=0,ft=0,De=null,vi=!1,Fr=!1,um=!1,Fn=0,xt=0,ji=0,gs=0,cm=0,Ve=0,Rr=0,Fa=null,Se=null,Vf=!1,uc=0,IE=0,yu=1/0,_u=null,Ii=null,Gt=0,Ci=null,Ir=null,jn=0,Mf=0,Uf=null,CE=null,Qa=0,Lf=null;function Pe(){return ut&2&&at!==0?at&-at:Q.T!==null?fm():kv()}function NE(){if(Ve===0)if(!(at&536870912)||lt){var e=lo;lo<<=1,!(lo&3932160)&&(lo=262144),Ve=e}else Ve=536870912;return e=je.current,e!==null&&(e.flags|=32),Ve}function we(e,t,n){(e===yt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),Ei(e,at,Ve,!1)),Il(e,n),(!(ut&2)||e!==yt)&&(e===yt&&(!(ut&2)&&(gs|=n),xt===4&&Ei(e,at,Ve,!1)),bn(e))}function DE(e,t,n){if(ut&6)throw Error(U(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Rl(e,t),s=i?gw(e,t):Dh(e,t,!0),r=i;do{if(s===0){Fr&&!i&&Ei(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!dw(n)){s=Dh(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=Fa;var u=o.current.memoizedState.isDehydrated;if(u&&(Cr(o,a).flags|=256),a=Dh(o,a,!1),a!==2){if(um&&!u){o.errorRecoveryDisabledLanes|=r,gs|=r,s=4;break t}r=Se,Se=s,r!==null&&(Se===null?Se=r:Se.push.apply(Se,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){Cr(e,0),Ei(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Ei(i,t,Ve,!vi);break t;case 2:Se=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(s=uc+300-Ue(),10<s)){if(Ei(i,t,Ve,!vi),Zu(i,0,!0)!==0)break t;jn=t,i.timeoutHandle=JE(oy.bind(null,i,n,Se,_u,Vf,t,Ve,gs,Rr,vi,r,"Throttled",-0,0),s);break t}oy(i,n,Se,_u,Vf,t,Ve,gs,Rr,vi,r,null,-0,0)}}break}while(!0);bn(e)}function oy(e,t,n,i,s,r,a,o,u,h,d,g,m,_){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},AE(t,r,g);var N=(r&62914560)===r?uc-Ue():(r&4194048)===r?IE-Ue():0;if(N=$w(g,N),N!==null){jn=r,e.cancelPendingCommit=N(cy.bind(null,e,t,r,n,i,s,a,o,u,d,g,null,m,_)),Ei(e,r,a,!h);return}}cy(e,t,r,n,i,s,a,o,u)}function dw(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!ze(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ei(e,t,n,i){t&=~cm,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-ke(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&Mv(e,n,t)}function cc(){return ut&6?!0:(Vl(0),!1)}function hm(){if(nt!==null){if(ft===0)var e=nt.return;else e=nt,Un=Os=null,Jd(e),hr=null,al=0,e=nt;for(;e!==null;)uE(e.alternate,e),e=e.return;nt=null}}function Cr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jn=0,hm(),yt=e,nt=n=Pn(e.current,null),at=t,ft=0,De=null,vi=!1,Fr=Rl(e,t),um=!1,Rr=Ve=cm=gs=ji=xt=0,Se=Fa=null,Vf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-ke(i),r=1<<s;t|=e[s],i&=~r}return Fn=t,nc(),n}function xE(e,t){Z=null,Q.H=ol,t===Gr||t===sc?(t=jp(),ft=3):t===Hd?(t=jp(),ft=4):ft=t===rm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,De=t,nt===null&&(xt=1,mu(e,Ke(t,e.current)))}function OE(){var e=je.current;return e===null?!0:(at&4194048)===at?Je===null:(at&62914560)===at||at&536870912?e===Je:!1}function VE(){var e=Q.H;return Q.H=ol,e===null?ol:e}function ME(){var e=Q.A;return Q.A=hw,e}function vu(){xt=4,vi||(at&4194048)!==at&&je.current!==null||(Fr=!0),!(ji&134217727)&&!(gs&134217727)||yt===null||Ei(yt,at,Ve,!1)}function Dh(e,t,n){var i=ut;ut|=2;var s=VE(),r=ME();(yt!==e||at!==t)&&(_u=null,Cr(e,t)),t=!1;var a=xt;t:do try{if(ft!==0&&nt!==null){var o=nt,u=De;switch(ft){case 8:hm(),a=6;break t;case 3:case 2:case 9:case 6:je.current===null&&(t=!0);var h=ft;if(ft=0,De=null,rr(e,o,u,h),n&&Fr){a=0;break t}break;default:h=ft,ft=0,De=null,rr(e,o,u,h)}}mw(),a=xt;break}catch(d){xE(e,d)}while(!0);return t&&e.shellSuspendCounter++,Un=Os=null,ut=i,Q.H=s,Q.A=r,nt===null&&(yt=null,at=0,nc()),a}function mw(){for(;nt!==null;)UE(nt)}function gw(e,t){var n=ut;ut|=2;var i=VE(),s=ME();yt!==e||at!==t?(_u=null,yu=Ue()+500,Cr(e,t)):Fr=Rl(e,t);t:do try{if(ft!==0&&nt!==null){t=nt;var r=De;e:switch(ft){case 1:ft=0,De=null,rr(e,t,r,1);break;case 2:case 9:if(zp(r)){ft=0,De=null,uy(t);break}t=function(){ft!==2&&ft!==9||yt!==e||(ft=7),bn(e)},r.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:zp(r)?(ft=0,De=null,uy(t)):(ft=0,De=null,rr(e,t,r,7));break;case 5:var a=null;switch(nt.tag){case 26:a=nt.memoizedState;case 5:case 27:var o=nt;if(a?eT(a):o.stateNode.complete){ft=0,De=null;var u=o.sibling;if(u!==null)nt=u;else{var h=o.return;h!==null?(nt=h,hc(h)):nt=null}break e}}ft=0,De=null,rr(e,t,r,5);break;case 6:ft=0,De=null,rr(e,t,r,6);break;case 8:hm(),xt=6;break t;default:throw Error(U(462))}}pw();break}catch(d){xE(e,d)}while(!0);return Un=Os=null,Q.H=i,Q.A=s,ut=n,nt!==null?0:(yt=null,at=0,nc(),xt)}function pw(){for(;nt!==null&&!zA();)UE(nt)}function UE(e){var t=oE(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?hc(e):nt=t}function uy(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ny(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=ny(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:Jd(t);default:uE(n,t),t=nt=u0(t,Fn),t=oE(n,t,Fn)}e.memoizedProps=e.pendingProps,t===null?hc(e):nt=t}function rr(e,t,n,i){Un=Os=null,Jd(t),hr=null,al=0;var s=t.return;try{if(sw(e,s,t,n,at)){xt=1,mu(e,Ke(n,e.current)),nt=null;return}}catch(r){if(s!==null)throw nt=s,r;xt=1,mu(e,Ke(n,e.current)),nt=null;return}t.flags&32768?(lt||i===1?e=!0:Fr||at&536870912?e=!1:(vi=e=!0,(i===2||i===9||i===3||i===6)&&(i=je.current,i!==null&&i.tag===13&&(i.flags|=16384))),LE(t,e)):hc(t)}function hc(e){var t=e;do{if(t.flags&32768){LE(t,vi);return}e=t.return;var n=lw(t.alternate,t,Fn);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);xt===0&&(xt=5)}function LE(e,t){do{var n=ow(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);xt=6,nt=null}function cy(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do fc();while(Gt!==0);if(ut&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(r=t.lanes|t.childLanes,r|=Ld,XA(e,n,r,a,o,u),e===yt&&(nt=yt=null,at=0),Ir=t,Ci=e,jn=n,Mf=r,Uf=s,CE=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Ew(iu,function(){return BE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,s=ct.p,ct.p=2,a=ut,ut|=4;try{uw(e,t,n)}finally{ut=a,ct.p=s,Q.T=i}}Gt=1,kE(),PE(),zE()}}function kE(){if(Gt===1){Gt=0;var e=Ci,t=Ir,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=ut;ut|=4;try{EE(t,e);var r=jf,a=e0(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&t0(o.ownerDocument.documentElement,o)){if(u!==null&&Ud(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var g=o.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),N=o.textContent.length,M=Math.min(u.start,N),V=u.end===void 0?M:Math.min(u.end,N);!_.extend&&M>V&&(a=V,V=M,M=a);var S=Op(o,M),v=Op(o,V);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var R=g.createRange();R.setStart(S.node,S.offset),_.removeAllRanges(),M>V?(_.addRange(R),_.extend(v.node,v.offset)):(R.setEnd(v.node,v.offset),_.addRange(R))}}}}for(g=[],_=o;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<g.length;o++){var D=g[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Iu=!!zf,jf=zf=null}finally{ut=s,ct.p=i,Q.T=n}}e.current=t,Gt=2}}function PE(){if(Gt===2){Gt=0;var e=Ci,t=Ir,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ct.p;ct.p=2;var s=ut;ut|=4;try{gE(e,t.alternate,t)}finally{ut=s,ct.p=i,Q.T=n}}Gt=3}}function zE(){if(Gt===4||Gt===3){Gt=0,jA();var e=Ci,t=Ir,n=jn,i=CE;t.subtreeFlags&10256||t.flags&10256?Gt=5:(Gt=0,Ir=Ci=null,jE(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ii=null),Cd(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,s=ct.p,ct.p=2,Q.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{Q.T=t,ct.p=s}}jn&3&&fc(),bn(e),s=e.pendingLanes,n&261930&&s&42?e===Lf?Qa++:(Qa=0,Lf=e):Qa=0,Vl(0)}}function jE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Dl(t)))}function fc(){return kE(),PE(),zE(),BE()}function BE(){if(Gt!==5)return!1;var e=Ci,t=Mf;Mf=0;var n=Cd(jn),i=Q.T,s=ct.p;try{ct.p=32>n?32:n,Q.T=null,n=Uf,Uf=null;var r=Ci,a=jn;if(Gt=0,Ir=Ci=null,jn=0,ut&6)throw Error(U(331));var o=ut;if(ut|=4,wE(r.current),SE(r,r.current,a,n),ut=o,Vl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(wl,r)}catch{}return!0}finally{ct.p=s,Q.T=i,jE(e,t)}}function hy(e,t,n){t=Ke(n,t),t=Nf(e.stateNode,t,2),e=Ri(e,t,2),e!==null&&(Il(e,2),bn(e))}function dt(e,t,n){if(e.tag===3)hy(e,e,n);else for(;t!==null;){if(t.tag===3){hy(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ii===null||!Ii.has(i))){e=Ke(n,e),n=nE(2),i=Ri(t,n,2),i!==null&&(iE(n,i,t,e),Il(i,2),bn(i));break}}t=t.return}}function xh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fw;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(um=!0,s.add(n),e=yw.bind(null,e,t,n),t.then(e,e))}function yw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&(at&n)===n&&(xt===4||xt===3&&(at&62914560)===at&&300>Ue()-uc?!(ut&2)&&Cr(e,0):cm|=n,Rr===at&&(Rr=0)),bn(e)}function qE(e,t){t===0&&(t=Vv()),e=xs(e,t),e!==null&&(Il(e,t),bn(e))}function _w(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qE(e,n)}function vw(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),qE(e,n)}function Ew(e,t){return Rd(e,t)}var Eu=null,Hs=null,kf=!1,Tu=!1,Oh=!1,Ti=0;function bn(e){e!==Hs&&e.next===null&&(Hs===null?Eu=Hs=e:Hs=Hs.next=e),Tu=!0,kf||(kf=!0,Sw())}function Vl(e,t){if(!Oh&&Tu){Oh=!0;do for(var n=!1,i=Eu;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-ke(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,fy(i,r))}else r=at,r=Zu(i,i===yt?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Rl(i,r)||(n=!0,fy(i,r));i=i.next}while(n);Oh=!1}}function Tw(){HE()}function HE(){Tu=kf=!1;var e=0;Ti!==0&&Ow()&&(e=Ti);for(var t=Ue(),n=null,i=Eu;i!==null;){var s=i.next,r=GE(i,t);r===0?(i.next=null,n===null?Eu=s:n.next=s,s===null&&(Hs=n)):(n=i,(e!==0||r&3)&&(Tu=!0)),i=s}Gt!==0&&Gt!==5||Vl(e),Ti!==0&&(Ti=0)}function GE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-ke(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=YA(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=yt,n=at,n=Zu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ah(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Rl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ah(i),Cd(n)){case 2:case 8:n=xv;break;case 32:n=iu;break;case 268435456:n=Ov;break;default:n=iu}return i=FE.bind(null,e),n=Rd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ah(i),e.callbackPriority=2,e.callbackNode=null,2}function FE(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var i=at;return i=Zu(e,e===yt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(DE(e,i,t),GE(e,Ue()),e.callbackNode!=null&&e.callbackNode===n?FE.bind(null,e):null)}function fy(e,t){if(fc())return null;DE(e,t,!0)}function Sw(){Mw(function(){ut&6?Rd(Dv,Tw):HE()})}function fm(){if(Ti===0){var e=Ar;e===0&&(e=ao,ao<<=1,!(ao&261888)&&(ao=256)),Ti=e}return Ti}function dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Do(""+e)}function my(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Aw(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=dy((s[Re]||null).action),a=i.submitter;a&&(t=(t=a[Re]||null)?dy(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Wu("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ti!==0){var u=a?my(s,a):new FormData(s);If(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?my(s,a):new FormData(s),If(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var Vh=0;Vh<gf.length;Vh++){var Mh=gf[Vh],bw=Mh.toLowerCase(),ww=Mh[0].toUpperCase()+Mh.slice(1);rn(bw,"on"+ww)}rn(i0,"onAnimationEnd");rn(s0,"onAnimationIteration");rn(r0,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Bb,"onTransitionRun");rn(qb,"onTransitionStart");rn(Hb,"onTransitionCancel");rn(a0,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function QE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=h;try{r(s)}catch(d){ru(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,h=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=h;try{r(s)}catch(d){ru(d)}s.currentTarget=null,r=u}}}}function et(e,t){var n=t[lf];n===void 0&&(n=t[lf]=new Set);var i=e+"__bubble";n.has(i)||(KE(t,e,2,!1),n.add(i))}function Uh(e,t,n){var i=0;t&&(i|=4),KE(n,e,i,t)}var yo="_reactListening"+Math.random().toString(36).slice(2);function dm(e){if(!e[yo]){e[yo]=!0,Pv.forEach(function(n){n!=="selectionchange"&&(Rw.has(n)||Uh(n,!1,e),Uh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yo]||(t[yo]=!0,Uh("selectionchange",!1,t))}}function KE(e,t,n,i){switch(aT(t)){case 2:var s=tR;break;case 8:s=eR;break;default:s=ym}n=s.bind(null,t,n,e),s=void 0,!ff||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Lh(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Js(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue t}o=o.parentNode}}i=i.return}Qv(function(){var h=r,d=xd(n),g=[];t:{var m=l0.get(e);if(m!==void 0){var _=Wu,N=e;switch(e){case"keypress":if(Oo(n)===0)break t;case"keydown":case"keyup":_=vb;break;case"focusin":N="focus",_=hh;break;case"focusout":N="blur",_=hh;break;case"beforeblur":case"afterblur":_=hh;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Sb;break;case i0:case s0:case r0:_=cb;break;case a0:_=bb;break;case"scroll":case"scrollend":_=rb;break;case"wheel":_=Rb;break;case"copy":case"cut":case"paste":_=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=bp;break;case"toggle":case"beforetoggle":_=Cb}var M=(t&4)!==0,V=!M&&(e==="scroll"||e==="scrollend"),S=M?m!==null?m+"Capture":null:m;M=[];for(var v=h,R;v!==null;){var D=v;if(R=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||R===null||S===null||(D=el(v,S),D!=null&&M.push(cl(v,D,R))),V)break;v=v.return}0<M.length&&(m=new _(m,N,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",m&&n!==hf&&(N=n.relatedTarget||n.fromElement)&&(Js(N)||N[Br]))break t;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=h,N=N?Js(N):null,N!==null&&(V=bl(N),M=N.tag,N!==V||M!==5&&M!==27&&M!==6)&&(N=null)):(_=null,N=h),_!==N)){if(M=Sp,D="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(M=bp,D="onPointerLeave",S="onPointerEnter",v="pointer"),V=_==null?m:Ia(_),R=N==null?m:Ia(N),m=new M(D,v+"leave",_,n,d),m.target=V,m.relatedTarget=R,D=null,Js(d)===h&&(M=new M(S,v+"enter",N,n,d),M.target=R,M.relatedTarget=V,D=M),V=D,_&&N)e:{for(M=Iw,S=_,v=N,R=0,D=S;D;D=M(D))R++;D=0;for(var z=v;z;z=M(z))D++;for(;0<R-D;)S=M(S),R--;for(;0<D-R;)v=M(v),D--;for(;R--;){if(S===v||v!==null&&S===v.alternate){M=S;break e}S=M(S),v=M(v)}M=null}else M=null;_!==null&&gy(g,m,_,M,!1),N!==null&&V!==null&&gy(g,V,N,M,!0)}}t:{if(m=h?Ia(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var q=Cp;else if(Ip(m))if(Zv)q=Pb;else{q=Lb;var E=Ub}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&Dd(h.elementType)&&(q=Cp):q=kb;if(q&&(q=q(e,h))){$v(g,q,n,d);break t}E&&E(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&cf(m,"number",m.value)}switch(E=h?Ia(h):window,e){case"focusin":(Ip(E)||E.contentEditable==="true")&&(Ws=E,df=h,ka=null);break;case"focusout":ka=df=Ws=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,Vp(g,n,d);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":Vp(g,n,d)}var y;if(Md)t:{switch(e){case"compositionstart":var T="onCompositionStart";break t;case"compositionend":T="onCompositionEnd";break t;case"compositionupdate":T="onCompositionUpdate";break t}T=void 0}else Zs?Xv(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Yv&&n.locale!=="ko"&&(Zs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zs&&(y=Kv()):(_i=d,Od="value"in _i?_i.value:_i.textContent,Zs=!0)),E=Su(h,T),0<E.length&&(T=new Ap(T,e,null,n,d),g.push({event:T,listeners:E}),y?T.data=y:(y=Jv(n),y!==null&&(T.data=y)))),(y=Db?xb(e,n):Ob(e,n))&&(T=Su(h,"onBeforeInput"),0<T.length&&(E=new Ap("onBeforeInput","beforeinput",null,n,d),g.push({event:E,listeners:T}),E.data=y)),Aw(g,e,h,n,d)}QE(g,t)})}function cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Su(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=el(e,n),s!=null&&i.unshift(cl(e,s,r)),s=el(e,t),s!=null&&i.push(cl(e,s,r))),e.tag===3)return i;e=e.return}return[]}function Iw(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gy(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,s?(h=el(n,r),h!=null&&a.unshift(cl(n,h,u))):s||(h=el(n,r),h!=null&&a.push(cl(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function py(e){return(typeof e=="string"?e:""+e).replace(Cw,`
`).replace(Nw,"")}function YE(e,t){return t=py(t),py(e)===t}function mt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Sr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Sr(e,""+i);break;case"className":uo(e,"class",i);break;case"tabIndex":uo(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(e,n,i);break;case"style":Fv(e,i,r);break;case"data":if(t!=="object"){uo(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Do(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",s.name,s,null),mt(e,t,"formEncType",s.formEncType,s,null),mt(e,t,"formMethod",s.formMethod,s,null),mt(e,t,"formTarget",s.formTarget,s,null)):(mt(e,t,"encType",s.encType,s,null),mt(e,t,"method",s.method,s,null),mt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Do(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Mn);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Do(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":et("beforetoggle",e),et("toggle",e),No(e,"popover",i);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":No(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ib.get(n)||n,No(e,n,i))}}function Pf(e,t,n,i,s,r){switch(n){case"style":Fv(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Sr(e,i):(typeof i=="number"||typeof i=="bigint")&&Sr(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Re]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):No(e,n,i)}}}function ae(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,r,a,n,null)}}s&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var o=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:mt(e,t,i,d,n,null)}}qv(e,r,o,u,h,a,s,!1);return;case"select":et("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:mt(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?or(e,!!i,t,!1):n!=null&&or(e,!!i,n,!0);return;case"textarea":et("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:mt(e,t,a,o,n,null)}Gv(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<ul.length;i++)et(ul[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,h,i,n,null)}return;default:if(Dd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Pf(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&mt(e,t,o,i,n,null))}function Dw(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||mt(e,t,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":r=_;break;case"name":s=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":o=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(U(137,t));break;default:_!==g&&mt(e,t,m,_,i,g)}}uf(e,a,o,u,h,d,r,s);return;case"select":_=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||mt(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&mt(e,t,s,r,i,u)}t=o,n=a,i=_,m!=null?or(e,!!n,m,!1):!!i!=!!n&&(t!=null?or(e,!!n,t,!0):or(e,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:mt(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&mt(e,t,a,s,i,r)}Hv(e,m,_);return;case"option":for(var N in n)if(m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:mt(e,t,N,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&mt(e,t,M,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,t));break;default:mt(e,t,h,m,i,_)}return;default:if(Dd(t)){for(var V in n)m=n[V],n.hasOwnProperty(V)&&m!==void 0&&!i.hasOwnProperty(V)&&Pf(e,t,V,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||Pf(e,t,d,m,i,_);return}}for(var S in n)m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&mt(e,t,S,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||mt(e,t,g,m,i,_)}function yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&yy(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var d=u.transferSize,g=u.initiatorType;d&&yy(g)&&(u=u.responseEnd,a+=d*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var zf=null,jf=null;function Au(e){return e.nodeType===9?e:e.ownerDocument}function _y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kh=null;function Ow(){var e=window.event;return e&&e.type==="popstate"?e===kh?!1:(kh=e,!0):(kh=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,Vw=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,Mw=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(Uw)}:JE;function Uw(e){setTimeout(function(){throw e})}function Yi(e){return e==="head"}function Ey(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Dr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ka(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ka(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Cl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Ka(e.ownerDocument.body);n=s}while(n);Dr(t)}function Ty(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function qf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":qf(n),Nd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Lw(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Cl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=$e(e.nextSibling),e===null)break}return null}function kw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$e(e.nextSibling),e===null))return null;return e}function $E(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$e(e.nextSibling),e===null))return null;return e}function Hf(e){return e.data==="$?"||e.data==="$~"}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pw(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function $e(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ff=null;function Sy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return $e(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Ay(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ZE(e,t,n){switch(t=Au(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function Ka(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nd(e)}var Ze=new Map,by=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=ct.d;ct.d={f:zw,r:jw,D:Bw,C:qw,L:Hw,m:Gw,X:Qw,S:Fw,M:Kw};function zw(){var e=$n.f(),t=cc();return e||t}function jw(e){var t=qr(e);t!==null&&t.tag===5&&t.type==="form"?F0(t):$n.r(e)}var Qr=typeof document>"u"?null:document;function WE(e,t,n){var i=Qr;if(i&&typeof t=="string"&&t){var s=Qe(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),by.has(s)||(by.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ae(t,"link",e),$t(t),i.head.appendChild(t)))}}function Bw(e){$n.D(e),WE("dns-prefetch",e,null)}function qw(e,t){$n.C(e,t),WE("preconnect",e,t)}function Hw(e,t,n){$n.L(e,t,n);var i=Qr;if(i&&e&&t){var s='link[rel="preload"][as="'+Qe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+Qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+Qe(n.imageSizes)+'"]')):s+='[href="'+Qe(e)+'"]';var r=s;switch(t){case"style":r=Nr(e);break;case"script":r=Kr(e)}Ze.has(r)||(e=wt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ze.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Ml(r))||t==="script"&&i.querySelector(Ul(r))||(t=i.createElement("link"),ae(t,"link",e),$t(t),i.head.appendChild(t)))}}function Gw(e,t){$n.m(e,t);var n=Qr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Qe(i)+'"][href="'+Qe(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Kr(e)}if(!Ze.has(r)&&(e=wt({rel:"modulepreload",href:e},t),Ze.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ul(r)))return}i=n.createElement("link"),ae(i,"link",e),$t(i),n.head.appendChild(i)}}}function Fw(e,t,n){$n.S(e,t,n);var i=Qr;if(i&&e){var s=lr(i).hoistableStyles,r=Nr(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Ml(r)))o.loading=5;else{e=wt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ze.get(r))&&mm(e,n);var u=a=i.createElement("link");$t(u),ae(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,jo(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function Qw(e,t){$n.X(e,t);var n=Qr;if(n&&e){var i=lr(n).hoistableScripts,s=Kr(e),r=i.get(s);r||(r=n.querySelector(Ul(s)),r||(e=wt({src:e,async:!0},t),(t=Ze.get(s))&&gm(e,t),r=n.createElement("script"),$t(r),ae(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Kw(e,t){$n.M(e,t);var n=Qr;if(n&&e){var i=lr(n).hoistableScripts,s=Kr(e),r=i.get(s);r||(r=n.querySelector(Ul(s)),r||(e=wt({src:e,async:!0,type:"module"},t),(t=Ze.get(s))&&gm(e,t),r=n.createElement("script"),$t(r),ae(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function wy(e,t,n,i){var s=(s=Ai.current)?bu(s):null;if(!s)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Nr(n.href),n=lr(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Nr(n.href);var r=lr(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(Ml(e)))&&!r._p&&(a.instance=r,a.state.loading=5),Ze.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ze.set(e,n),r||Yw(s,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Kr(n),n=lr(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function Nr(e){return'href="'+Qe(e)+'"'}function Ml(e){return'link[rel="stylesheet"]['+e+"]"}function tT(e){return wt({},e,{"data-precedence":e.precedence,precedence:null})}function Yw(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ae(t,"link",n),$t(t),e.head.appendChild(t))}function Kr(e){return'[src="'+Qe(e)+'"]'}function Ul(e){return"script[async]"+e}function Ry(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qe(n.href)+'"]');if(i)return t.instance=i,$t(i),i;var s=wt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),$t(i),ae(i,"style",s),jo(i,n.precedence,e),t.instance=i;case"stylesheet":s=Nr(n.href);var r=e.querySelector(Ml(s));if(r)return t.state.loading|=4,t.instance=r,$t(r),r;i=tT(n),(s=Ze.get(s))&&mm(i,s),r=(e.ownerDocument||e).createElement("link"),$t(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ae(r,"link",i),t.state.loading|=4,jo(r,n.precedence,e),t.instance=r;case"script":return r=Kr(n.src),(s=e.querySelector(Ul(r)))?(t.instance=s,$t(s),s):(i=n,(s=Ze.get(r))&&(i=wt({},n),gm(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),$t(s),ae(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,jo(i,n.precedence,e));return t.instance}function jo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function mm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function gm(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bo=null;function Iy(e,t,n){if(Bo===null){var i=new Map,s=Bo=new Map;s.set(n,i)}else s=Bo,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Cl]||r[ne]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function Cy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Xw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function eT(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Jw(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=Nr(i.href),r=t.querySelector(Ml(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=wu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,$t(r);return}r=t.ownerDocument||t,i=tT(i),(s=Ze.get(s))&&mm(i,s),r=r.createElement("link"),$t(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ae(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=wu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ph=0;function $w(e,t){return e.stylesheets&&e.count===0&&qo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&qo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Ph===0&&(Ph=62500*xw());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Ph?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ru=null;function qo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ru=new Map,t.forEach(Zw,e),Ru=null,wu.call(e))}function Zw(e,t){if(!(t.state.loading&4)){var n=Ru.get(e);if(n)var i=n.get(null);else{n=new Map,Ru.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=wu.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var hl={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:hs,_currentValue2:hs,_threadCount:0};function Ww(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.hiddenUpdates=lh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function nT(e,t,n,i,s,r,a,o,u,h,d,g){return e=new Ww(e,t,n,a,u,h,d,g,o),t=1,r===!0&&(t|=24),r=Oe(3,null,null,t),e.current=r,r.stateNode=e,t=Bd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Gd(r),e}function iT(e){return e?(e=nr,e):nr}function sT(e,t,n,i,s,r){s=iT(s),i.context===null?i.context=s:i.pendingContext=s,i=wi(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=Ri(e,i,t),n!==null&&(we(n,e,t),za(n,e,t))}function Ny(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pm(e,t){Ny(e,t),(e=e.alternate)&&Ny(e,t)}function rT(e){if(e.tag===13||e.tag===31){var t=xs(e,67108864);t!==null&&we(t,e,67108864),pm(e,67108864)}}function Dy(e){if(e.tag===13||e.tag===31){var t=Pe();t=Id(t);var n=xs(e,t);n!==null&&we(n,e,t),pm(e,t)}}var Iu=!0;function tR(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=2,ym(e,t,n,i)}finally{ct.p=r,Q.T=s}}function eR(e,t,n,i){var s=Q.T;Q.T=null;var r=ct.p;try{ct.p=8,ym(e,t,n,i)}finally{ct.p=r,Q.T=s}}function ym(e,t,n,i){if(Iu){var s=Qf(i);if(s===null)Lh(e,t,i,Cu,n),xy(e,i);else if(iR(s,e,t,n,i))i.stopPropagation();else if(xy(e,i),t&4&&-1<nR.indexOf(e)){for(;s!==null;){var r=qr(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=as(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-ke(a);o.entanglements[1]|=u,a&=~u}bn(r),!(ut&6)&&(yu=Ue()+500,Vl(0))}}break;case 31:case 13:o=xs(r,2),o!==null&&we(o,r,2),cc(),pm(r,2)}if(r=Qf(i),r===null&&Lh(e,t,i,Cu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Lh(e,t,i,null,n)}}function Qf(e){return e=xd(e),_m(e)}var Cu=null;function _m(e){if(Cu=null,e=Js(e),e!==null){var t=bl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=wv(t),e!==null)return e;e=null}else if(n===31){if(e=Rv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cu=e,null}function aT(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BA()){case Dv:return 2;case xv:return 8;case iu:case qA:return 32;case Ov:return 268435456;default:return 32}default:return 32}}var Kf=!1,Ni=null,Di=null,xi=null,fl=new Map,dl=new Map,di=[],nR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(e,t){switch(e){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(t.pointerId)}}function Aa(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=qr(t),t!==null&&rT(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iR(e,t,n,i,s){switch(t){case"focusin":return Ni=Aa(Ni,e,t,n,i,s),!0;case"dragenter":return Di=Aa(Di,e,t,n,i,s),!0;case"mouseover":return xi=Aa(xi,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return fl.set(r,Aa(fl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,dl.set(r,Aa(dl.get(r)||null,e,t,n,i,s)),!0}return!1}function lT(e){var t=Js(e.target);if(t!==null){var n=bl(t);if(n!==null){if(t=n.tag,t===13){if(t=wv(n),t!==null){e.blockedOn=t,gp(e.priority,function(){Dy(n)});return}}else if(t===31){if(t=Rv(n),t!==null){e.blockedOn=t,gp(e.priority,function(){Dy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);hf=i,n.target.dispatchEvent(i),hf=null}else return t=qr(n),t!==null&&rT(t),e.blockedOn=n,!1;t.shift()}return!0}function Oy(e,t,n){Ho(e)&&n.delete(t)}function sR(){Kf=!1,Ni!==null&&Ho(Ni)&&(Ni=null),Di!==null&&Ho(Di)&&(Di=null),xi!==null&&Ho(xi)&&(xi=null),fl.forEach(Oy),dl.forEach(Oy)}function _o(e,t){e.blockedOn===t&&(e.blockedOn=null,Kf||(Kf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,sR)))}var vo=null;function Vy(e){vo!==e&&(vo=e,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,function(){vo===e&&(vo=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(_m(i||n)===null)continue;break}var r=qr(n);r!==null&&(e.splice(t,3),t-=3,If(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Dr(e){function t(u){return _o(u,e)}Ni!==null&&_o(Ni,e),Di!==null&&_o(Di,e),xi!==null&&_o(xi,e),fl.forEach(t),dl.forEach(t);for(var n=0;n<di.length;n++){var i=di[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<di.length&&(n=di[0],n.blockedOn===null);)lT(n),n.blockedOn===null&&di.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Re]||null;if(typeof r=="function")a||Vy(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Re]||null)o=a.formAction;else if(_m(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Vy(n)}}}function oT(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function vm(e){this._internalRoot=e}dc.prototype.render=vm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Pe();sT(n,i,e,t,null,null)};dc.prototype.unmount=vm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sT(e.current,2,null,e,null,null),cc(),t[Br]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&lT(e)}};var My=Av.version;if(My!=="19.2.3")throw Error(U(527,My,"19.2.3"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=MA(t),e=e!==null?Iv(e):null,e=e===null?null:e.stateNode,e};var rR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{wl=Eo.inject(rR),Le=Eo}catch{}}Ju.createRoot=function(e,t){if(!bv(e))throw Error(U(299));var n=!1,i="",s=W0,r=tE,a=eE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nT(e,1,!1,null,null,n,i,null,s,r,a,oT),e[Br]=t.current,dm(e),new vm(t)};Ju.hydrateRoot=function(e,t,n){if(!bv(e))throw Error(U(299));var i=!1,s="",r=W0,a=tE,o=eE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=nT(e,1,!0,t,n??null,i,s,u,r,a,o,oT),t.context=iT(null),n=t.current,i=Pe(),i=Id(i),s=wi(i),s.callback=null,Ri(n,s,i),n=i,t.current.lanes=n,Il(t,n),bn(t),e[Br]=t.current,dm(e),new dc(t)};Ju.version="19.2.3";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(e){console.error(e)}}uT(),yv.exports=Ju;var aR=yv.exports;const lR=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},oR=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,d=r>>2,g=(r&3)<<4|o>>4;let m=(o&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):oR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||h==null||g==null)throw new uR;const m=r<<2|o>>4;if(i.push(m),h!==64){const _=o<<4&240|h>>2;if(i.push(_),g!==64){const N=h<<6&192|g;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(e){const t=cT(e);return hT.encodeByteArray(t,!0)},Nu=function(e){return cR(e).replace(/\./g,"")},fT=function(e){try{return hT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof Uy>"u")return;const e=Uy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&fT(e[1]);return t&&JSON.parse(t)},mc=()=>{try{return lR()||fR()||dR()||mR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},dT=e=>{var t,n;return(n=(t=mc())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},gR=e=>{const t=dT(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},mT=()=>{var e;return(e=mc())==null?void 0:e.config},gT=e=>{var t;return(t=mc())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Nu(JSON.stringify(n)),Nu(JSON.stringify(a)),""].join(".")}const Ya={};function _R(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ya))Ya[t]?e.emulator.push(t):e.prod.push(t);return e}function vR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ly=!1;function yT(e,t){if(typeof window>"u"||typeof document>"u"||!Yr(window.location.host)||Ya[e]===t||Ya[e]||Ly)return;Ya[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=_R().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ly=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=vR(i),_=n("text"),N=document.getElementById(_)||document.createElement("span"),M=n("learnmore"),V=document.getElementById(M)||document.createElement("a"),S=n("preprendIcon"),v=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const R=m.element;o(R),d(V,M);const D=h();u(v,S),R.append(v,N,V,D),document.body.appendChild(R)}r?(N.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function TR(){var t;const e=(t=mc())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AR(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const e=de();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IR(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="FirebaseError";class Zn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=NR,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?DR(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Zn(s,o,i)}}function DR(e,t){return e.replace(xR,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const xR=/\{\$([^}]+)}/g;function OR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function As(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(ky(r)&&ky(a)){if(!As(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ky(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function VR(e,t){const n=new MR(e,t);return n.subscribe.bind(n)}class MR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");UR(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=zh),s.error===void 0&&(s.error=zh),s.complete===void 0&&(s.complete=zh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return e&&e._delegate?e._delegate:e}class bs{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new pR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PR(t))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=us){return this.instances.has(t)}getOptions(t=us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=us){return this.component?this.component.multipleInstances?t:us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(e){return e===us?void 0:e}function PR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new LR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const jR={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},BR=it.INFO,qR={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},HR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=qR[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=BR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const GR=(e,t)=>t.some(n=>e instanceof n);let Py,zy;function FR(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,Yf=new WeakMap,vT=new WeakMap,jh=new WeakMap,Tm=new WeakMap;function KR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(Oi(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&_T.set(n,e)}).catch(()=>{}),Tm.set(t,e),t}function YR(e){if(Yf.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});Yf.set(e,t)}let Xf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vT.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XR(e){Xf=e(Xf)}function JR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Bh(this),t,...n);return vT.set(i,t.sort?t.sort():[t]),Oi(i)}:QR().includes(e)?function(...t){return e.apply(Bh(this),t),Oi(_T.get(this))}:function(...t){return Oi(e.apply(Bh(this),t))}}function $R(e){return typeof e=="function"?JR(e):(e instanceof IDBTransaction&&YR(e),GR(e,FR())?new Proxy(e,Xf):e)}function Oi(e){if(e instanceof IDBRequest)return KR(e);if(jh.has(e))return jh.get(e);const t=$R(e);return t!==e&&(jh.set(e,t),Tm.set(t,e)),t}const Bh=e=>Tm.get(e);function ZR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=Oi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Oi(a.result),u.oldVersion,u.newVersion,Oi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const WR=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],qh=new Map;function jy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qh.get(t))return qh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=t2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||WR.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),s&&u.done]))[0]};return qh.set(t,r),r}XR(e=>({...e,get:(t,n,i)=>jy(t,n)||e.get(t,n,i),has:(t,n)=>!!jy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function n2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Jf="@firebase/app",By="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Em("@firebase/app"),i2="@firebase/app-compat",s2="@firebase/analytics-compat",r2="@firebase/analytics",a2="@firebase/app-check-compat",l2="@firebase/app-check",o2="@firebase/auth",u2="@firebase/auth-compat",c2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",d2="@firebase/functions",m2="@firebase/functions-compat",g2="@firebase/installations",p2="@firebase/installations-compat",y2="@firebase/messaging",_2="@firebase/messaging-compat",v2="@firebase/performance",E2="@firebase/performance-compat",T2="@firebase/remote-config",S2="@firebase/remote-config-compat",A2="@firebase/storage",b2="@firebase/storage-compat",w2="@firebase/firestore",R2="@firebase/ai",I2="@firebase/firestore-compat",C2="firebase",N2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",D2={[Jf]:"fire-core",[i2]:"fire-core-compat",[r2]:"fire-analytics",[s2]:"fire-analytics-compat",[l2]:"fire-app-check",[a2]:"fire-app-check-compat",[o2]:"fire-auth",[u2]:"fire-auth-compat",[c2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[d2]:"fire-fn",[m2]:"fire-fn-compat",[g2]:"fire-iid",[p2]:"fire-iid-compat",[y2]:"fire-fcm",[_2]:"fire-fcm-compat",[v2]:"fire-perf",[E2]:"fire-perf-compat",[T2]:"fire-rc",[S2]:"fire-rc-compat",[A2]:"fire-gcs",[b2]:"fire-gcs-compat",[w2]:"fire-fst",[I2]:"fire-fst-compat",[R2]:"fire-vertex","fire-js":"fire-js",[C2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,x2=new Map,Zf=new Map;function qy(e,t){try{e.container.addComponent(t)}catch(n){Qn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xr(e){const t=e.name;if(Zf.has(t))return Qn.debug(`There were multiple attempts to register component ${t}.`),!1;Zf.set(t,e);for(const n of Du.values())qy(n,e);for(const n of x2.values())qy(n,e);return!0}function Sm(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function un(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Ll("app","Firebase",O2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=N2;function ET(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:$f,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw Vi.create("bad-app-name",{appName:String(s)});if(n||(n=mT()),!n)throw Vi.create("no-options");const r=Du.get(s);if(r){if(As(n,r.options)&&As(i,r.config))return r;throw Vi.create("duplicate-app",{appName:s})}const a=new zR(s);for(const u of Zf.values())a.addComponent(u);const o=new V2(n,i,a);return Du.set(s,o),o}function TT(e=$f){const t=Du.get(e);if(!t&&e===$f&&mT())return ET();if(!t)throw Vi.create("no-app",{appName:e});return t}function Mi(e,t,n){let i=D2[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qn.warn(a.join(" "));return}xr(new bs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="firebase-heartbeat-database",U2=1,ml="firebase-heartbeat-store";let Hh=null;function ST(){return Hh||(Hh=ZR(M2,U2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ml)}catch(n){console.warn(n)}}}}).catch(e=>{throw Vi.create("idb-open",{originalErrorMessage:e.message})})),Hh}async function L2(e){try{const n=(await ST()).transaction(ml),i=await n.objectStore(ml).get(AT(e));return await n.done,i}catch(t){if(t instanceof Zn)Qn.warn(t.message);else{const n=Vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qn.warn(n.message)}}}async function Hy(e,t){try{const i=(await ST()).transaction(ml,"readwrite");await i.objectStore(ml).put(t,AT(e)),await i.done}catch(n){if(n instanceof Zn)Qn.warn(n.message);else{const i=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(i.message)}}}function AT(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=1024,P2=30;class z2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>P2){const a=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Qn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gy(),{heartbeatsToSend:i,unsentEntries:s}=j2(this._heartbeatsCache.heartbeats),r=Nu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Qn.warn(n),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function j2(e,t=k2){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Fy(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class B2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IR()?CR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Fy(e){return Nu(JSON.stringify({version:2,heartbeats:e})).length}function q2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(e){xr(new bs("platform-logger",t=>new e2(t),"PRIVATE")),xr(new bs("heartbeat",t=>new z2(t),"PRIVATE")),Mi(Jf,By,e),Mi(Jf,By,"esm2020"),Mi("fire-js","")}H2("");var G2="firebase",F2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(G2,F2,"app");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,bT;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,y){function T(){}T.prototype=y.prototype,E.F=y.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(b,w,I){for(var A=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)A[oe-2]=arguments[oe];return y.prototype[w].apply(b,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,T){T||(T=0);const b=Array(16);if(typeof y=="string")for(var w=0;w<16;++w)b[w]=y.charCodeAt(T++)|y.charCodeAt(T++)<<8|y.charCodeAt(T++)<<16|y.charCodeAt(T++)<<24;else for(w=0;w<16;++w)b[w]=y[T++]|y[T++]<<8|y[T++]<<16|y[T++]<<24;y=E.g[0],T=E.g[1],w=E.g[2];let I=E.g[3],A;A=y+(I^T&(w^I))+b[0]+3614090360&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(w^y&(T^w))+b[1]+3905402710&4294967295,I=y+(A<<12&4294967295|A>>>20),A=w+(T^I&(y^T))+b[2]+606105819&4294967295,w=I+(A<<17&4294967295|A>>>15),A=T+(y^w&(I^y))+b[3]+3250441966&4294967295,T=w+(A<<22&4294967295|A>>>10),A=y+(I^T&(w^I))+b[4]+4118548399&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(w^y&(T^w))+b[5]+1200080426&4294967295,I=y+(A<<12&4294967295|A>>>20),A=w+(T^I&(y^T))+b[6]+2821735955&4294967295,w=I+(A<<17&4294967295|A>>>15),A=T+(y^w&(I^y))+b[7]+4249261313&4294967295,T=w+(A<<22&4294967295|A>>>10),A=y+(I^T&(w^I))+b[8]+1770035416&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(w^y&(T^w))+b[9]+2336552879&4294967295,I=y+(A<<12&4294967295|A>>>20),A=w+(T^I&(y^T))+b[10]+4294925233&4294967295,w=I+(A<<17&4294967295|A>>>15),A=T+(y^w&(I^y))+b[11]+2304563134&4294967295,T=w+(A<<22&4294967295|A>>>10),A=y+(I^T&(w^I))+b[12]+1804603682&4294967295,y=T+(A<<7&4294967295|A>>>25),A=I+(w^y&(T^w))+b[13]+4254626195&4294967295,I=y+(A<<12&4294967295|A>>>20),A=w+(T^I&(y^T))+b[14]+2792965006&4294967295,w=I+(A<<17&4294967295|A>>>15),A=T+(y^w&(I^y))+b[15]+1236535329&4294967295,T=w+(A<<22&4294967295|A>>>10),A=y+(w^I&(T^w))+b[1]+4129170786&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^w&(y^T))+b[6]+3225465664&4294967295,I=y+(A<<9&4294967295|A>>>23),A=w+(y^T&(I^y))+b[11]+643717713&4294967295,w=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(w^I))+b[0]+3921069994&4294967295,T=w+(A<<20&4294967295|A>>>12),A=y+(w^I&(T^w))+b[5]+3593408605&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^w&(y^T))+b[10]+38016083&4294967295,I=y+(A<<9&4294967295|A>>>23),A=w+(y^T&(I^y))+b[15]+3634488961&4294967295,w=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(w^I))+b[4]+3889429448&4294967295,T=w+(A<<20&4294967295|A>>>12),A=y+(w^I&(T^w))+b[9]+568446438&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^w&(y^T))+b[14]+3275163606&4294967295,I=y+(A<<9&4294967295|A>>>23),A=w+(y^T&(I^y))+b[3]+4107603335&4294967295,w=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(w^I))+b[8]+1163531501&4294967295,T=w+(A<<20&4294967295|A>>>12),A=y+(w^I&(T^w))+b[13]+2850285829&4294967295,y=T+(A<<5&4294967295|A>>>27),A=I+(T^w&(y^T))+b[2]+4243563512&4294967295,I=y+(A<<9&4294967295|A>>>23),A=w+(y^T&(I^y))+b[7]+1735328473&4294967295,w=I+(A<<14&4294967295|A>>>18),A=T+(I^y&(w^I))+b[12]+2368359562&4294967295,T=w+(A<<20&4294967295|A>>>12),A=y+(T^w^I)+b[5]+4294588738&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^w)+b[8]+2272392833&4294967295,I=y+(A<<11&4294967295|A>>>21),A=w+(I^y^T)+b[11]+1839030562&4294967295,w=I+(A<<16&4294967295|A>>>16),A=T+(w^I^y)+b[14]+4259657740&4294967295,T=w+(A<<23&4294967295|A>>>9),A=y+(T^w^I)+b[1]+2763975236&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^w)+b[4]+1272893353&4294967295,I=y+(A<<11&4294967295|A>>>21),A=w+(I^y^T)+b[7]+4139469664&4294967295,w=I+(A<<16&4294967295|A>>>16),A=T+(w^I^y)+b[10]+3200236656&4294967295,T=w+(A<<23&4294967295|A>>>9),A=y+(T^w^I)+b[13]+681279174&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^w)+b[0]+3936430074&4294967295,I=y+(A<<11&4294967295|A>>>21),A=w+(I^y^T)+b[3]+3572445317&4294967295,w=I+(A<<16&4294967295|A>>>16),A=T+(w^I^y)+b[6]+76029189&4294967295,T=w+(A<<23&4294967295|A>>>9),A=y+(T^w^I)+b[9]+3654602809&4294967295,y=T+(A<<4&4294967295|A>>>28),A=I+(y^T^w)+b[12]+3873151461&4294967295,I=y+(A<<11&4294967295|A>>>21),A=w+(I^y^T)+b[15]+530742520&4294967295,w=I+(A<<16&4294967295|A>>>16),A=T+(w^I^y)+b[2]+3299628645&4294967295,T=w+(A<<23&4294967295|A>>>9),A=y+(w^(T|~I))+b[0]+4096336452&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~w))+b[7]+1126891415&4294967295,I=y+(A<<10&4294967295|A>>>22),A=w+(y^(I|~T))+b[14]+2878612391&4294967295,w=I+(A<<15&4294967295|A>>>17),A=T+(I^(w|~y))+b[5]+4237533241&4294967295,T=w+(A<<21&4294967295|A>>>11),A=y+(w^(T|~I))+b[12]+1700485571&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~w))+b[3]+2399980690&4294967295,I=y+(A<<10&4294967295|A>>>22),A=w+(y^(I|~T))+b[10]+4293915773&4294967295,w=I+(A<<15&4294967295|A>>>17),A=T+(I^(w|~y))+b[1]+2240044497&4294967295,T=w+(A<<21&4294967295|A>>>11),A=y+(w^(T|~I))+b[8]+1873313359&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~w))+b[15]+4264355552&4294967295,I=y+(A<<10&4294967295|A>>>22),A=w+(y^(I|~T))+b[6]+2734768916&4294967295,w=I+(A<<15&4294967295|A>>>17),A=T+(I^(w|~y))+b[13]+1309151649&4294967295,T=w+(A<<21&4294967295|A>>>11),A=y+(w^(T|~I))+b[4]+4149444226&4294967295,y=T+(A<<6&4294967295|A>>>26),A=I+(T^(y|~w))+b[11]+3174756917&4294967295,I=y+(A<<10&4294967295|A>>>22),A=w+(y^(I|~T))+b[2]+718787259&4294967295,w=I+(A<<15&4294967295|A>>>17),A=T+(I^(w|~y))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(w+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+I&4294967295}i.prototype.v=function(E,y){y===void 0&&(y=E.length);const T=y-this.blockSize,b=this.C;let w=this.h,I=0;for(;I<y;){if(w==0)for(;I<=T;)s(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(b[w++]=E.charCodeAt(I++),w==this.blockSize){s(this,b),w=0;break}}else for(;I<y;)if(b[w++]=E[I++],w==this.blockSize){s(this,b),w=0;break}}this.h=w,this.o+=y},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;y=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=y&255,y/=256;for(this.v(E),E=Array(16),y=0,T=0;T<4;++T)for(let b=0;b<32;b+=8)E[y++]=this.g[T]>>>b&255;return E};function r(E,y){var T=o;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=y(E)}function a(E,y){this.h=y;const T=[];let b=!0;for(let w=E.length-1;w>=0;w--){const I=E[w]|0;b&&I==y||(T[w]=I,b=!1)}this.g=T}var o={};function u(E){return-128<=E&&E<128?r(E,function(y){return new a([y|0],y<0?-1:0)}):new a([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return V(h(-E));const y=[];let T=1;for(let b=0;E>=T;b++)y[b]=E/T|0,T*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return V(d(E.substring(1),y));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(y,8));let b=g;for(let I=0;I<E.length;I+=8){var w=Math.min(8,E.length-I);const A=parseInt(E.substring(I,I+w),y);w<8?(w=h(Math.pow(y,w)),b=b.j(w).add(h(A))):(b=b.j(T),b=b.add(h(A)))}return b}var g=u(0),m=u(1),_=u(16777216);e=a.prototype,e.m=function(){if(M(this))return-V(this).m();let E=0,y=1;for(let T=0;T<this.g.length;T++){const b=this.i(T);E+=(b>=0?b:4294967296+b)*y,y*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(M(this))return"-"+V(this).toString(E);const y=h(Math.pow(E,6));var T=this;let b="";for(;;){const w=D(T,y).g;T=S(T,w.j(y));let I=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=w,N(T))return I+b;for(;I.length<6;)I="0"+I;b=I+b}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(let y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}e.l=function(E){return E=S(this,E),M(E)?-1:N(E)?0:1};function V(E){const y=E.g.length,T=[];for(let b=0;b<y;b++)T[b]=~E.g[b];return new a(T,~E.h).add(m)}e.abs=function(){return M(this)?V(this):this},e.add=function(E){const y=Math.max(this.g.length,E.g.length),T=[];let b=0;for(let w=0;w<=y;w++){let I=b+(this.i(w)&65535)+(E.i(w)&65535),A=(I>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);b=A>>>16,I&=65535,A&=65535,T[w]=A<<16|I}return new a(T,T[T.length-1]&-2147483648?-1:0)};function S(E,y){return E.add(V(y))}e.j=function(E){if(N(this)||N(E))return g;if(M(this))return M(E)?V(this).j(V(E)):V(V(this).j(E));if(M(E))return V(this.j(V(E)));if(this.l(_)<0&&E.l(_)<0)return h(this.m()*E.m());const y=this.g.length+E.g.length,T=[];for(var b=0;b<2*y;b++)T[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<E.g.length;w++){const I=this.i(b)>>>16,A=this.i(b)&65535,oe=E.i(w)>>>16,We=E.i(w)&65535;T[2*b+2*w]+=A*We,v(T,2*b+2*w),T[2*b+2*w+1]+=I*We,v(T,2*b+2*w+1),T[2*b+2*w+1]+=A*oe,v(T,2*b+2*w+1),T[2*b+2*w+2]+=I*oe,v(T,2*b+2*w+2)}for(E=0;E<y;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=y;E<2*y;E++)T[E]=0;return new a(T,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function R(E,y){this.g=E,this.h=y}function D(E,y){if(N(y))throw Error("division by zero");if(N(E))return new R(g,g);if(M(E))return y=D(V(E),y),new R(V(y.g),V(y.h));if(M(y))return y=D(E,V(y)),new R(V(y.g),y.h);if(E.g.length>30){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var T=m,b=y;b.l(E)<=0;)T=z(T),b=z(b);var w=q(T,1),I=q(b,1);for(b=q(b,2),T=q(T,2);!N(b);){var A=I.add(b);A.l(E)<=0&&(w=w.add(T),I=A),b=q(b,1),T=q(T,1)}return y=S(E,w.j(y)),new R(w,y)}for(w=g;E.l(y)>=0;){for(T=Math.max(1,Math.floor(E.m()/y.m())),b=Math.ceil(Math.log(T)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),I=h(T),A=I.j(y);M(A)||A.l(E)>0;)T-=b,I=h(T),A=I.j(y);N(I)&&(I=m),w=w.add(I),E=S(E,A)}return new R(w,E)}e.B=function(E){return D(this,E).h},e.and=function(E){const y=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<y;b++)T[b]=this.i(b)&E.i(b);return new a(T,this.h&E.h)},e.or=function(E){const y=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<y;b++)T[b]=this.i(b)|E.i(b);return new a(T,this.h|E.h)},e.xor=function(E){const y=Math.max(this.g.length,E.g.length),T=[];for(let b=0;b<y;b++)T[b]=this.i(b)^E.i(b);return new a(T,this.h^E.h)};function z(E){const y=E.g.length+1,T=[];for(let b=0;b<y;b++)T[b]=E.i(b)<<1|E.i(b-1)>>>31;return new a(T,E.h)}function q(E,y){const T=y>>5;y%=32;const b=E.g.length-T,w=[];for(let I=0;I<b;I++)w[I]=y>0?E.i(I+T)>>>y|E.i(I+T+1)<<32-y:E.i(I+T);return new a(w,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Ui=a}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Da,RT,Go,Wf,IT,CT,NT;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof To=="object"&&To];for(var c=0;c<l.length;++c){var f=l[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(l,c){if(c)t:{var f=i;l=l.split(".");for(var p=0;p<l.length-1;p++){var C=l[p];if(!(C in f))break t;f=f[C]}l=l[l.length-1],p=f[l],c=c(p),c!=p&&c!=null&&t(f,l,{configurable:!0,writable:!0,value:c})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(c){var f=[],p;for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&f.push([p,c[p]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function u(l,c,f){return l.call.apply(l.bind,arguments)}function h(l,c,f){return h=u,h.apply(null,arguments)}function d(l,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),l.apply(this,p)}}function g(l,c){function f(){}f.prototype=c.prototype,l.Z=c.prototype,l.prototype=new f,l.prototype.constructor=l,l.Ob=function(p,C,x){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return c.prototype[C].apply(p,P)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function _(l){const c=l.length;if(c>0){const f=Array(c);for(let p=0;p<c;p++)f[p]=l[p];return f}return[]}function N(l,c){for(let p=1;p<arguments.length;p++){const C=arguments[p];var f=typeof C;if(f=f!="object"?f:C?Array.isArray(C)?"array":f:"null",f=="array"||f=="object"&&typeof C.length=="number"){f=l.length||0;const x=C.length||0;l.length=f+x;for(let P=0;P<x;P++)l[f+P]=C[P]}else l.push(C)}}class M{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function V(l){a.setTimeout(()=>{throw l},0)}function S(){var l=E;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class v{constructor(){this.h=this.g=null}add(c,f){const p=R.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var R=new M(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let z,q=!1,E=new v,y=()=>{const l=Promise.resolve(void 0);z=()=>{l.then(T)}};function T(){for(var l;l=S();){try{l.h.call(l.g)}catch(f){V(f)}var c=R;c.j(l),c.h<100&&(c.h++,l.next=c.g,c.g=l)}q=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};a.addEventListener("test",f,c),a.removeEventListener("test",f,c)}catch{}return l}();function A(l){return/^[\s\xa0]*$/.test(l)}function oe(l,c){w.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,c)}g(oe,w),oe.prototype.init=function(l,c){const f=this.type=l.type,p=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget,c||(f=="mouseover"?c=l.fromElement:f=="mouseout"&&(c=l.toElement)),this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),j=0;function tt(l,c,f,p,C){this.listener=l,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=C,this.key=++j,this.da=this.fa=!1}function J(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _t(l,c,f){for(const p in l)c.call(f,l[p],p,l)}function Ut(l,c){for(const f in l)c.call(void 0,l[f],f,l)}function $i(l){const c={};for(const f in l)c[f]=l[f];return c}const Zi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Us(l,c){let f,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(f in p)l[f]=p[f];for(let x=0;x<Zi.length;x++)f=Zi[x],Object.prototype.hasOwnProperty.call(p,f)&&(l[f]=p[f])}}function Be(l){this.src=l,this.g={},this.h=0}Be.prototype.add=function(l,c,f,p,C){const x=l.toString();l=this.g[x],l||(l=this.g[x]=[],this.h++);const P=Vc(l,c,p,C);return P>-1?(c=l[P],f||(c.fa=!1)):(c=new tt(c,this.src,x,!!p,C),c.fa=f,l.push(c)),c};function Wn(l,c){const f=c.type;if(f in l.g){var p=l.g[f],C=Array.prototype.indexOf.call(p,c,void 0),x;(x=C>=0)&&Array.prototype.splice.call(p,C,1),x&&(J(c),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Vc(l,c,f,p){for(let C=0;C<l.length;++C){const x=l[C];if(!x.da&&x.listener==c&&x.capture==!!f&&x.ha==p)return C}return-1}var Mc="closure_lm_"+(Math.random()*1e6|0),Uc={};function ug(l,c,f,p,C){if(Array.isArray(c)){for(let x=0;x<c.length;x++)ug(l,c[x],f,p,C);return null}return f=fg(f),l&&l[We]?l.J(c,f,o(p)?!!p.capture:!1,C):US(l,c,f,!1,p,C)}function US(l,c,f,p,C,x){if(!c)throw Error("Invalid event type");const P=o(C)?!!C.capture:!!C;let W=kc(l);if(W||(l[Mc]=W=new Be(l)),f=W.add(c,f,p,P,x),f.proxy)return f;if(p=LS(),f.proxy=p,p.src=l,p.listener=f,l.addEventListener)I||(C=P),C===void 0&&(C=!1),l.addEventListener(c.toString(),p,C);else if(l.attachEvent)l.attachEvent(hg(c.toString()),p);else if(l.addListener&&l.removeListener)l.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function LS(){function l(f){return c.call(l.src,l.listener,f)}const c=kS;return l}function cg(l,c,f,p,C){if(Array.isArray(c))for(var x=0;x<c.length;x++)cg(l,c[x],f,p,C);else p=o(p)?!!p.capture:!!p,f=fg(f),l&&l[We]?(l=l.i,x=String(c).toString(),x in l.g&&(c=l.g[x],f=Vc(c,f,p,C),f>-1&&(J(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete l.g[x],l.h--)))):l&&(l=kc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=Vc(c,f,p,C)),(f=l>-1?c[l]:null)&&Lc(f))}function Lc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[We])Wn(c.i,l);else{var f=l.type,p=l.proxy;c.removeEventListener?c.removeEventListener(f,p,l.capture):c.detachEvent?c.detachEvent(hg(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=kc(c))?(Wn(f,l),f.h==0&&(f.src=null,c[Mc]=null)):J(l)}}}function hg(l){return l in Uc?Uc[l]:Uc[l]="on"+l}function kS(l,c){if(l.da)l=!0;else{c=new oe(c,this);const f=l.listener,p=l.ha||l.src;l.fa&&Lc(l),l=f.call(p,c)}return l}function kc(l){return l=l[Mc],l instanceof Be?l:null}var Pc="__closure_events_fn_"+(Math.random()*1e9>>>0);function fg(l){return typeof l=="function"?l:(l[Pc]||(l[Pc]=function(c){return l.handleEvent(c)}),l[Pc])}function ue(){b.call(this),this.i=new Be(this),this.M=this,this.G=null}g(ue,b),ue.prototype[We]=!0,ue.prototype.removeEventListener=function(l,c,f,p){cg(this,l,c,f,p)};function me(l,c){var f,p=l.G;if(p)for(f=[];p;p=p.G)f.push(p);if(l=l.M,p=c.type||c,typeof c=="string")c=new w(c,l);else if(c instanceof w)c.target=c.target||l;else{var C=c;c=new w(p,l),Us(c,C)}C=!0;let x,P;if(f)for(P=f.length-1;P>=0;P--)x=c.g=f[P],C=Ql(x,p,!0,c)&&C;if(x=c.g=l,C=Ql(x,p,!0,c)&&C,C=Ql(x,p,!1,c)&&C,f)for(P=0;P<f.length;P++)x=c.g=f[P],C=Ql(x,p,!1,c)&&C}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var l=this.i;for(const c in l.g){const f=l.g[c];for(let p=0;p<f.length;p++)J(f[p]);delete l.g[c],l.h--}}this.G=null},ue.prototype.J=function(l,c,f,p){return this.i.add(String(l),c,!1,f,p)},ue.prototype.K=function(l,c,f,p){return this.i.add(String(l),c,!0,f,p)};function Ql(l,c,f,p){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();let C=!0;for(let x=0;x<c.length;++x){const P=c[x];if(P&&!P.da&&P.capture==f){const W=P.listener,Ht=P.ha||P.src;P.fa&&Wn(l.i,P),C=W.call(Ht,p)!==!1&&C}}return C&&!p.defaultPrevented}function PS(l,c){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(l,c||0)}function dg(l){l.g=PS(()=>{l.g=null,l.i&&(l.i=!1,dg(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class zS extends b{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:dg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(l){b.call(this),this.h=l,this.g={}}g(ea,b);var mg=[];function gg(l){_t(l.g,function(c,f){this.g.hasOwnProperty(f)&&Lc(c)},l),l.g={}}ea.prototype.N=function(){ea.Z.N.call(this),gg(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zc=a.JSON.stringify,jS=a.JSON.parse,BS=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function pg(){}function yg(){}var na={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jc(){w.call(this,"d")}g(jc,w);function Bc(){w.call(this,"c")}g(Bc,w);var Wi={},_g=null;function Kl(){return _g=_g||new ue}Wi.Ia="serverreachability";function vg(l){w.call(this,Wi.Ia,l)}g(vg,w);function ia(l){const c=Kl();me(c,new vg(c))}Wi.STAT_EVENT="statevent";function Eg(l,c){w.call(this,Wi.STAT_EVENT,l),this.stat=c}g(Eg,w);function ge(l){const c=Kl();me(c,new Eg(c,l))}Wi.Ja="timingevent";function Tg(l,c){w.call(this,Wi.Ja,l),this.size=c}g(Tg,w);function sa(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},c)}function ra(){this.g=!0}ra.prototype.ua=function(){this.g=!1};function qS(l,c,f,p,C,x){l.info(function(){if(l.g)if(x){var P="",W=x.split("&");for(let pt=0;pt<W.length;pt++){var Ht=W[pt].split("=");if(Ht.length>1){const Yt=Ht[0];Ht=Ht[1];const ln=Yt.split("_");P=ln.length>=2&&ln[1]=="type"?P+(Yt+"="+Ht+"&"):P+(Yt+"=redacted&")}}}else P=null;else P=x;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+c+`
`+f+`
`+P})}function HS(l,c,f,p,C,x,P){l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+c+`
`+f+`
`+x+" "+P})}function Ls(l,c,f,p){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+FS(l,f)+(p?" "+p:"")})}function GS(l,c){l.info(function(){return"TIMEOUT: "+c})}ra.prototype.info=function(){};function FS(l,c){if(!l.g)return c;if(!c)return null;try{const x=JSON.parse(c);if(x){for(l=0;l<x.length;l++)if(Array.isArray(x[l])){var f=x[l];if(!(f.length<2)){var p=f[1];if(Array.isArray(p)&&!(p.length<1)){var C=p[0];if(C!="noop"&&C!="stop"&&C!="close")for(let P=1;P<p.length;P++)p[P]=""}}}}return zc(x)}catch{return c}}var Yl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ag;function qc(){}g(qc,pg),qc.prototype.g=function(){return new XMLHttpRequest},Ag=new qc;function aa(l){return encodeURIComponent(String(l))}function QS(l){var c=1;l=l.split(":");const f=[];for(;c>0&&l.length;)f.push(l.shift()),c--;return l.length&&f.push(l.join(":")),f}function ti(l,c,f,p){this.j=l,this.i=c,this.l=f,this.S=p||1,this.V=new ea(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}var wg={},Hc={};function Gc(l,c,f){l.M=1,l.A=Jl(an(c)),l.u=f,l.R=!0,Rg(l,null)}function Rg(l,c){l.F=Date.now(),Xl(l),l.B=an(l.A);var f=l.B,p=l.S;Array.isArray(p)||(p=[String(p)]),zg(f.i,"t",p),l.C=0,f=l.j.L,l.h=new bg,l.g=ip(l.j,f?c:null,!l.u),l.P>0&&(l.O=new zS(h(l.Y,l,l.g),l.P)),c=l.V,f=l.g,p=l.ba;var C="readystatechange";Array.isArray(C)||(C&&(mg[0]=C.toString()),C=mg);for(let x=0;x<C.length;x++){const P=ug(f,C[x],p||c.handleEvent,!1,c.h||c);if(!P)break;c.g[P.key]=P}c=l.J?$i(l.J):{},l.u?(l.v||(l.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,c)):(l.v="GET",l.g.ea(l.B,l.v,null,c)),ia(),qS(l.i,l.v,l.B,l.l,l.S,l.u)}ti.prototype.ba=function(l){l=l.target;const c=this.O;c&&ii(l)==3?c.j():this.Y(l)},ti.prototype.Y=function(l){try{if(l==this.g)t:{const W=ii(this.g),Ht=this.g.ya(),pt=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||Qg(this.g)))){this.K||W!=4||Ht==7||(Ht==8||pt<=0?ia(3):ia(2)),Fc(this);var c=this.g.ca();this.X=c;var f=KS(this);if(this.o=c==200,HS(this.i,this.v,this.B,this.l,this.S,W,c),this.o){if(this.U&&!this.L){e:{if(this.g){var p,C=this.g;if((p=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(p)){var x=p;break e}}x=null}if(l=x)Ls(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qc(this,l);else{this.o=!1,this.m=3,ge(12),ts(this),la(this);break t}}if(this.R){l=!0;let Yt;for(;!this.K&&this.C<f.length;)if(Yt=YS(this,f),Yt==Hc){W==4&&(this.m=4,ge(14),l=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==wg){this.m=4,ge(15),Ls(this.i,this.l,f,"[Invalid Chunk]"),l=!1;break}else Ls(this.i,this.l,Yt,null),Qc(this,Yt);if(Ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||f.length!=0||this.h.h||(this.m=1,ge(16),l=!1),this.o=this.o&&l,!l)Ls(this.i,this.l,f,"[Invalid Chunked Response]"),ts(this),la(this);else if(f.length>0&&!this.W){this.W=!0;var P=this.j;P.g==this&&P.aa&&!P.P&&(P.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),th(P),P.P=!0,ge(11))}}else Ls(this.i,this.l,f,null),Qc(this,f);W==4&&ts(this),this.o&&!this.K&&(W==4?Wg(this.j,this):(this.o=!1,Xl(this)))}else oA(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),ts(this),la(this)}}}catch{}finally{}};function KS(l){if(!Ig(l))return l.g.la();const c=Qg(l.g);if(c==="")return"";let f="";const p=c.length,C=ii(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ts(l),la(l),"";l.h.i=new a.TextDecoder}for(let x=0;x<p;x++)l.h.h=!0,f+=l.h.i.decode(c[x],{stream:!(C&&x==p-1)});return c.length=0,l.h.g+=f,l.C=0,l.h.g}function Ig(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function YS(l,c){var f=l.C,p=c.indexOf(`
`,f);return p==-1?Hc:(f=Number(c.substring(f,p)),isNaN(f)?wg:(p+=1,p+f>c.length?Hc:(c=c.slice(p,p+f),l.C=p+f,c)))}ti.prototype.cancel=function(){this.K=!0,ts(this)};function Xl(l){l.T=Date.now()+l.H,Cg(l,l.H)}function Cg(l,c){if(l.D!=null)throw Error("WatchDog timer not null");l.D=sa(h(l.aa,l),c)}function Fc(l){l.D&&(a.clearTimeout(l.D),l.D=null)}ti.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(GS(this.i,this.B),this.M!=2&&(ia(),ge(17)),ts(this),this.m=2,la(this)):Cg(this,this.T-l)};function la(l){l.j.I==0||l.K||Wg(l.j,l)}function ts(l){Fc(l);var c=l.O;c&&typeof c.dispose=="function"&&c.dispose(),l.O=null,gg(l.V),l.g&&(c=l.g,l.g=null,c.abort(),c.dispose())}function Qc(l,c){try{var f=l.j;if(f.I!=0&&(f.g==l||Kc(f.h,l))){if(!l.L&&Kc(f.h,l)&&f.I==3){try{var p=f.Ba.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!f.v){if(f.g)if(f.g.F+3e3<l.F)eo(f),Wl(f);else break t;Wc(f),ge(18)}}else f.xa=C[1],0<f.xa-f.K&&C[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=sa(h(f.Va,f),6e3));xg(f.h)<=1&&f.ta&&(f.ta=void 0)}else ns(f,11)}else if((l.L||f.g==l)&&eo(f),!A(c))for(C=f.Ba.g.parse(c),c=0;c<C.length;c++){let pt=C[c];const Yt=pt[0];if(!(Yt<=f.K))if(f.K=Yt,pt=pt[1],f.I==2)if(pt[0]=="c"){f.M=pt[1],f.ba=pt[2];const ln=pt[3];ln!=null&&(f.ka=ln,f.j.info("VER="+f.ka));const is=pt[4];is!=null&&(f.za=is,f.j.info("SVER="+f.za));const si=pt[5];si!=null&&typeof si=="number"&&si>0&&(p=1.5*si,f.O=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const ri=l.g;if(ri){const io=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var x=p.h;x.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Yc(x,x.h),x.h=null))}if(p.G){const eh=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;eh&&(p.wa=eh,Et(p.J,p.G,eh))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-l.F,f.j.info("Handshake RTT: "+f.T+"ms")),p=f;var P=l;if(p.na=np(p,p.L?p.ba:null,p.W),P.L){Og(p.h,P);var W=P,Ht=p.O;Ht&&(W.H=Ht),W.D&&(Fc(W),Xl(W)),p.g=P}else $g(p);f.i.length>0&&to(f)}else pt[0]!="stop"&&pt[0]!="close"||ns(f,7);else f.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ns(f,7):Zc(f):pt[0]!="noop"&&f.l&&f.l.qa(pt),f.A=0)}}ia(4)}catch{}}var XS=class{constructor(l,c){this.g=l,this.map=c}};function Ng(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function xg(l){return l.h?1:l.g?l.g.size:0}function Kc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function Yc(l,c){l.g?l.g.add(c):l.h=c}function Og(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Ng.prototype.cancel=function(){if(this.i=Vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const f of l.g.values())c=c.concat(f.G);return c}return _(l.i)}var Mg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JS(l,c){if(l){l=l.split("&");for(let f=0;f<l.length;f++){const p=l[f].indexOf("=");let C,x=null;p>=0?(C=l[f].substring(0,p),x=l[f].substring(p+1)):C=l[f],c(C,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ei(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;l instanceof ei?(this.l=l.l,oa(this,l.j),this.o=l.o,this.g=l.g,ua(this,l.u),this.h=l.h,Xc(this,jg(l.i)),this.m=l.m):l&&(c=String(l).match(Mg))?(this.l=!1,oa(this,c[1]||"",!0),this.o=ca(c[2]||""),this.g=ca(c[3]||"",!0),ua(this,c[4]),this.h=ca(c[5]||"",!0),Xc(this,c[6]||"",!0),this.m=ca(c[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}ei.prototype.toString=function(){const l=[];var c=this.j;c&&l.push(ha(c,Ug,!0),":");var f=this.g;return(f||c=="file")&&(l.push("//"),(c=this.o)&&l.push(ha(c,Ug,!0),"@"),l.push(aa(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&l.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ha(f,f.charAt(0)=="/"?WS:ZS,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ha(f,eA)),l.join("")},ei.prototype.resolve=function(l){const c=an(this);let f=!!l.j;f?oa(c,l.j):f=!!l.o,f?c.o=l.o:f=!!l.g,f?c.g=l.g:f=l.u!=null;var p=l.h;if(f)ua(c,l.u);else if(f=!!l.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var C=c.h.lastIndexOf("/");C!=-1&&(p=c.h.slice(0,C+1)+p)}if(C=p,C==".."||C==".")p="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){p=C.lastIndexOf("/",0)==0,C=C.split("/");const x=[];for(let P=0;P<C.length;){const W=C[P++];W=="."?p&&P==C.length&&x.push(""):W==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),p&&P==C.length&&x.push("")):(x.push(W),p=!0)}p=x.join("/")}else p=C}return f?c.h=p:f=l.i.toString()!=="",f?Xc(c,jg(l.i)):f=!!l.m,f&&(c.m=l.m),c};function an(l){return new ei(l)}function oa(l,c,f){l.j=f?ca(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function ua(l,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);l.u=c}else l.u=null}function Xc(l,c,f){c instanceof fa?(l.i=c,nA(l.i,l.l)):(f||(c=ha(c,tA)),l.i=new fa(c,l.l))}function Et(l,c,f){l.i.set(c,f)}function Jl(l){return Et(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ca(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ha(l,c,f){return typeof l=="string"?(l=encodeURI(l).replace(c,$S),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function $S(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ug=/[#\/\?@]/g,ZS=/[#\?:]/g,WS=/[#\?]/g,tA=/[#\?@]/g,eA=/#/g;function fa(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function es(l){l.g||(l.g=new Map,l.h=0,l.i&&JS(l.i,function(c,f){l.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=fa.prototype,e.add=function(l,c){es(this),this.i=null,l=ks(this,l);let f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(c),this.h+=1,this};function Lg(l,c){es(l),c=ks(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function kg(l,c){return es(l),c=ks(l,c),l.g.has(c)}e.forEach=function(l,c){es(this),this.g.forEach(function(f,p){f.forEach(function(C){l.call(c,C,p,this)},this)},this)};function Pg(l,c){es(l);let f=[];if(typeof c=="string")kg(l,c)&&(f=f.concat(l.g.get(ks(l,c))));else for(l=Array.from(l.g.values()),c=0;c<l.length;c++)f=f.concat(l[c]);return f}e.set=function(l,c){return es(this),this.i=null,l=ks(this,l),kg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=Pg(this,l),l.length>0?String(l[0]):c):c};function zg(l,c,f){Lg(l,c),f.length>0&&(l.i=null,l.g.set(ks(l,c),_(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(let p=0;p<c.length;p++){var f=c[p];const C=aa(f);f=Pg(this,f);for(let x=0;x<f.length;x++){let P=C;f[x]!==""&&(P+="="+aa(f[x])),l.push(P)}}return this.i=l.join("&")};function jg(l){const c=new fa;return c.i=l.i,l.g&&(c.g=new Map(l.g),c.h=l.h),c}function ks(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function nA(l,c){c&&!l.j&&(es(l),l.i=null,l.g.forEach(function(f,p){const C=p.toLowerCase();p!=C&&(Lg(this,p),zg(this,C,f))},l)),l.j=c}function iA(l,c){const f=new ra;if(a.Image){const p=new Image;p.onload=d(ni,f,"TestLoadImage: loaded",!0,c,p),p.onerror=d(ni,f,"TestLoadImage: error",!1,c,p),p.onabort=d(ni,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=d(ni,f,"TestLoadImage: timeout",!1,c,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=l}else c(!1)}function sA(l,c){const f=new ra,p=new AbortController,C=setTimeout(()=>{p.abort(),ni(f,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:p.signal}).then(x=>{clearTimeout(C),x.ok?ni(f,"TestPingServer: ok",!0,c):ni(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(C),ni(f,"TestPingServer: error",!1,c)})}function ni(l,c,f,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(f)}catch{}}function rA(){this.g=new BS}function Jc(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Jc,pg),Jc.prototype.g=function(){return new $l(this.i,this.h)};function $l(l,c){ue.call(this),this.H=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g($l,ue),e=$l.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=c,this.readyState=1,ma(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(c.body=l),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?da(this):ma(this),this.readyState==3&&Bg(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,da(this))},e.Na=function(l){this.g&&(this.response=l,da(this))},e.ga=function(){this.g&&da(this)};function da(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ma(l)}e.setRequestHeader=function(l,c){this.A.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=c.next();return l.join(`\r
`)};function ma(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty($l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qg(l){let c="";return _t(l,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function $c(l,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=qg(f),typeof l=="string"?f!=null&&aa(f):Et(l,c,f))}function Nt(l){ue.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Nt,ue);var aA=/^https?$/i,lA=["POST","PUT"];e=Nt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ag.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(x){Hg(this,x);return}if(l=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)f.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const x of p.keys())f.set(x,p.get(x));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),C=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(lA,c,void 0)>=0)||p||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,P]of f)this.g.setRequestHeader(x,P);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(x){Hg(this,x)}};function Hg(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.o=5,Gg(l),Zl(l)}function Gg(l){l.A||(l.A=!0,me(l,"complete"),me(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,me(this,"complete"),me(this,"abort"),Zl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zl(this,!0)),Nt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Fg(this):this.Xa())},e.Xa=function(){Fg(this)};function Fg(l){if(l.h&&typeof r<"u"){if(l.v&&ii(l)==4)setTimeout(l.Ca.bind(l),0);else if(me(l,"readystatechange"),ii(l)==4){l.h=!1;try{const x=l.ca();t:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=x===0){let P=String(l.D).match(Mg)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),p=!aA.test(P?P.toLowerCase():"")}f=p}if(f)me(l,"complete"),me(l,"success");else{l.o=6;try{var C=ii(l)>2?l.g.statusText:""}catch{C=""}l.l=C+" ["+l.ca()+"]",Gg(l)}}finally{Zl(l)}}}}function Zl(l,c){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const f=l.g;l.g=null,c||me(l,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function ii(l){return l.g?l.g.readyState:0}e.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),jS(c)}};function Qg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function oA(l){const c={};l=(l.g&&ii(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<l.length;p++){if(A(l[p]))continue;var f=QS(l[p]);const C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const x=c[C]||[];c[C]=x,x.push(f)}Ut(c,function(p){return p.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(l,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||c}function Kg(l){this.za=0,this.i=[],this.j=new ra,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ga("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ga("baseRetryDelayMs",5e3,l),this.Za=ga("retryDelaySeedMs",1e4,l),this.Ta=ga("forwardChannelMaxRetries",2,l),this.va=ga("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ng(l&&l.concurrentRequestLimit),this.Ba=new rA,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Kg.prototype,e.ka=8,e.I=1,e.connect=function(l,c,f,p){ge(0),this.W=l,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.J=np(this,null,this.W),to(this)};function Zc(l){if(Yg(l),l.I==3){var c=l.V++,f=an(l.J);if(Et(f,"SID",l.M),Et(f,"RID",c),Et(f,"TYPE","terminate"),pa(l,f),c=new ti(l,l.j,c),c.M=2,c.A=Jl(an(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=c.A,f=!0),f||(c.g=ip(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Xl(c)}ep(l)}function Wl(l){l.g&&(th(l),l.g.cancel(),l.g=null)}function Yg(l){Wl(l),l.v&&(a.clearTimeout(l.v),l.v=null),eo(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function to(l){if(!Dg(l.h)&&!l.m){l.m=!0;var c=l.Ea;z||y(),q||(z(),q=!0),E.add(c,l),l.D=0}}function uA(l,c){return xg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=c.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=sa(h(l.Ea,l,c),tp(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const C=new ti(this,this.j,l);let x=this.o;if(this.U&&(x?(x=$i(x),Us(x,this.U)):x=this.U),this.u!==null||this.R||(C.J=x,x=null),this.S)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,c>4096){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Jg(this,C,c),f=an(this.J),Et(f,"RID",l),Et(f,"CVER",22),this.G&&Et(f,"X-HTTP-Session-Id",this.G),pa(this,f),x&&(this.R?c="headers="+aa(qg(x))+"&"+c:this.u&&$c(f,this.u,x)),Yc(this.h,C),this.Ra&&Et(f,"TYPE","init"),this.S?(Et(f,"$req",c),Et(f,"SID","null"),C.U=!0,Gc(C,f,null)):Gc(C,f,c),this.I=2}}else this.I==3&&(l?Xg(this,l):this.i.length==0||Dg(this.h)||Xg(this))};function Xg(l,c){var f;c?f=c.l:f=l.V++;const p=an(l.J);Et(p,"SID",l.M),Et(p,"RID",f),Et(p,"AID",l.K),pa(l,p),l.u&&l.o&&$c(p,l.u,l.o),f=new ti(l,l.j,f,l.D+1),l.u===null&&(f.J=l.o),c&&(l.i=c.G.concat(l.i)),c=Jg(l,f,1e3),f.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Yc(l.h,f),Gc(f,p,c)}function pa(l,c){l.H&&_t(l.H,function(f,p){Et(c,p,f)}),l.l&&_t({},function(f,p){Et(c,p,f)})}function Jg(l,c,f){f=Math.min(l.i.length,f);const p=l.l?h(l.l.Ka,l.l,l):null;t:{var C=l.i;let W=-1;for(;;){const Ht=["count="+f];W==-1?f>0?(W=C[0].g,Ht.push("ofs="+W)):W=0:Ht.push("ofs="+W);let pt=!0;for(let Yt=0;Yt<f;Yt++){var x=C[Yt].g;const ln=C[Yt].map;if(x-=W,x<0)W=Math.max(0,C[Yt].g-100),pt=!1;else try{x="req"+x+"_"||"";try{var P=ln instanceof Map?ln:Object.entries(ln);for(const[is,si]of P){let ri=si;o(si)&&(ri=zc(si)),Ht.push(x+is+"="+encodeURIComponent(ri))}}catch(is){throw Ht.push(x+"type="+encodeURIComponent("_badmap")),is}}catch{p&&p(ln)}}if(pt){P=Ht.join("&");break t}}P=void 0}return l=l.i.splice(0,f),c.G=l,P}function $g(l){if(!l.g&&!l.v){l.Y=1;var c=l.Da;z||y(),q||(z(),q=!0),E.add(c,l),l.A=0}}function Wc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=sa(h(l.Da,l),tp(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Zg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=sa(h(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Wl(this),Zg(this))};function th(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function Zg(l){l.g=new ti(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var c=an(l.na);Et(c,"RID","rpc"),Et(c,"SID",l.M),Et(c,"AID",l.K),Et(c,"CI",l.F?"0":"1"),!l.F&&l.ia&&Et(c,"TO",l.ia),Et(c,"TYPE","xmlhttp"),pa(l,c),l.u&&l.o&&$c(c,l.u,l.o),l.O&&(l.g.H=l.O);var f=l.g;l=l.ba,f.M=1,f.A=Jl(an(c)),f.u=null,f.R=!0,Rg(f,l)}e.Va=function(){this.C!=null&&(this.C=null,Wl(this),Wc(this),ge(19))};function eo(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Wg(l,c){var f=null;if(l.g==c){eo(l),th(l),l.g=null;var p=2}else if(Kc(l.h,c))f=c.G,Og(l.h,c),p=1;else return;if(l.I!=0){if(c.o)if(p==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var C=l.D;p=Kl(),me(p,new Tg(p,f)),to(l)}else $g(l);else if(C=c.m,C==3||C==0&&c.X>0||!(p==1&&uA(l,c)||p==2&&Wc(l)))switch(f&&f.length>0&&(c=l.h,c.i=c.i.concat(f)),C){case 1:ns(l,5);break;case 4:ns(l,10);break;case 3:ns(l,6);break;default:ns(l,2)}}}function tp(l,c){let f=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(f*=2),f*c}function ns(l,c){if(l.j.info("Error code "+c),c==2){var f=h(l.bb,l),p=l.Ua;const C=!p;p=new ei(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oa(p,"https"),Jl(p),C?iA(p.toString(),f):sA(p.toString(),f)}else ge(2);l.I=0,l.l&&l.l.pa(c),ep(l),Yg(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function ep(l){if(l.I=0,l.ja=[],l.l){const c=Vg(l.h);(c.length!=0||l.i.length!=0)&&(N(l.ja,c),N(l.ja,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.oa()}}function np(l,c,f){var p=f instanceof ei?an(f):new ei(f);if(p.g!="")c&&(p.g=c+"."+p.g),ua(p,p.u);else{var C=a.location;p=C.protocol,c=c?c+"."+C.hostname:C.hostname,C=+C.port;const x=new ei(null);p&&oa(x,p),c&&(x.g=c),C&&ua(x,C),f&&(x.h=f),p=x}return f=l.G,c=l.wa,f&&c&&Et(p,f,c),Et(p,"VER",l.ka),pa(l,p),p}function ip(l,c,f){if(c&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Aa&&!l.ma?new Nt(new Jc({ab:f})):new Nt(l.ma),c.Fa(l.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function sp(){}e=sp.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function no(){}no.prototype.g=function(l,c){return new Ne(l,c)};function Ne(l,c){ue.call(this),this.g=new Kg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(l?l["X-WebChannel-Client-Profile"]=c.sa:l={"X-WebChannel-Client-Profile":c.sa}),this.g.U=l,(l=c&&c.Qb)&&!A(l)&&(this.g.u=l),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.G=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Ps(this)}g(Ne,ue),Ne.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ne.prototype.close=function(){Zc(this.g)},Ne.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.v&&(f={},f.__data__=zc(l),l=f);c.i.push(new XS(c.Ya++,l)),c.I==3&&to(c)},Ne.prototype.N=function(){this.g.l=null,delete this.j,Zc(this.g),delete this.g,Ne.Z.N.call(this)};function rp(l){jc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const f in c){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}g(rp,jc);function ap(){Bc.call(this),this.status=1}g(ap,Bc);function Ps(l){this.g=l}g(Ps,sp),Ps.prototype.ra=function(){me(this.g,"a")},Ps.prototype.qa=function(l){me(this.g,new rp(l))},Ps.prototype.pa=function(l){me(this.g,new ap)},Ps.prototype.oa=function(){me(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,Ne.prototype.send=Ne.prototype.o,Ne.prototype.open=Ne.prototype.m,Ne.prototype.close=Ne.prototype.close,NT=function(){return new no},CT=function(){return Kl()},IT=Wi,Wf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yl.NO_ERROR=0,Yl.TIMEOUT=8,Yl.HTTP_ERROR=6,Go=Yl,Sg.COMPLETE="complete",RT=Sg,yg.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",ue.prototype.listen=ue.prototype.J,Da=yg,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,wT=Nt}).apply(typeof To<"u"?To:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr="12.8.0";function Q2(e){Jr=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Em("@firebase/firestore");function Gs(){return ws.logLevel}function B(e,...t){if(ws.logLevel<=it.DEBUG){const n=t.map(Am);ws.debug(`Firestore (${Jr}): ${e}`,...n)}}function Kn(e,...t){if(ws.logLevel<=it.ERROR){const n=t.map(Am);ws.error(`Firestore (${Jr}): ${e}`,...n)}}function Or(e,...t){if(ws.logLevel<=it.WARN){const n=t.map(Am);ws.warn(`Firestore (${Jr}): ${e}`,...n)}}function Am(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,DT(e,i,n)}function DT(e,t,n){let i=`FIRESTORE (${Jr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Kn(i),new Error(i)}function ht(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||DT(t,s,i)}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(he.UNAUTHENTICATED))}shutdown(){}}class Y2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X2{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Li,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Li)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new xT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new he(t)}}class J2{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=he.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class $2{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new J2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=r=>{r.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,B("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ky(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=W2(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function st(e,t){return e<t?-1:e>t?1:0}function td(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Gh(s)===Gh(r)?st(s,r):Gh(s)?1:-1}return st(e.length,t.length)}const tI=55296,eI=57343;function Gh(e){const t=e.charCodeAt(0);return t>=tI&&t<=eI}function Vr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="__name__";class on{constructor(t,n,i){n===void 0?n=0:n>t.length&&F(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&F(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return on.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof on?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=on.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return st(t.length,n.length)}static compareSegments(t,n){const i=on.isNumericId(t),s=on.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?on.extractNumericId(t).compare(on.extractNumericId(n)):td(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ui.fromString(t.substring(4,t.length-2))}}class It extends on{construct(t,n,i){return new It(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new It(n)}static emptyPath(){return new It([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends on{construct(t,n,i){return new se(t,n,i)}static isValidIdentifier(t){return nI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yy}static keyField(){return new se([Yy])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(It.fromString(t))}static fromName(t){return new G(It.fromString(t).popFirst(5))}static empty(){return new G(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&It.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return It.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new It(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(e,t,n){if(!n)throw new H(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function sI(e,t,n,i){if(t===!0&&i===!0)throw new H(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Xy(e){if(!G.isDocumentKey(e))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function OT(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function wm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":F(12329,{type:typeof e})}function mn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(e);throw new H(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(e,t){const n={typeString:e};return t&&(n.value=t),n}function Pl(e,t){if(!OT(e))throw new H(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new H(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,$y=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(t){return At.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*$y);return new At(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Jy)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,At._jsonSchema))return new At(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Jy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Bt("string",At._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(t){return new Y(t)}static min(){return new Y(new At(0,0))}static max(){return new Y(new At(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function rI(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new Bi(s,G.empty(),t)}function aI(e){return new Bi(e.readTime,e.key,gl)}class Bi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Bi(Y.min(),G.empty(),gl)}static max(){return new Bi(Y.max(),G.empty(),gl)}}function lI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $r(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==oI)throw e;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&F(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new L((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let u=0;u<r;u++){const h=u;n(t[h]).next(d=>{a[h]=d,++o,o===r&&i(a)},d=>s(d))}})}static doWhile(t,n){return new L((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function cI(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function pc(e){return e==null}function xu(e){return e===0&&1/e==-1/0}function hI(e){return typeof e=="number"&&Number.isInteger(e)&&!xu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function fI(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zy(t)),t=dI(e.get(n),t);return Zy(t)}function dI(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case VT:n+="";break;default:n+=r}}return n}function Zy(e){return e+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function MT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t,n){this.comparator=t,this.root=n||te.EMPTY}insert(t,n){return new Ct(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new Ct(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new So(this.root,t,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new So(this.root,t,this.comparator,!0)}}class So{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??te.RED,this.left=s??te.EMPTY,this.right=r??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new te(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return te.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw F(43730,{key:this.key,value:this.value});if(this.right.isRed())throw F(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw F(27949);return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw F(57766)}get value(){throw F(16141)}get color(){throw F(16727)}get left(){throw F(29726)}get right(){throw F(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t){this.comparator=t,this.data=new Ct(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(t){return new t_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Qt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Qt(this.comparator);return n.data=t,n}}class t_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Me([])}unionWith(t){let n=new Qt(se.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Me(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new UT("Invalid base64 string: "+r):r}}(t);return new le(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=mI.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ot(e.seconds),nanos:Ot(e.nanos)}}function Ot(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hi(e){return typeof e=="string"?le.fromBase64String(e):le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="server_timestamp",kT="__type__",PT="__previous_value__",zT="__local_write_time__";function Im(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[kT])==null?void 0:i.stringValue)===LT}function yc(e){const t=e.mapValue.fields[PT];return Im(t)?yc(t):t}function pl(e){const t=qi(e.mapValue.fields[zT].timestampValue);return new At(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,i,s,r,a,o,u,h,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=g}}const Ou="(default)";class yl{constructor(t,n){this.projectId=t,this.database=n||Ou}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Ou}isEqual(t){return t instanceof yl&&t.projectId===this.projectId&&t.database===this.database}}function pI(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__type__",yI="__max__",Ao={mapValue:{}},BT="__vector__",Vu="value";function Gi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Im(e)?4:vI(e)?9007199254740991:_I(e)?10:11:F(28295,{value:e})}function Tn(e,t){if(e===t)return!0;const n=Gi(e);if(n!==Gi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pl(e).isEqual(pl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=qi(s.timestampValue),o=qi(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Hi(s.bytesValue).isEqual(Hi(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return Ot(s.geoPointValue.latitude)===Ot(r.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ot(s.integerValue)===Ot(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Ot(s.doubleValue),o=Ot(r.doubleValue);return a===o?xu(a)===xu(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Vr(e.arrayValue.values||[],t.arrayValue.values||[],Tn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Wy(a)!==Wy(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!Tn(a[u],o[u])))return!1;return!0}(e,t);default:return F(52216,{left:e})}}function _l(e,t){return(e.values||[]).find(n=>Tn(n,t))!==void 0}function Mr(e,t){if(e===t)return 0;const n=Gi(e),i=Gi(t);if(n!==i)return st(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=Ot(r.integerValue||r.doubleValue),u=Ot(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return e_(e.timestampValue,t.timestampValue);case 4:return e_(pl(e),pl(t));case 5:return td(e.stringValue,t.stringValue);case 6:return function(r,a){const o=Hi(r),u=Hi(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),u=a.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=st(o[h],u[h]);if(d!==0)return d}return st(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=st(Ot(r.latitude),Ot(a.latitude));return o!==0?o:st(Ot(r.longitude),Ot(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return n_(e.arrayValue,t.arrayValue);case 10:return function(r,a){var m,_,N,M;const o=r.fields||{},u=a.fields||{},h=(m=o[Vu])==null?void 0:m.arrayValue,d=(_=u[Vu])==null?void 0:_.arrayValue,g=st(((N=h==null?void 0:h.values)==null?void 0:N.length)||0,((M=d==null?void 0:d.values)==null?void 0:M.length)||0);return g!==0?g:n_(h,d)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===Ao.mapValue&&a===Ao.mapValue)return 0;if(r===Ao.mapValue)return 1;if(a===Ao.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=td(u[g],d[g]);if(m!==0)return m;const _=Mr(o[u[g]],h[d[g]]);if(_!==0)return _}return st(u.length,d.length)}(e.mapValue,t.mapValue);default:throw F(23264,{he:n})}}function e_(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=qi(e),i=qi(t),s=st(n.seconds,i.seconds);return s!==0?s:st(n.nanos,i.nanos)}function n_(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Mr(n[s],i[s]);if(r)return r}return st(n.length,i.length)}function Ur(e){return ed(e)}function ed(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=qi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Hi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=ed(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${ed(n.fields[a])}`;return s+"}"}(e.mapValue):F(61005,{value:e})}function Fo(e){switch(Gi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yc(e);return t?16+Fo(t):16;case 5:return 2*e.stringValue.length;case 6:return Hi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Fo(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Xi(i.fields,(r,a)=>{s+=r.length+Fo(a)}),s}(e.mapValue);default:throw F(13486,{value:e})}}function nd(e){return!!e&&"integerValue"in e}function Cm(e){return!!e&&"arrayValue"in e}function i_(e){return!!e&&"nullValue"in e}function s_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qo(e){return!!e&&"mapValue"in e}function _I(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[jT])==null?void 0:i.stringValue)===BT}function Xa(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Xi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Xa(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xa(e.arrayValue.values[n]);return t}return{...e}}function vI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.value=t}static empty(){return new be({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Qo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xa(n)}setAll(t){let n=se.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=Xa(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Qo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Qo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Xi(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new be(Xa(this.value))}}function qT(e){const t=[];return Xi(e.fields,(n,i)=>{const s=new se([n]);if(Qo(i)){const r=qT(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new Me(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new fe(t,0,Y.min(),Y.min(),Y.min(),be.empty(),0)}static newFoundDocument(t,n,i,s){return new fe(t,1,n,Y.min(),i,s,0)}static newNoDocument(t,n){return new fe(t,2,n,Y.min(),Y.min(),be.empty(),0)}static newUnknownDocument(t,n){return new fe(t,3,n,Y.min(),Y.min(),be.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=be.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=be.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,n){this.position=t,this.inclusive=n}}function r_(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=Mr(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function a_(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,n="asc"){this.field=t,this.dir=n}}function EI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class Ft extends HT{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new SI(t,n,i):n==="array-contains"?new wI(t,i):n==="in"?new RI(t,i):n==="not-in"?new II(t,i):n==="array-contains-any"?new CI(t,i):new Ft(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new AI(t,i):new bI(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mr(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(Mr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return F(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends HT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Sn(t,n)}matches(t){return GT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GT(e){return e.op==="and"}function FT(e){return TI(e)&&GT(e)}function TI(e){for(const t of e.filters)if(t instanceof Sn)return!1;return!0}function id(e){if(e instanceof Ft)return e.field.canonicalString()+e.op.toString()+Ur(e.value);if(FT(e))return e.filters.map(t=>id(t)).join(",");{const t=e.filters.map(n=>id(n)).join(",");return`${e.op}(${t})`}}function QT(e,t){return e instanceof Ft?function(i,s){return s instanceof Ft&&i.op===s.op&&i.field.isEqual(s.field)&&Tn(i.value,s.value)}(e,t):e instanceof Sn?function(i,s){return s instanceof Sn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&QT(a,s.filters[o]),!0):!1}(e,t):void F(19439)}function KT(e){return e instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ur(n.value)}`}(e):e instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(KT).join(" ,")+"}"}(e):"Filter"}class SI extends Ft{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class AI extends Ft{constructor(t,n){super(t,"in",n),this.keys=YT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bI extends Ft{constructor(t,n){super(t,"not-in",n),this.keys=YT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function YT(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class wI extends Ft{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cm(n)&&_l(n.arrayValue,this.value)}}class RI extends Ft{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_l(this.value.arrayValue,n)}}class II extends Ft{constructor(t,n){super(t,"not-in",n)}matches(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_l(this.value.arrayValue,n)}}class CI extends Ft{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>_l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function l_(e,t=null,n=[],i=[],s=null,r=null,a=null){return new NI(e,t,n,i,s,r,a)}function Nm(e){const t=X(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>id(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),pc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ur(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ur(i)).join(",")),t.Te=n}return t.Te}function Dm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!EI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QT(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!a_(e.startAt,t.startAt)&&a_(e.endAt,t.endAt)}function sd(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function DI(e,t,n,i,s,r,a,o){return new _c(e,t,n,i,s,r,a,o)}function vc(e){return new _c(e)}function o_(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function xI(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function OI(e){return e.collectionGroup!==null}function Ja(e){const t=X(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Qt(se.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Uu(r,i))}),n.has(se.keyField().canonicalString())||t.Ie.push(new Uu(se.keyField(),i))}return t.Ie}function gn(e){const t=X(e);return t.Ee||(t.Ee=VI(t,Ja(e))),t.Ee}function VI(e,t){if(e.limitType==="F")return l_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Uu(s.field,r)});const n=e.endAt?new Mu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Mu(e.startAt.position,e.startAt.inclusive):null;return l_(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function rd(e,t,n){return new _c(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ec(e,t){return Dm(gn(e),gn(t))&&e.limitType===t.limitType}function XT(e){return`${Nm(gn(e))}|lt:${e.limitType}`}function Fs(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>KT(s)).join(", ")}]`),pc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ur(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ur(s)).join(",")),`Target(${i})`}(gn(e))}; limitType=${e.limitType})`}function Tc(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):G.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Ja(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,u){const h=r_(a,o,u);return a.inclusive?h<=0:h<0}(i.startAt,Ja(i),s)||i.endAt&&!function(a,o,u){const h=r_(a,o,u);return a.inclusive?h>=0:h>0}(i.endAt,Ja(i),s))}(e,t)}function MI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JT(e){return(t,n)=>{let i=!1;for(const s of Ja(e)){const r=UI(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function UI(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(r,a,o){const u=a.data.field(r),h=o.data.field(r);return u!==null&&h!==null?Mr(u,h):F(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return F(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Xi(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Ct(G.comparator);function Yn(){return LI}const $T=new Ct(G.comparator);function xa(...e){let t=$T;for(const n of e)t=t.insert(n.key,n);return t}function ZT(e){let t=$T;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function cs(){return $a()}function WT(){return $a()}function $a(){return new Vs(e=>e.toString(),(e,t)=>e.isEqual(t))}const kI=new Ct(G.comparator),PI=new Qt(G.comparator);function rt(...e){let t=PI;for(const n of e)t=t.add(n);return t}const zI=new Qt(st);function jI(){return zI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(t)?"-0":t}}function t1(e){return{integerValue:""+e}}function BI(e,t){return hI(t)?t1(t):xm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this._=void 0}}function qI(e,t,n){return e instanceof Lu?function(s,r){const a={fields:{[kT]:{stringValue:LT},[zT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Im(r)&&(r=yc(r)),r&&(a.fields[PT]=r),{mapValue:a}}(n,t):e instanceof vl?n1(e,t):e instanceof El?i1(e,t):function(s,r){const a=e1(s,r),o=u_(a)+u_(s.Ae);return nd(a)&&nd(s.Ae)?t1(o):xm(s.serializer,o)}(e,t)}function HI(e,t,n){return e instanceof vl?n1(e,t):e instanceof El?i1(e,t):n}function e1(e,t){return e instanceof ku?function(i){return nd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class Lu extends Sc{}class vl extends Sc{constructor(t){super(),this.elements=t}}function n1(e,t){const n=s1(t);for(const i of e.elements)n.some(s=>Tn(s,i))||n.push(i);return{arrayValue:{values:n}}}class El extends Sc{constructor(t){super(),this.elements=t}}function i1(e,t){let n=s1(t);for(const i of e.elements)n=n.filter(s=>!Tn(s,i));return{arrayValue:{values:n}}}class ku extends Sc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function u_(e){return Ot(e.integerValue||e.doubleValue)}function s1(e){return Cm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function GI(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof vl&&s instanceof vl||i instanceof El&&s instanceof El?Vr(i.elements,s.elements,Tn):i instanceof ku&&s instanceof ku?Tn(i.Ae,s.Ae):i instanceof Lu&&s instanceof Lu}(e.transform,t.transform)}class FI{constructor(t,n){this.version=t,this.transformResults=n}}class pn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pn}static exists(t){return new pn(void 0,t)}static updateTime(t){return new pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ko(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ac{}function r1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new l1(e.key,pn.none()):new zl(e.key,e.data,pn.none());{const n=e.data,i=be.empty();let s=new Qt(se.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Ji(e.key,i,new Me(s.toArray()),pn.none())}}function QI(e,t,n){e instanceof zl?function(s,r,a){const o=s.value.clone(),u=h_(s.fieldTransforms,r,a.transformResults);o.setAll(u),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Ji?function(s,r,a){if(!Ko(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=h_(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(a1(s)),u.setAll(o),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Za(e,t,n,i){return e instanceof zl?function(r,a,o,u){if(!Ko(r.precondition,a))return o;const h=r.value.clone(),d=f_(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ji?function(r,a,o,u){if(!Ko(r.precondition,a))return o;const h=f_(r.fieldTransforms,u,a),d=a.data;return d.setAll(a1(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(r,a,o){return Ko(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function KI(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=e1(i.transform,s||null);r!=null&&(n===null&&(n=be.empty()),n.set(i.field,r))}return n||null}function c_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Vr(i,s,(r,a)=>GI(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zl extends Ac{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends Ac{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function a1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function h_(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,HI(a,o,n[s]))}return i}function f_(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,qI(r,a,t))}return i}class l1 extends Ac{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends Ac{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&QI(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Za(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Za(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=WT();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const u=r1(a,o);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),rt())}isEqual(t){return this.batchId===t.batchId&&Vr(this.mutations,t.mutations,(n,i)=>c_(n,i))&&Vr(this.baseMutations,t.baseMutations,(n,i)=>c_(n,i))}}class Om{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){ht(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return kI}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Om(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,ot;function ZI(e){switch(e){case k.OK:return F(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return F(15467,{code:e})}}function o1(e){if(e===void 0)return Kn("GRPC error has no .code"),k.UNKNOWN;switch(e){case Lt.OK:return k.OK;case Lt.CANCELLED:return k.CANCELLED;case Lt.UNKNOWN:return k.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return k.INTERNAL;case Lt.UNAVAILABLE:return k.UNAVAILABLE;case Lt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Lt.NOT_FOUND:return k.NOT_FOUND;case Lt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Lt.ABORTED:return k.ABORTED;case Lt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Lt.DATA_LOSS:return k.DATA_LOSS;default:return F(39323,{code:e})}}(ot=Lt||(Lt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Ui([4294967295,4294967295],0);function d_(e){const t=WI().encode(e),n=new bT;return n.update(t),new Uint8Array(n.digest())}function m_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ui([n,i],0),new Ui([s,r],0)]}class Vm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(i<0)throw new Oa(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ui.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(Ui.fromNumber(i)));return s.compare(tC)===1&&(s=new Ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=d_(t),[i,s]=m_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Vm(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=d_(t),[i,s]=m_(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new bc(Y.min(),s,new Ct(st),Yn(),rt())}}class jl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new jl(i,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=s}}class u1{constructor(t,n){this.targetId=t,this.Ce=n}}class c1{constructor(t,n,i=le.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=le.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=rt(),n=rt(),i=rt();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:F(38017,{changeType:r})}}),new jl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=p_()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yn(),this.He=bo(),this.Je=bo(),this.Ze=new Ct(st)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:F(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(sd(r))if(i===0){const a=new G(r.path);this.et(n,a,fe.newNoDocument(a,Y.min()))}else ht(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(t),u=o?this.ct(o,t,a):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=Hi(i).toUint8Array()}catch(u){if(u instanceof UT)return Or("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Vm(a,s,r)}catch(u){return Or(u instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&sd(o.target)){const u=new G(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,fe.newNoDocument(u,t))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=rt();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(t));const s=new bc(t,n,this.Ze,this.je,i);return this.je=Yn(),this.He=bo(),this.Je=bo(),this.Ze=new Ct(st),s}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new g_,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Qt(st),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Qt(st),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||B("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new g_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function bo(){return new Ct(G.comparator)}function p_(){return new Ct(G.comparator)}const nC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sC={and:"AND",or:"OR"};class rC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ad(e,t){return e.useProto3Json||pc(t)?t:{value:t}}function Pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function aC(e,t){return Pu(e,t.toTimestamp())}function yn(e){return ht(!!e,49232),Y.fromTimestamp(function(n){const i=qi(n);return new At(i.seconds,i.nanos)}(e))}function Mm(e,t){return ld(e,t).canonicalString()}function ld(e,t){const n=function(s){return new It(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function f1(e){const t=It.fromString(e);return ht(y1(t),10190,{key:t.toString()}),t}function od(e,t){return Mm(e.databaseId,t.path)}function Fh(e,t){const n=f1(t);if(n.get(1)!==e.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(m1(n))}function d1(e,t){return Mm(e.databaseId,t)}function lC(e){const t=f1(e);return t.length===4?It.emptyPath():m1(t)}function ud(e){return new It(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function m1(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function y_(e,t,n){return{name:od(e,t),fields:n.value.mapValue.fields}}function oC(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:F(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(ht(d===void 0||typeof d=="string",58123),le.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),le.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(h){const d=h.code===void 0?k.UNKNOWN:o1(h.code);return new H(d,h.message||"")}(a);n=new c1(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Fh(e,i.document.name),r=yn(i.document.updateTime),a=i.document.createTime?yn(i.document.createTime):Y.min(),o=new be({mapValue:{fields:i.document.fields}}),u=fe.newFoundDocument(s,r,a,o),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Yo(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Fh(e,i.document),r=i.readTime?yn(i.readTime):Y.min(),a=fe.newNoDocument(s,r),o=i.removedTargetIds||[];n=new Yo([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Fh(e,i.document),r=i.removedTargetIds||[];n=new Yo([],r,s,null)}else{if(!("filter"in t))return F(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new $I(s,r),o=i.targetId;n=new u1(o,a)}}return n}function uC(e,t){let n;if(t instanceof zl)n={update:y_(e,t.key,t.value)};else if(t instanceof l1)n={delete:od(e,t.key)};else if(t instanceof Ji)n={update:y_(e,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof YI))return F(16599,{dt:t.type});n={verify:od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof Lu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof vl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof El)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ku)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw F(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:aC(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:F(27497)}(e,t.precondition)),n}function cC(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?yn(s.updateTime):yn(r);return a.isEqual(Y.min())&&(a=yn(r)),new FI(a,s.transformResults||[])}(n,t))):[]}function hC(e,t){return{documents:[d1(e,t.path)]}}function fC(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=d1(e,s);const r=function(h){if(h.length!==0)return p1(Sn.create(h,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Qs(m.field),direction:gC(m.dir)}}(d))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ad(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:s}}function dC(e){let t=lC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ht(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:t=t.child(d.collectionId)}let r=[];n.where&&(r=function(g){const m=g1(g);return m instanceof Sn&&FT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(N){return new Uu(Ks(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(g){let m;return m=typeof g=="object"?g.value:g,pc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new Mu(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new Mu(_,m)}(n.endAt)),DI(t,s,a,r,o,"F",u,h)}function mC(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function g1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ks(n.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ks(n.unaryFilter.field);return Ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ks(n.unaryFilter.field);return Ft.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ks(n.unaryFilter.field);return Ft.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return F(61313);default:return F(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ft.create(Ks(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return F(58110);default:return F(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(i=>g1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return F(1026)}}(n.compositeFilter.op))}(e):F(30097,{filter:e})}function gC(e){return nC[e]}function pC(e){return iC[e]}function yC(e){return sC[e]}function Qs(e){return{fieldPath:e.canonicalString()}}function Ks(e){return se.fromServerFormat(e.fieldPath)}function p1(e){return e instanceof Ft?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:pC(n.op),value:n.value}}}(e):e instanceof Sn?function(n){const i=n.getFilters().map(s=>p1(s));return i.length===1?i[0]:{compositeFilter:{op:yC(n.op),filters:i}}}(e):F(54877,{filter:e})}function _C(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function y1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function _1(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,n,i,s,r=Y.min(),a=Y.min(),o=le.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.yt=t}}function EC(e){const t=dC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?rd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.Sn=new SC}addToCollectionParentIndex(t,n){return this.Sn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Bi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Bi.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class SC{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Qt(It.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Qt(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v1=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(v1,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Lr(0)}static ar(){return new Lr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",AC=1048576;function E_([e,t],[n,i]){const s=st(e,n);return s===0?st(t,i):s}class bC{constructor(t){this.Pr=t,this.buffer=new Qt(E_),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();E_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){B(v_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zr(n)?B(v_,"Ignoring IndexedDB error during garbage collection: ",n):await $r(n)}await this.Ar(3e5)})}}class RC{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return L.resolve(gc.ce);const i=new bC(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(__)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,s,r,a,o,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(t,s))).next(g=>(i=g,o=Date.now(),this.removeTargets(t,i,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Gs()<=it.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:g})))}}function IC(e,t){return new RC(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.changes=new Vs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Za(i.mutation,s,Me.empty(),At.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,rt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=rt()){const s=cs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=xa();return r.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=cs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,rt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Yn();const a=$a(),o=function(){return $a()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof Ji)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Za(d.mutation,h,d.mutation.getFieldMask(),At.now())):a.set(h.key,Me.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>o.set(h,new NC(d,a.get(h)??null))),o))}recalculateAndSaveOverlays(t,n){const i=$a();let s=new Ct((a,o)=>a-o),r=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Me.empty();d=o.applyToLocalView(h,d),i.set(u,d);const g=(s.get(o.batchId)||rt()).add(u);s=s.insert(o.batchId,g)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,g=WT();d.forEach(m=>{if(!r.has(m)){const _=r1(n.get(m),i.get(m));_!==null&&g.set(m,_),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,h,g))}return L.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return xI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):OI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):L.resolve(cs());let o=gl,u=r;return a.next(h=>L.forEach(h,(d,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),r.get(d)?L.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,r)).next(()=>this.computeViews(t,u,h,rt())).next(d=>({batchId:o,changes:ZT(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let s=xa();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=xa();return this.indexManager.getCollectionParents(t,r).next(o=>L.forEach(o,u=>{const h=function(g,m){return new _c(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,h,i,s).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,fe.newInvalidDocument(d)))});let o=xa();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&Za(d.mutation,h,Me.empty(),At.now()),Tc(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yn(s.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(s){return{name:s.name,query:EC(s.bundledQuery),readTime:yn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.overlays=new Ct(G.comparator),this.Lr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=cs();return L.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.bt(t,n,r)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const s=cs(),r=n.length+1,a=new G(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ct((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=cs(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=cs(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=s)););return L.resolve(o)}bt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new JI(n,i));let r=this.Lr.get(n);r===void 0&&(r=rt(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.kr=new Qt(Xt.Kr),this.qr=new Qt(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Xt(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Xt(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new G(new It([])),i=new Xt(n,t),s=new Xt(n,t+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new G(new It([])),i=new Xt(n,t),s=new Xt(n,t+1);let r=rt();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new Xt(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Xt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return G.comparator(t.key,n.key)||st(t.Hr,n.Hr)}static Ur(t,n){return st(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Qt(Xt.Kr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new XI(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Jr=this.Jr.add(new Xt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return L.resolve(a)}lookupMutationBatch(t,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Rm:this.Yn-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Xt(n,0),s=new Xt(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const o=this.Zr(a.Hr);r.push(o)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Qt(st);return n.forEach(s=>{const r=new Xt(s,0),a=new Xt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],o=>{i=i.add(o.Hr)})}),L.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;G.isDocumentKey(r)||(r=r.child(""));const a=new Xt(new G(r),0);let o=new Qt(st);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(o=o.add(u.Hr)),!0)},a),L.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return L.forEach(n.mutations,s=>{const r=new Xt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Xt(n,0),s=this.Jr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.ti=t,this.docs=function(){return new Ct(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():fe.newInvalidDocument(n))}getEntries(t,n){let i=Yn();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():fe.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Yn();const a=n.path,o=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||lI(aI(d),i)<=0||(s.has(d.key)||Tc(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(t,n,i,s){F(9500)}ni(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new LC(this)}getSize(t){return L.resolve(this.size)}}class LC extends CC{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.persistence=t,this.ri=new Vs(n=>Nm(n),Dm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.ii=0,this.si=new Um,this.targetCount=0,this.oi=Lr._r()}forEachTarget(t,n){return this.ri.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),L.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Lr(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.lr(n),L.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),L.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),L.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(t,n){this._i={},this.overlays={},this.ai=new gc(0),this.ui=!1,this.ui=!0,this.ci=new VC,this.referenceDelegate=t(this),this.li=new kC(this),this.indexManager=new TC,this.remoteDocumentCache=function(s){return new UC(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new vC(n),this.Pi=new xC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new MC(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){B("MemoryPersistence","Starting transaction:",t);const s=new PC(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(t,n){return L.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class PC extends uI{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new Um,this.Ai=null}static Vi(t){return new Lm(t)}get di(){if(this.Ai)return this.Ai;throw F(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),L.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,i=>{const s=G.fromPath(i);return this.mi(t,s).next(r=>{r||n.removeEntry(s,Y.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class zu{constructor(t,n){this.persistence=t,this.fi=new Vs(i=>fI(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=IC(this,n)}static Vi(t,n){return new zu(t,n)}Ti(){}Ii(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return L.forEach(this.fi,(i,s)=>this.wr(t,i,s).next(r=>r?L.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(t,a=>this.wr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,Y.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),L.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),L.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fo(t.data.value)),n}wr(t,n,i){return L.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return L.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=s}static Es(t,n){let i=rt(),s=rt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new km(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return RR()?8:cI(de())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.gs(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new zC;return this.ys(t,n,a).next(o=>{if(r.result=o,this.As)return this.ws(t,n,a,o.size)})}).next(()=>r.result)}ws(t,n,i,s){return i.documentReadCount<this.Vs?(Gs()<=it.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Gs()<=it.DEBUG&&B("QueryEngine","Query:",Fs(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Gs()<=it.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gn(n))):L.resolve())}gs(t,n){if(o_(n))return L.resolve(null);let i=gn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=rd(n,null,"F"),i=gn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=rt(...r);return this.fs.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.bs(n,o);return this.Ss(n,h,a,u.readTime)?this.gs(t,rd(n,null,"F")):this.Ds(t,h,n,u)}))})))}ps(t,n,i,s){return o_(n)||s.isEqual(Y.min())?L.resolve(null):this.fs.getDocuments(t,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?L.resolve(null):(Gs()<=it.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fs(n)),this.Ds(t,a,n,rI(s,gl)).next(o=>o))})}bs(t,n){let i=new Qt(JT(t));return n.forEach((s,r)=>{Tc(t,r)&&(i=i.add(r))}),i}Ss(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(t,n,i){return Gs()<=it.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.fs.getDocumentsMatchingQuery(t,n,Bi.min(),i)}Ds(t,n,i,s){return this.fs.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="LocalStore",BC=3e8;class qC{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Ct(st),this.Fs=new Vs(r=>Nm(r),Dm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function HC(e,t,n,i){return new qC(e,t,n,i)}async function T1(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let u=rt();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ns:h,removedBatchIds:a,addedBatchIds:o}))})})}function GC(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const g=h.batch,m=g.keys();let _=L.resolve();return m.forEach(N=>{_=_.next(()=>d.getEntry(u,N)).next(M=>{const V=h.docVersions.get(N);ht(V!==null,48541),M.version.compareTo(V)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),_.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=rt();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function S1(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function FC(e,t){const n=X(e),i=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const o=[];t.targetChanges.forEach((d,g)=>{const m=s.get(g);if(!m)return;o.push(n.li.removeMatchingKeys(r,d.removedDocuments,g).next(()=>n.li.addMatchingKeys(r,d.addedDocuments,g)));let _=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(g)!==null?_=_.withResumeToken(le.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),s=s.insert(g,_),function(M,V,S){return M.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=BC?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,_,d)&&o.push(n.li.updateTargetData(r,_))});let u=Yn(),h=rt();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),o.push(QC(r,a,t.documentUpdates).next(d=>{u=d.Bs,h=d.Ls})),!i.isEqual(Y.min())){const d=n.li.getLastRemoteSnapshotVersion(r).next(g=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(d)}return L.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.vs=s,r))}function QC(e,t,n){let i=rt(),s=rt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Yn();return n.forEach((o,u)=>{const h=r.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(o)),u.isNoDocument()&&u.version.isEqual(Y.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):B(Pm,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Bs:a,Ls:s}})}function KC(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Rm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function YC(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,t).next(r=>r?(s=r,L.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new Si(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function cd(e,t,n){const i=X(e),s=i.vs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Zr(a))throw a;B(Pm,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(s.target)}function T_(e,t,n){const i=X(e);let s=Y.min(),r=rt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=X(u),m=g.Fs.get(d);return m!==void 0?L.resolve(g.vs.get(m)):g.li.getTargetData(h,d)}(i,a,gn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,o.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?s:Y.min(),n?r:rt())).next(o=>(XC(i,MI(t),o),{documents:o,ks:r})))}function XC(e,t,n){let i=e.Ms.get(t)||Y.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ms.set(t,i)}class S_{constructor(){this.activeTargetIds=jI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JC{constructor(){this.vo=new S_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new S_,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class b_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){B(A_,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){B(A_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function hd(){return wo===null?wo=function(){return 268435456+Math.round(2147483648*Math.random())}():wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="RestConnection",ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class WC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===Ou?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,r){const a=hd(),o=this.Qo(t,n.toUriEncodedString());B(Qh,`Sending RPC '${t}' ${a}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,r);const{host:h}=new URL(o),d=Yr(h);return this.zo(t,o,u,i,d).then(g=>(B(Qh,`Received RPC '${t}' ${a}: `,g),g),g=>{throw Or(Qh,`RPC '${t}' ${a} failed with error: `,g,"url: ",o,"request:",i),g})}jo(t,n,i,s,r,a){return this.Wo(t,n,i,s,r)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}Qo(t,n){const i=ZC[t];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce="WebChannelConnection",ba=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class mr extends WC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!mr.c_){const t=CT();ba(t,IT.STAT_EVENT,n=>{n.stat===Wf.PROXY?B(ce,"STAT_EVENT: detected buffering proxy"):n.stat===Wf.NOPROXY&&B(ce,"STAT_EVENT: detected no buffering proxy")}),mr.c_=!0}}zo(t,n,i,s,r){const a=hd();return new Promise((o,u)=>{const h=new wT;h.setWithCredentials(!0),h.listenOnce(RT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Go.NO_ERROR:const g=h.getResponseJson();B(ce,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(g)),o(g);break;case Go.TIMEOUT:B(ce,`RPC '${t}' ${a} timed out`),u(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const m=h.getStatus();if(B(ce,`RPC '${t}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const N=_==null?void 0:_.error;if(N&&N.status&&N.message){const M=function(S){const v=S.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(N.status);u(new H(M,N.message))}else u(new H(k.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(k.UNAVAILABLE,"Connection failed."));break;default:F(9055,{l_:t,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{B(ce,`RPC '${t}' ${a} completed.`)}});const d=JSON.stringify(s);B(ce,`RPC '${t}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}T_(t,n,i){const s=hd(),r=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const h=r.join("");B(ce,`Creating RPC '${t}' stream ${s}: ${h}`,o);const d=a.createWebChannel(h,o);this.I_(d);let g=!1,m=!1;const _=new tN({Ho:N=>{m?B(ce,`Not sending because RPC '${t}' stream ${s} is closed:`,N):(g||(B(ce,`Opening RPC '${t}' stream ${s} transport.`),d.open(),g=!0),B(ce,`RPC '${t}' stream ${s} sending:`,N),d.send(N))},Jo:()=>d.close()});return ba(d,Da.EventType.OPEN,()=>{m||(B(ce,`RPC '${t}' stream ${s} transport opened.`),_.i_())}),ba(d,Da.EventType.CLOSE,()=>{m||(m=!0,B(ce,`RPC '${t}' stream ${s} transport closed`),_.o_(),this.E_(d))}),ba(d,Da.EventType.ERROR,N=>{m||(m=!0,Or(ce,`RPC '${t}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),_.o_(new H(k.UNAVAILABLE,"The operation could not be completed")))}),ba(d,Da.EventType.MESSAGE,N=>{var M;if(!m){const V=N.data[0];ht(!!V,16349);const S=V,v=(S==null?void 0:S.error)||((M=S[0])==null?void 0:M.error);if(v){B(ce,`RPC '${t}' stream ${s} received error:`,v);const R=v.status;let D=function(E){const y=Lt[E];if(y!==void 0)return o1(y)}(R),z=v.message;D===void 0&&(D=k.INTERNAL,z="Unknown error status: "+R+" with message "+v.message),m=!0,_.o_(new H(D,z)),d.close()}else B(ce,`RPC '${t}' stream ${s} received:`,V),_.__(V)}}),mr.u_(),setTimeout(()=>{_.s_()},0),_}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return NT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){return new mr(e)}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(e){return new rC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.c_=!1;class A1{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&B("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class b1{constructor(t,n,i,s,r,a,o,u){this.Ci=t,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new H(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return B(w_,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(B(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nN extends b1{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=oC(this.serializer,t),i=function(r){if(!("targetChange"in r))return Y.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Y.min():a.readTime?yn(a.readTime):Y.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=ud(this.serializer),n.addTarget=function(r,a){let o;const u=a.target;if(o=sd(u)?{documents:hC(r,u)}:{query:fC(r,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=h1(r,a.resumeToken);const h=ad(r,a.expectedCount);h!==null&&(o.expectedCount=h)}else if(a.snapshotVersion.compareTo(Y.min())>0){o.readTime=Pu(r,a.snapshotVersion.toTimestamp());const h=ad(r,a.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=mC(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=ud(this.serializer),n.removeTarget=t,this.K_(n)}}class iN extends b1{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=cC(t.writeResults,t.commitTime),i=yn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=ud(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>uC(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class rN extends sN{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(t,ld(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(k.UNKNOWN,r.toString())})}jo(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(t,ld(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function aN(e,t,n,i){return new rN(e,t,n,i)}class lN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kn(n),this.aa=!1):B("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="RemoteStore";class oN{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{Ms(this)&&(B(Rs,"Restarting streams for network reachability change."),await async function(u){const h=X(u);h.Ea.add(4),await Bl(h),h.Va.set("Unknown"),h.Ea.delete(4),await Rc(h)}(this))})}),this.Va=new lN(i,s)}}async function Rc(e){if(Ms(e))for(const t of e.Ra)await t(!0)}async function Bl(e){for(const t of e.Ra)await t(!1)}function w1(e,t){const n=X(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),qm(n)?Bm(n):Wr(n).O_()&&jm(n,t))}function zm(e,t){const n=X(e),i=Wr(n);n.Ia.delete(t),i.O_()&&R1(n,t),n.Ia.size===0&&(i.O_()?i.L_():Ms(n)&&n.Va.set("Unknown"))}function jm(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wr(e).Z_(t)}function R1(e,t){e.da.$e(t),Wr(e).X_(t)}function Bm(e){e.da=new eC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Wr(e).start(),e.Va.ua()}function qm(e){return Ms(e)&&!Wr(e).x_()&&e.Ia.size>0}function Ms(e){return X(e).Ea.size===0}function I1(e){e.da=void 0}async function uN(e){e.Va.set("Online")}async function cN(e){e.Ia.forEach((t,n)=>{jm(e,t)})}async function hN(e,t){I1(e),qm(e)?(e.Va.ha(t),Bm(e)):e.Va.set("Unknown")}async function fN(e,t,n){if(e.Va.set("Online"),t instanceof c1&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.da.removeTarget(o))}(e,t)}catch(i){B(Rs,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await ju(e,i)}else if(t instanceof Yo?e.da.Xe(t):t instanceof u1?e.da.st(t):e.da.tt(t),!n.isEqual(Y.min()))try{const i=await S1(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.da.Tt(a);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ia.get(h);d&&r.Ia.set(h,d.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,h)=>{const d=r.Ia.get(u);if(!d)return;r.Ia.set(u,d.withResumeToken(le.EMPTY_BYTE_STRING,d.snapshotVersion)),R1(r,u);const g=new Si(d.target,u,h,d.sequenceNumber);jm(r,g)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){B(Rs,"Failed to raise snapshot:",i),await ju(e,i)}}async function ju(e,t,n){if(!Zr(t))throw t;e.Ea.add(1),await Bl(e),e.Va.set("Offline"),n||(n=()=>S1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{B(Rs,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Rc(e)})}function C1(e,t){return t().catch(n=>ju(e,n,t))}async function Ic(e){const t=X(e),n=Fi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;dN(t);)try{const s=await KC(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,mN(t,s)}catch(s){await ju(t,s)}N1(t)&&D1(t)}function dN(e){return Ms(e)&&e.Ta.length<10}function mN(e,t){e.Ta.push(t);const n=Fi(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function N1(e){return Ms(e)&&!Fi(e).x_()&&e.Ta.length>0}function D1(e){Fi(e).start()}async function gN(e){Fi(e).ra()}async function pN(e){const t=Fi(e);for(const n of e.Ta)t.ea(n.mutations)}async function yN(e,t,n){const i=e.Ta.shift(),s=Om.from(i,t,n);await C1(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ic(e)}async function _N(e,t){t&&Fi(e).Y_&&await async function(i,s){if(function(a){return ZI(a)&&a!==k.ABORTED}(s.code)){const r=i.Ta.shift();Fi(i).B_(),await C1(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ic(i)}}(e,t),N1(e)&&D1(e)}async function R_(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),B(Rs,"RemoteStore received new credentials");const i=Ms(n);n.Ea.add(3),await Bl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Rc(n)}async function vN(e,t){const n=X(e);t?(n.Ea.delete(2),await Rc(n)):t||(n.Ea.add(2),await Bl(n),n.Va.set("Unknown"))}function Wr(e){return e.ma||(e.ma=function(n,i,s){const r=X(n);return r.sa(),new nN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:uN.bind(null,e),Yo:cN.bind(null,e),t_:hN.bind(null,e),J_:fN.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),qm(e)?Bm(e):e.Va.set("Unknown")):(await e.ma.stop(),I1(e))})),e.ma}function Fi(e){return e.fa||(e.fa=function(n,i,s){const r=X(n);return r.sa(),new iN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:gN.bind(null,e),t_:_N.bind(null,e),ta:pN.bind(null,e),na:yN.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Ic(e)):(await e.fa.stop(),e.Ta.length>0&&(B(Rs,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new Hm(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(e,t){if(Kn("AsyncQueue",`${t}: ${e}`),Zr(e))return new H(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{static emptySet(t){return new gr(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=xa(),this.sortedSet=new Ct(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new gr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ga=new Ct(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):F(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class kr{constructor(t,n,i,s,r,a,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new kr(t,n,gr.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ec(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class TN{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=X(n),r=s.queries;s.queries=C_(),r.forEach((a,o)=>{for(const u of o.ba)u.onError(i)})})(this,new H(k.ABORTED,"Firestore shutting down"))}}function C_(){return new Vs(e=>XT(e),Ec)}async function x1(e,t){const n=X(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Sa()&&t.Da()&&(i=2):(r=new EN,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=Gm(a,`Initialization of query '${Fs(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.ba.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Fm(n)}async function O1(e,t){const n=X(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(t);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=t.Da()?0:1:!r.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SN(e,t){const n=X(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.ba)o.Fa(s)&&(i=!0);a.wa=s}}i&&Fm(n)}function AN(e,t,n){const i=X(e),s=i.queries.get(t);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(t)}function Fm(e){e.Ca.forEach(t=>{t.next()})}var fd,N_;(N_=fd||(fd={})).Ma="default",N_.Cache="cache";class V1{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new kr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=kr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t){this.key=t}}class U1{constructor(t){this.key=t}}class bN{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.eu=JT(t),this.tu=new gr(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new I_,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((d,g)=>{const m=s.get(d),_=Tc(this.query,g)?g:null,N=!!m&&this.mutatedKeys.has(m.key),M=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;m&&_?m.data.isEqual(_.data)?N!==M&&(i.track({type:3,doc:_}),V=!0):this.su(m,_)||(i.track({type:2,doc:_}),V=!0,(u&&this.eu(_,u)>0||h&&this.eu(_,h)<0)&&(o=!0)):!m&&_?(i.track({type:0,doc:_}),V=!0):m&&!_&&(i.track({type:1,doc:m}),V=!0,(u||h)&&(o=!0)),V&&(_?(a=a.add(_),r=M?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{tu:a,iu:i,Ss:o,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((d,g)=>function(_,N){const M=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F(20277,{Vt:V})}};return M(_)-M(N)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(i),s=s??!1;const o=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Xa;return this.Xa=u,a.length!==0||h?{snapshot:new kr(this.query,t.tu,r,a,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=rt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new U1(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new M1(i))}),n}cu(t){this.Za=t.ks,this.Ya=rt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return kr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qm="SyncEngine";class wN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class RN{constructor(t){this.key=t,this.hu=!1}}class IN{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vs(o=>XT(o),Ec),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ct(G.comparator),this.Au=new Map,this.Vu=new Um,this.du={},this.mu=new Map,this.fu=Lr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CN(e,t,n=!0){const i=B1(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await L1(i,t,n,!0),s}async function NN(e,t){const n=B1(e);await L1(n,t,!0,!1)}async function L1(e,t,n,i){const s=await YC(e.localStore,gn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await DN(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&w1(e.remoteStore,s),o}async function DN(e,t,n,i,s){e.pu=(g,m,_)=>async function(M,V,S,v){let R=V.view.ru(S);R.Ss&&(R=await T_(M.localStore,V.query,!1).then(({documents:E})=>V.view.ru(E,R)));const D=v&&v.targetChanges.get(V.targetId),z=v&&v.targetMismatches.get(V.targetId)!=null,q=V.view.applyChanges(R,M.isPrimaryClient,D,z);return x_(M,V.targetId,q.au),q.snapshot}(e,g,m,_);const r=await T_(e.localStore,t,!0),a=new bN(t,r.ks),o=a.ru(r.documents),u=jl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),h=a.applyChanges(o,e.isPrimaryClient,u);x_(e,n,h.au);const d=new wN(t,n,a);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function xN(e,t,n){const i=X(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Ec(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await cd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&zm(i.remoteStore,s.targetId),dd(i,s.targetId)}).catch($r)):(dd(i,s.targetId),await cd(i.localStore,s.targetId,!0))}async function ON(e,t){const n=X(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),zm(n.remoteStore,i.targetId))}async function VN(e,t,n){const i=jN(e);try{const s=await function(a,o){const u=X(a),h=At.now(),d=o.reduce((_,N)=>_.add(N.key),rt());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let N=Yn(),M=rt();return u.xs.getEntries(_,d).next(V=>{N=V,N.forEach((S,v)=>{v.isValidDocument()||(M=M.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,N)).next(V=>{g=V;const S=[];for(const v of o){const R=KI(v,g.get(v.key).overlayedDocument);R!=null&&S.push(new Ji(v.key,R,qT(R.value.mapValue),pn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,S,o)}).next(V=>{m=V;const S=V.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(_,V.batchId,S)})}).then(()=>({batchId:m.batchId,changes:ZT(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,u){let h=a.du[a.currentUser.toKey()];h||(h=new Ct(st)),h=h.insert(o,u),a.du[a.currentUser.toKey()]=h}(i,s.batchId,n),await ql(i,s.changes),await Ic(i.remoteStore)}catch(s){const r=Gm(s,"Failed to persist write");n.reject(r)}}async function k1(e,t){const n=X(e);try{const i=await FC(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ht(a.hu,14607):s.removedDocuments.size>0&&(ht(a.hu,42227),a.hu=!1))}),await ql(n,i,t)}catch(i){await $r(i)}}function D_(e,t,n){const i=X(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const o=a.view.va(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const u=X(a);u.onlineState=o;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.ba)m.va(o)&&(h=!0)}),h&&Fm(u)}(i.eventManager,t),s.length&&i.Pu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function MN(e,t,n){const i=X(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let a=new Ct(G.comparator);a=a.insert(r,fe.newNoDocument(r,Y.min()));const o=rt().add(r),u=new bc(Y.min(),new Map,new Ct(st),a,o);await k1(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(t),Km(i)}else await cd(i.localStore,t,!1).then(()=>dd(i,t,n)).catch($r)}async function UN(e,t){const n=X(e),i=t.batch.batchId;try{const s=await GC(n.localStore,t);z1(n,i,null),P1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ql(n,s)}catch(s){await $r(s)}}async function LN(e,t,n){const i=X(e);try{const s=await function(a,o){const u=X(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(g=>(ht(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);z1(i,t,n),P1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ql(i,s)}catch(s){await $r(s)}}function P1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function z1(e,t,n){const i=X(e);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.du[i.currentUser.toKey()]=s}}function dd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||j1(e,i)})}function j1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(zm(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Km(e))}function x_(e,t,n){for(const i of n)i instanceof M1?(e.Vu.addReference(i.key,t),kN(e,i)):i instanceof U1?(B(Qm,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||j1(e,i.key)):F(19791,{wu:i})}function kN(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(B(Qm,"New document in limbo: "+n),e.Eu.add(i),Km(e))}function Km(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(It.fromString(t)),i=e.fu.next();e.Au.set(i,new RN(n)),e.Ru=e.Ru.insert(n,i),w1(e.remoteStore,new Si(gn(vc(n.path)),i,"TargetPurposeLimboResolution",gc.ce))}}async function ql(e,t,n){const i=X(e),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{a.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=km.Es(u.targetId,h);r.push(g)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(u,h){const d=X(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(h,m=>L.forEach(m.Ts,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>L.forEach(m.Is,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!Zr(g))throw g;B(Pm,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.vs.get(m),N=_.snapshotVersion,M=_.withLastLimboFreeSnapshotVersion(N);d.vs=d.vs.insert(m,M)}}}(i.localStore,r))}async function PN(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){B(Qm,"User change. New user:",t.toKey());const i=await T1(n.localStore,t);n.currentUser=t,function(r,a){r.mu.forEach(o=>{o.forEach(u=>{u.reject(new H(k.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ql(n,i.Ns)}}function zN(e,t){const n=X(e),i=n.Au.get(t);if(i&&i.hu)return rt().add(i.key);{let s=rt();const r=n.Iu.get(t);if(!r)return s;for(const a of r){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function B1(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MN.bind(null,t),t.Pu.J_=SN.bind(null,t.eventManager),t.Pu.yu=AN.bind(null,t.eventManager),t}function jN(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LN.bind(null,t),t}class Bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return HC(this.persistence,new jC,t.initialUser,this.serializer)}Cu(t){return new E1(Lm.Vi,this.serializer)}Du(t){return new JC}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bu.provider={build:()=>new Bu};class BN extends Bu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ht(this.persistence.referenceDelegate instanceof zu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new wC(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new E1(i=>zu.Vi(i,n),this.serializer)}}class md{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>D_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PN.bind(null,this.syncEngine),await vN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TN}()}createDatastore(t){const n=wc(t.databaseInfo.databaseId),i=eN(t.databaseInfo);return aN(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new oN(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>D_(this.syncEngine,n,0),function(){return b_.v()?new b_:new $C}())}createSyncEngine(t,n){return function(s,r,a,o,u,h,d){const g=new IN(s,r,a,o,u,h);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=X(s);B(Rs,"RemoteStore shutting down."),r.Ea.add(5),await Bl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Kn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class qN{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=he.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{B(Qi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(B(Qi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Gm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Yh(e,t){e.asyncQueue.verifyOperationInProgress(),B(Qi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await T1(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function O_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await HN(e);B(Qi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>R_(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>R_(t.remoteStore,s)),e._onlineComponents=t}async function HN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){B(Qi,"Using user provided OfflineComponentProvider");try{await Yh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===k.FAILED_PRECONDITION||s.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Or("Error using user provided cache. Falling back to memory cache: "+n),await Yh(e,new Bu)}}else B(Qi,"Using default OfflineComponentProvider"),await Yh(e,new BN(void 0));return e._offlineComponents}async function H1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(B(Qi,"Using user provided OnlineComponentProvider"),await O_(e,e._uninitializedComponentsProvider._online)):(B(Qi,"Using default OnlineComponentProvider"),await O_(e,new md))),e._onlineComponents}function GN(e){return H1(e).then(t=>t.syncEngine)}async function gd(e){const t=await H1(e),n=t.eventManager;return n.onListen=CN.bind(null,t.syncEngine),n.onUnlisten=xN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=NN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ON.bind(null,t.syncEngine),n}function FN(e,t,n,i){const s=new q1(i),r=new V1(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>x1(await gd(e),r)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>O1(await gd(e),r))}}function QN(e,t,n={}){const i=new Li;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,h){const d=new q1({next:m=>{d.Nu(),a.enqueueAndForget(()=>O1(r,g));const _=m.docs.has(o);!_&&m.fromCache?h.reject(new H(k.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new H(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new V1(vc(o.path),d,{includeMetadataChanges:!0,Ka:!0});return x1(r,g)}(await gd(e),e.asyncQueue,t,n,i)),i.promise}function KN(e,t){const n=new Li;return e.asyncQueue.enqueueAndForget(async()=>VN(await GN(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="ComponentProvider",V_=new Map;function XN(e,t,n,i,s){return new gI(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,G1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firestore.googleapis.com",M_=!0;class U_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F1,this.ssl=M_}else this.host=t.host,this.ssl=t.ssl??M_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=v1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AC)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G1(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ym{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new K2;switch(i.type){case"firstParty":return new $2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=V_.get(n);i&&(B(YN,"Removing Datastore"),V_.delete(n),i.terminate())}(this),Promise.resolve()}}function JN(e,t,n,i={}){var h;e=mn(e,Ym);const s=Yr(t),r=e._getSettings(),a={...r,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&(pT(`https://${o}`),yT("Firestore",!0)),r.host!==F1&&r.host!==o&&Or("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:o,ssl:s,emulatorOptions:i};if(!As(u,a)&&(e._setSettings(u),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=he.MOCK_USER;else{d=yR(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new he(m)}e._authCredentials=new Y2(new xT(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Cc(this.firestore,t,this._query)}}class qt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qt(this.firestore,t,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Pl(n,qt._jsonSchema))return new qt(t,i||null,new G(It.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Tl extends Cc{constructor(t,n,i){super(t,n,vc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qt(this.firestore,null,new G(t))}withConverter(t){return new Tl(this.firestore,t,this._path)}}function Ro(e,t,...n){if(e=Ie(e),arguments.length===1&&(t=bm.newId()),iI("doc","path",t),e instanceof Ym){const i=It.fromString(t,...n);return Xy(i),new qt(e,null,new G(i))}{if(!(e instanceof qt||e instanceof Tl))throw new H(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(It.fromString(t,...n));return Xy(i),new qt(e.firestore,e instanceof Tl?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class k_{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A1(this,"async_queue_retry"),this._c=()=>{const i=Kh();i&&B(L_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Li;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Zr(t))throw t;B(L_,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Kn("INTERNAL UNHANDLED ERROR: ",P_(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Hm.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&F(47125,{Pc:P_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function P_(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Pr extends Ym{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new k_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new k_(t),this._firestoreClient=void 0,await t}}}function $N(e,t){const n=typeof e=="object"?e:TT(),i=typeof e=="string"?e:Ou,s=Sm(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=gR("firestore");r&&JN(s,...r)}return s}function Xm(e){if(e._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ZN(e),e._firestoreClient}function ZN(e){var i,s,r,a;const t=e._freezeSettings(),n=XN(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(s=e._app)==null?void 0:s.options.apiKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new qN(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xe(le.fromBase64String(t))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xe(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Xe._jsonSchema))return Xe.fromBase64String(t.bytes)}}Xe._jsonSchemaVersion="firestore/bytes/1.0",Xe._jsonSchema={type:Bt("string",Xe._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_n._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,_n._jsonSchema))return new _n(t.latitude,t.longitude)}}_n._jsonSchemaVersion="firestore/geoPoint/1.0",_n._jsonSchema={type:Bt("string",_n._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:sn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,sn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new sn(t.vectorValues);throw new H(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sn._jsonSchemaVersion="firestore/vectorValue/1.0",sn._jsonSchema={type:Bt("string",sn._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=/^__.*__$/;class tD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms):new zl(t,this.data,n,this.fieldTransforms)}}class Q1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ji(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function K1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F(40011,{dataSource:e})}}class Zm{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return qu(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(K1(this.dataSource)&&WN.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class eD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||wc(t)}createContext(t,n,i,s=!1){return new Zm({dataSource:t,methodName:n,targetDoc:i,path:se.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y1(e){const t=e._freezeSettings(),n=wc(e._databaseId);return new eD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nD(e,t,n,i,s,r={}){const a=e.createContext(r.merge||r.mergeFields?2:0,t,n,s);Wm("Data must be an object, but it was:",a,i);const o=X1(i,a);let u,h;if(r.merge)u=new Me(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const g of r.mergeFields){const m=Sl(t,g,n);if(!a.contains(m))throw new H(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Z1(d,m)||d.push(m)}u=new Me(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new tD(new be(o),u,h)}class Nc extends $m{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nc}}function iD(e,t,n,i){const s=e.createContext(1,t,n);Wm("Data must be an object, but it was:",s,i);const r=[],a=be.empty();Xi(i,(u,h)=>{const d=$1(t,u,n);h=Ie(h);const g=s.childContextForFieldPath(d);if(h instanceof Nc)r.push(d);else{const m=Dc(h,g);m!=null&&(r.push(d),a.set(d,m))}});const o=new Me(r);return new Q1(a,o,s.fieldTransforms)}function sD(e,t,n,i,s,r){const a=e.createContext(1,t,n),o=[Sl(t,i,n)],u=[s];if(r.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)o.push(Sl(t,r[m])),u.push(r[m+1]);const h=[],d=be.empty();for(let m=o.length-1;m>=0;--m)if(!Z1(h,o[m])){const _=o[m];let N=u[m];N=Ie(N);const M=a.childContextForFieldPath(_);if(N instanceof Nc)h.push(_);else{const V=Dc(N,M);V!=null&&(h.push(_),d.set(_,V))}}const g=new Me(h);return new Q1(d,g,a.fieldTransforms)}function Dc(e,t){if(J1(e=Ie(e)))return Wm("Unsupported field value:",t,e),X1(e,t);if(e instanceof $m)return function(i,s){if(!K1(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let u=Dc(o,s.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Ie(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return BI(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=At.fromDate(i);return{timestampValue:Pu(s.serializer,r)}}if(i instanceof At){const r=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pu(s.serializer,r)}}if(i instanceof _n)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xe)return{bytesValue:h1(s.serializer,i._byteString)};if(i instanceof qt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Mm(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof sn)return function(a,o){const u=a instanceof sn?a.toArray():a;return{mapValue:{fields:{[jT]:{stringValue:BT},[Vu]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return xm(o.serializer,d)})}}}}}}(i,s);if(_1(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${wm(i)}`)}(e,t)}function X1(e,t){const n={};return MT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xi(e,(i,s)=>{const r=Dc(s,t.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function J1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof At||e instanceof _n||e instanceof Xe||e instanceof qt||e instanceof $m||e instanceof sn||_1(e))}function Wm(e,t,n){if(!J1(n)||!OT(n)){const i=wm(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Sl(e,t,n){if((t=Ie(t))instanceof Jm)return t._internalPath;if(typeof t=="string")return $1(e,t);throw qu("Field path arguments must be of type string or ",e,!1,void 0,n)}const rD=new RegExp("[~\\*/\\[\\]]");function $1(e,t,n){if(t.search(rD)>=0)throw qu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jm(...t.split("."))._internalPath}catch{throw qu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function qu(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new H(k.INVALID_ARGUMENT,o+e+u)}function Z1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{convertValue(t,n="none"){switch(Gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ot(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw F(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Xi(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[Vu].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>Ot(a.doubleValue));return new sn(n)}convertGeoPoint(t){return new _n(Ot(t.latitude),Ot(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=yc(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(pl(t));default:return null}}convertTimestamp(t){const n=qi(t);return new At(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=It.fromString(t);ht(y1(i),9688,{name:t});const s=new yl(i.get(1),i.get(3)),r=new G(i.popFirst(5));return s.isEqual(n)||Kn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends aD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qt(this.firestore,null,n)}}const z_="@firebase/firestore",j_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Sl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends tS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uD(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Va{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ps extends tS{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Sl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",ps._jsonSchema={type:Bt("string",ps._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Xo extends ps{data(t={}){return super.data(t)}}class pr{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Va(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Xo(this._firestore,this._userDataWriter,i.key,i,new Va(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new Xo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Va(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Xo(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Va(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return o.type!==0&&(h=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:cD(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr._jsonSchemaVersion="firestore/querySnapshot/1.0",pr._jsonSchema={type:Bt("string",pr._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(e){e=mn(e,qt);const t=mn(e.firestore,Pr),n=Xm(t);return QN(n,e._key).then(i=>nS(t,e,i))}function fD(e,t,n){e=mn(e,qt);const i=mn(e.firestore,Pr),s=uD(e.converter,t),r=Y1(i);return eS(i,[nD(r,"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,pn.none())])}function q_(e,t,n,...i){e=mn(e,qt);const s=mn(e.firestore,Pr),r=Y1(s);let a;return a=typeof(t=Ie(t))=="string"||t instanceof Jm?sD(r,"updateDoc",e._key,t,n,i):iD(r,"updateDoc",e._key,t),eS(s,[a.toMutation(e._key,pn.exists(!0))])}function dD(e,...t){var h,d,g;e=Ie(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||B_(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B_(t[i])){const m=t[i];t[i]=(h=m.next)==null?void 0:h.bind(m),t[i+1]=(d=m.error)==null?void 0:d.bind(m),t[i+2]=(g=m.complete)==null?void 0:g.bind(m)}let r,a,o;if(e instanceof qt)a=mn(e.firestore,Pr),o=vc(e._key.path),r={next:m=>{t[i]&&t[i](nS(a,e,m))},error:t[i+1],complete:t[i+2]};else{const m=mn(e,Cc);a=mn(m.firestore,Pr),o=m._query;const _=new W1(a);r={next:N=>{t[i]&&t[i](new pr(a,_,m,N))},error:t[i+1],complete:t[i+2]},oD(e._query)}const u=Xm(a);return FN(u,o,s,r)}function eS(e,t){const n=Xm(e);return KN(n,t)}function nS(e,t,n){const i=n.docs.get(t._key),s=new W1(e);return new ps(e,s,t._key,i,new Va(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Q2(Xr),xr(new bs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Pr(new X2(i.getProvider("auth-internal")),new Z2(a,i.getProvider("app-check-internal")),pI(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Mi(z_,j_,t),Mi(z_,j_,"esm2020")})();function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mD=iS,sS=new Ll("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Em("@firebase/auth");function gD(e,...t){Hu.logLevel<=it.WARN&&Hu.warn(`Auth (${Xr}): ${e}`,...t)}function Jo(e,...t){Hu.logLevel<=it.ERROR&&Hu.error(`Auth (${Xr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e,...t){throw tg(e,...t)}function vn(e,...t){return tg(e,...t)}function rS(e,t,n){const i={...mD(),[t]:n};return new Ll("auth","Firebase",i).create(t,{appName:e.name})}function ys(e){return rS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return sS.create(e,...t)}function K(e,t,...n){if(!e)throw tg(t,...n)}function Ln(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jo(t),new Error(t)}function Jn(e,t){e||Ln(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function pD(){return H_()==="http:"||H_()==="https:"}function H_(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pD()||AR()||"connection"in navigator)?navigator.onLine:!0}function _D(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Jn(n>t,"Short delay should be less than long delay!"),this.isMobile=ER()||bR()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(e,t){Jn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TD=new Hl(3e4,6e4);function ng(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ta(e,t,n,i,s={}){return lS(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=kl({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...r};return SR()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Yr(e.emulatorConfig.host)&&(h.credentials="include"),aS.fetch()(await oS(e,e.config.apiHost,n,o),h)})}async function lS(e,t,n){e._canInitEmulator=!1;const i={...vD,...t};try{const s=new AD(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Io(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,h]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Io(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Io(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Io(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw rS(e,d,h);Xn(e,d)}}catch(s){if(s instanceof Zn)throw s;Xn(e,"network-request-failed",{message:String(s)})}}async function SD(e,t,n,i,s={}){const r=await ta(e,t,n,i,s);return"mfaPendingCredential"in r&&Xn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function oS(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?eg(e.config,s):`${e.config.apiScheme}://${s}`;return ED.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class AD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vn(this.auth,"network-request-failed")),TD.get())})}}function Io(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=vn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(e,t){return ta(e,"POST","/v1/accounts:delete",t)}async function Gu(e,t){return ta(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wD(e,t=!1){const n=Ie(e),i=await n.getIdToken(t),s=ig(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Wa(Xh(s.auth_time)),issuedAtTime:Wa(Xh(s.iat)),expirationTime:Wa(Xh(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Xh(e){return Number(e)*1e3}function ig(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Jo("JWT malformed, contained fewer than 3 sections"),null;try{const s=fT(n);return s?JSON.parse(s):(Jo("Failed to decode base64 JWT payload"),null)}catch(s){return Jo("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G_(e){const t=ig(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Zn&&RD(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function RD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e){var g;const t=e.auth,n=await e.getIdToken(),i=await Al(e,Gu(t,{idToken:n}));K(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(g=s.providerUserInfo)!=null&&g.length?uS(s.providerUserInfo):[],a=ND(e.providerData,r),o=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=o?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function CD(e){const t=Ie(e);await Fu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ND(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function uS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(e,t){const n=await lS(e,{},async()=>{const i=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await oS(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&Yr(e.emulatorConfig.host)&&(u.credentials="include"),aS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xD(e,t){return ta(e,"POST","/v2/accounts:revokeToken",ng(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=G_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await DD(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new yr;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(K(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new ID(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yd(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Al(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wD(this,t)}reload(){return CD(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new nn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Fu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(ys(this.auth));const t=await this.getIdToken();return await Al(this,bD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:_,providerData:N,stsTokenManager:M}=n;K(g&&M,t,"internal-error");const V=yr.fromJSON(this.name,M);K(typeof g=="string",t,"internal-error"),li(i,t.name),li(s,t.name),K(typeof m=="boolean",t,"internal-error"),K(typeof _=="boolean",t,"internal-error"),li(r,t.name),li(a,t.name),li(o,t.name),li(u,t.name),li(h,t.name),li(d,t.name);const S=new nn({uid:g,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:_,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:V,createdAt:h,lastLoginAt:d});return N&&Array.isArray(N)&&(S.providerData=N.map(v=>({...v}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(t,n,i=!1){const s=new yr;s.updateFromServerResponse(n);const r=new nn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Fu(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?uS(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new yr;o.updateFromIdToken(i);const u=new nn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new yd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function kn(e){Jn(e instanceof Function,"Expected a class definition");let t=F_.get(e);return t?(Jn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,F_.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}cS.type="NONE";const Q_=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e,t,n){return`firebase:${e}:${t}:${n}`}class _r{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=$o(this.userKey,s.apiKey,r),this.fullPersistenceKey=$o("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Gu(this.auth,{idToken:t}).catch(()=>{});return n?nn._fromGetAccountInfoResponse(this.auth,n,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new _r(kn(Q_),t,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||kn(Q_);const a=$o(i,t.config.apiKey,t.name);let o=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await Gu(t,{idToken:d}).catch(()=>{});if(!m)break;g=await nn._fromGetAccountInfoResponse(t,m,d)}else g=nn._fromJSON(t,d);h!==r&&(o=g),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new _r(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new _r(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pS(t))return"Blackberry";if(yS(t))return"Webos";if(fS(t))return"Safari";if((t.includes("chrome/")||dS(t))&&!t.includes("edge/"))return"Chrome";if(gS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hS(e=de()){return/firefox\//i.test(e)}function fS(e=de()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dS(e=de()){return/crios\//i.test(e)}function mS(e=de()){return/iemobile/i.test(e)}function gS(e=de()){return/android/i.test(e)}function pS(e=de()){return/blackberry/i.test(e)}function yS(e=de()){return/webos/i.test(e)}function sg(e=de()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function OD(e=de()){var t;return sg(e)&&!!((t=window.navigator)!=null&&t.standalone)}function VD(){return wR()&&document.documentMode===10}function _S(e=de()){return sg(e)||gS(e)||yS(e)||pS(e)||/windows phone/i.test(e)||mS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e,t=[]){let n;switch(e){case"Browser":n=K_(de());break;case"Worker":n=`${K_(de())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(e,t={}){return ta(e,"GET","/v2/passwordPolicy",ng(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class kD{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new MD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=kn(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await _r.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Gu(this,{idToken:t}),i=await nn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_D()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(un(this.app))return Promise.reject(ys(this));const n=t?Ie(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return un(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UD(this),n=new kD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ll("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await xD(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&kn(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await _r.create(this,[kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&gD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function rg(e){return Ie(e)}class Y_{constructor(t){this.auth=t,this.observer=null,this.addObserver=VR(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zD(e){ag=e}function jD(e){return ag.loadJS(e)}function BD(){return ag.gapiScript}function qD(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e,t){const n=Sm(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(As(r,t??{}))return s;Xn(s,"already-initialized")}return n.initialize({options:t})}function GD(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(kn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function FD(e,t,n){const i=rg(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=ES(t),{host:a,port:o}=QD(t),u=o===null?"":`:${o}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(As(h,i.config.emulator)&&As(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Yr(a)?(pT(`${r}//${a}${u}`),yT("Auth",!0)):KD()}function ES(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QD(e){const t=ES(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:X_(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:X_(a)}}}function X_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function KD(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(t){return Ln("not implemented")}_linkToIdToken(t,n){return Ln("not implemented")}_getReauthenticationResolver(t){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vr(e,t){return SD(e,"POST","/v1/accounts:signInWithIdp",ng(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="http://localhost";class Is extends TS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Is(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new Is(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return vr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,vr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,vr(t,n)}buildRequest(){const t={requestUri:YD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Gl{constructor(){super("facebook.com")}static credential(t){return Is._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Is._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return On.credentialFromTaggedObject(t)}static credentialFromError(t){return On.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return On.credential(n,i)}catch{return null}}}On.GOOGLE_SIGN_IN_METHOD="google.com";On.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Gl{constructor(){super("github.com")}static credential(t){return Is._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Gl{constructor(){super("twitter.com")}static credential(t,n){return Is._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return pi.credential(n,i)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await nn._fromIdTokenResponse(t,i,s),a=J_(i);return new zr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=J_(i);return new zr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function J_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Zn{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Qu(t,n,i,s)}}function AS(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(e,r,t,i):r})}async function XD(e,t,n=!1){const i=await Al(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(e,t,n=!1){const{auth:i}=e;if(un(i.app))return Promise.reject(ys(i));const s="reauthenticate";try{const r=await Al(e,AS(i,s,t,e),n);K(r.idToken,i,"internal-error");const a=ig(r.idToken);K(a,i,"internal-error");const{sub:o}=a;return K(e.uid===o,i,"user-mismatch"),zr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Xn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(e,t,n=!1){if(un(e.app))return Promise.reject(ys(e));const i="signIn",s=await AS(e,i,t),r=await zr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}function ZD(e,t,n,i){return Ie(e).onIdTokenChanged(t,n,i)}function WD(e,t,n){return Ie(e).beforeAuthStateChanged(t,n)}const Ku="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ku,"1"),this.storage.removeItem(Ku),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=1e3,ex=10;class wS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);VD()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,ex):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}wS.type="LOCAL";const nx=wS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}RS.type="SESSION";const IS=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new xc(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async h=>h(n.origin,r)),u=await ix(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const h=lg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function rx(e){En().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function ax(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function ox(){return CS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",ux=1,Yu="firebaseLocalStorage",DS="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oc(e,t){return e.transaction([Yu],t?"readwrite":"readonly").objectStore(Yu)}function cx(){const e=indexedDB.deleteDatabase(NS);return new Fl(e).toPromise()}function _d(){const e=indexedDB.open(NS,ux);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Yu,{keyPath:DS})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Yu)?t(i):(i.close(),await cx(),t(await _d()))})})}async function $_(e,t,n){const i=Oc(e,!0).put({[DS]:t,value:n});return new Fl(i).toPromise()}async function hx(e,t){const n=Oc(e,!1).get(t),i=await new Fl(n).toPromise();return i===void 0?null:i.value}function Z_(e,t){const n=Oc(e,!0).delete(t);return new Fl(n).toPromise()}const fx=800,dx=3;class xS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>dx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xc._getInstance(ox()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await ax(),!this.activeServiceWorker)return;this.sender=new sx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await $_(t,Ku,"1"),await Z_(t,Ku),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$_(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>hx(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Oc(s,!1).getAll();return new Fl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xS.type="LOCAL";const mx=xS;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(e,t){return t?kn(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends TS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return vr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return vr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function px(e){return $D(e.auth,new og(e),e.bypassAuthState)}function yx(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),JD(n,new og(e),e.bypassAuthState)}async function _x(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),XD(n,new og(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return px;case"linkViaPopup":case"linkViaRedirect":return _x;case"reauthViaPopup":case"reauthViaRedirect":return yx;default:Xn(this.auth,"internal-error")}}resolve(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Hl(2e3,1e4);class ar extends OS{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,ar.currentPopupAction&&ar.currentPopupAction.cancel(),ar.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const t=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ar.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vx.get())};t()}}ar.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="pendingRedirect",Zo=new Map;class Tx extends OS{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Zo.get(this.auth._key());if(!t){try{const i=await Sx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Zo.set(this.auth._key(),t)}return this.bypassAuthState||Zo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sx(e,t){const n=wx(t),i=bx(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Ax(e,t){Zo.set(e._key(),t)}function bx(e){return kn(e._redirectPersistence)}function wx(e){return $o(Ex,e.config.apiKey,e.name)}async function Rx(e,t,n=!1){if(un(e.app))return Promise.reject(ys(e));const i=rg(e),s=gx(i,t),a=await new Tx(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=10*60*1e3;class Cx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!VS(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ix&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(t))}saveEventToCache(t){this.cachedEventUids.add(W_(t)),this.lastProcessedEventTime=Date.now()}}function W_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function VS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Nx(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(e,t={}){return ta(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ox=/^https?/;async function Vx(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Dx(e);for(const n of t)try{if(Mx(n))return}catch{}Xn(e,"unauthorized-domain")}function Mx(e){const t=pd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Ox.test(n))return!1;if(xx.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Hl(3e4,6e4);function tv(){const e=En().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Lx(e){return new Promise((t,n)=>{var s,r,a;function i(){tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tv(),n(vn(e,"network-request-failed"))},timeout:Ux.get()})}if((r=(s=En().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=En().gapi)!=null&&a.load)i();else{const o=qD("iframefcb");return En()[o]=()=>{gapi.load?i():n(vn(e,"network-request-failed"))},jD(`${BD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Wo=null,t})}let Wo=null;function kx(e){return Wo=Wo||Lx(e),Wo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Hl(5e3,15e3),zx="__/auth/iframe",jx="emulator/auth/iframe",Bx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hx(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?eg(t,jx):`https://${e.config.authDomain}/${zx}`,i={apiKey:t.apiKey,appName:e.name,v:Xr},s=qx.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${kl(i).slice(1)}`}async function Gx(e){const t=await kx(e),n=En().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:Hx(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bx,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=vn(e,"network-request-failed"),o=En().setTimeout(()=>{r(a)},Px.get());function u(){En().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qx=500,Kx=600,Yx="_blank",Xx="http://localhost";class ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jx(e,t,n,i=Qx,s=Kx){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u={...Fx,width:i.toString(),height:s.toString(),top:r,left:a},h=de().toLowerCase();n&&(o=dS(h)?Yx:n),hS(h)&&(t=t||Xx,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,N])=>`${m}${_}=${N},`,"");if(OD(h)&&o!=="_self")return $x(t||"",o),new ev(null);const g=window.open(t||"",o,d);K(g,e,"popup-blocked");try{g.focus()}catch{}return new ev(g)}function $x(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__/auth/handler",Wx="emulator/auth/handler",tO=encodeURIComponent("fac");async function nv(e,t,n,i,s,r){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Xr,eventId:s};if(t instanceof SS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",OR(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(t instanceof Gl){const d=t.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await e._getAppCheckToken(),h=u?`#${tO}=${encodeURIComponent(u)}`:"";return`${eO(e)}?${kl(o).slice(1)}${h}`}function eO({config:e}){return e.emulator?eg(e,Wx):`https://${e.authDomain}/${Zx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class nO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IS,this._completeRedirectFn=Rx,this._overrideRedirectResult=Ax}async _openPopup(t,n,i,s){var a;Jn((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await nv(t,n,i,pd(),s);return Jx(t,r,lg())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await nv(t,n,i,pd(),s);return rx(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Jn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Gx(t),i=new Cx(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jh,{type:Jh},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[Jh];r!==void 0&&n(!!r),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _S()||fS()||sg()}}const iO=nO;var iv="@firebase/auth",sv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aO(e){xr(new bs("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vS(e)},h=new PD(i,s,r,u);return GD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),xr(new bs("auth-internal",t=>{const n=rg(t.getProvider("auth").getImmediate());return(i=>new sO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi(iv,sv,rO(e)),Mi(iv,sv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=5*60,oO=gT("authIdTokenMaxAge")||lO;let rv=null;const uO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oO)return;const s=n==null?void 0:n.token;rv!==s&&(rv=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cO(e=TT()){const t=Sm(e,"auth");if(t.isInitialized())return t.getImmediate();const n=HD(e,{popupRedirectResolver:iO,persistence:[mx,nx,IS]}),i=gT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=uO(r.toString());WD(n,a,()=>a(n.currentUser)),ZD(n,o=>a(o))}}const s=dT("auth");return s&&FD(n,`http://${s}`),n}function hO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}zD({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=vn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",hO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aO("Browser");const fO={apiKey:"AIzaSyB1Ry2KzqPfN4M80Gu_iatdCiklRCJI3LQ",authDomain:"quize-ee617.firebaseapp.com",projectId:"quize-ee617",storageBucket:"quize-ee617.appspot.com",messagingSenderId:"448358194670",appId:"1:448358194670:web:a89c3a3c85a2faeaedc2ff"},MS=ET(fO),Co=$N(MS),av=cO(MS);new On;const dO=async()=>{try{return(await(await fetch("https://opentdb.com/api.php?amount=10&category=9&type=multiple")).json()).results.map(n=>({question:n.question,options:[...n.incorrect_answers,n.correct_answer].sort(()=>Math.random()-.5),correctAnswer:n.correct_answer}))}catch{return[{question:"2 + 2?",options:["3","4","5","6"],correctAnswer:"4"}]}},mO=()=>{var M;const[e,t]=ee.useState(""),[n,i]=ee.useState(""),[s,r]=ee.useState(null),[a,o]=ee.useState(null),[u,h]=ee.useState(!1),d=async()=>{var D;h(!0);const V=Math.random().toString(36).substring(2,7).toUpperCase(),S=await dO(),v=Ro(Co,"rooms",V),R={questions:S,player1:{id:((D=av.currentUser)==null?void 0:D.uid)||"anon1",score:0},player2:null,status:"waiting",currentQuestionIndex:0,turn:"player1"};await fD(v,R),t(V),o(1),h(!1)},g=async()=>{var v;if(!n)return alert("Enter Room ID");h(!0);const V=Ro(Co,"rooms",n);(await hD(V)).exists()?(await q_(V,{player2:{id:((v=av.currentUser)==null?void 0:v.uid)||"anon2",score:0},status:"playing"}),t(n),o(2)):alert("Room not found!"),h(!1)};ee.useEffect(()=>{if(!e)return;const V=dD(Ro(Co,"rooms",e),S=>{r(S.data())});return()=>V()},[e]);const m=async V=>{const S=a===1?"player1":"player2";if(s.turn!==S)return;const v=s.currentQuestionIndex,R=s.questions[v],D=V===R.correctAnswer,z=Ro(Co,"rooms",e),q=a===1?s.player1:s.player2,E=a===1?"player2":"player1";await q_(z,{[`${S}.score`]:D?q.score+10:q.score,currentQuestionIndex:v+1,turn:E})};if((s==null?void 0:s.currentQuestionIndex)>=10){const V=s.player1,S=s.player2,v=V.score>S.score?"PLAYER 1 DOMINATED!":S.score>V.score?"PLAYER 2 DOMINATED!":"IT'S A TIE!";return O.jsx("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-6 text-center font-sans",children:O.jsxs("div",{className:"relative group p-1",children:[O.jsx("div",{className:"absolute -inset-1 bg-yellow-500 rounded-3xl blur opacity-25"}),O.jsxs("div",{className:"relative bg-[#16181a] border border-gray-800 p-10 rounded-3xl shadow-2xl",children:[O.jsx("h1",{className:"text-5xl font-black text-yellow-500 mb-2 italic tracking-tighter",children:"FINISH LINE"}),O.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-8 uppercase tracking-widest",children:v}),O.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-10",children:[O.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-cyan-500 shadow-lg shadow-cyan-500/10",children:[O.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase mb-2",children:"P1 Score"}),O.jsx("p",{className:"text-5xl font-black text-white",children:V.score})]}),O.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-pink-500 shadow-lg shadow-pink-500/10",children:[O.jsx("p",{className:"text-gray-500 text-[10px] font-bold uppercase mb-2",children:"P2 Score"}),O.jsx("p",{className:"text-5xl font-black text-white",children:S.score})]})]}),O.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white text-black py-4 rounded-xl font-black hover:bg-gray-200 transition-all active:scale-95 uppercase tracking-widest",children:"Play Again"})]})]})})}if(!e)return O.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-6 font-sans",children:[O.jsxs("div",{className:"text-center mb-12",children:[O.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter text-gray-200 uppercase",children:["Battle",O.jsx("span",{className:"text-gray-500",children:"Zone"})]}),O.jsx("p",{className:"text-sm tracking-[0.5em] text-cyan-400 mt-2 uppercase font-bold",children:"Online Multiplayer"})]}),O.jsxs("div",{className:"w-full max-w-md space-y-6",children:[O.jsxs("button",{onClick:d,className:"w-full relative group h-[120px] transition-all duration-300 active:scale-95",children:[O.jsx("div",{className:"absolute -inset-1 bg-cyan-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition duration-500"}),O.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-cyan-500/50 rounded-2xl flex flex-col items-center justify-center transition-all",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] bg-cyan-400 rounded-t-2xl shadow-[0_0_15px_cyan]"}),O.jsx("span",{className:"text-2xl font-black uppercase tracking-widest",children:u?"Generating...":"Create Room"}),O.jsx("p",{className:"text-[10px] text-gray-500 mt-1 uppercase",children:"Start a new battle and share code"})]})]}),O.jsx("div",{className:"relative",children:O.jsx("input",{placeholder:"ENTER ROOM ID",value:n,onChange:V=>i(V.target.value.toUpperCase()),className:"w-full bg-black border-2 border-gray-800 p-5 rounded-2xl text-center font-black text-xl text-white focus:border-emerald-500 outline-none transition-all placeholder:text-gray-700"})}),O.jsx("button",{onClick:g,className:"w-full h-[80px] bg-emerald-600 rounded-2xl font-black text-xl hover:bg-emerald-500 shadow-lg shadow-emerald-900/20 active:scale-95 transition-all uppercase",children:"Join Arena"})]})]});if((s==null?void 0:s.status)==="waiting")return O.jsx("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center font-sans",children:O.jsxs("div",{className:"bg-[#111] border border-gray-800 p-12 rounded-[40px] text-center shadow-2xl",children:[O.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-[0.3em] mb-4",children:"Room Code"}),O.jsx("h1",{className:"text-7xl font-black text-cyan-400 tracking-[0.2em] animate-pulse",children:e}),O.jsxs("div",{className:"mt-12 space-y-4",children:[O.jsx("div",{className:"w-12 h-12 border-4 border-gray-800 border-t-emerald-500 rounded-full animate-spin mx-auto"}),O.jsx("p",{className:"text-gray-400 font-bold uppercase text-[10px] tracking-widest",children:"Waiting for opponent to join..."})]})]})});const _=a===1&&(s==null?void 0:s.turn)==="player1"||a===2&&(s==null?void 0:s.turn)==="player2",N=s==null?void 0:s.questions[s.currentQuestionIndex];return O.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white p-4 flex flex-col font-sans overflow-hidden",children:[O.jsxs("div",{className:"flex-none flex justify-between items-center bg-[#111] border border-gray-800 p-4 rounded-2xl mb-4 shadow-xl",children:[O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:"text-[10px] text-cyan-400 font-black uppercase",children:"P1 Score"}),O.jsx("p",{className:"text-2xl font-black",children:s==null?void 0:s.player1.score})]}),O.jsx("div",{className:"text-center",children:O.jsxs("span",{className:"bg-gray-800 px-3 py-1 rounded-full text-xs font-bold",children:[((s==null?void 0:s.currentQuestionIndex)||0)+1,"/10"]})}),O.jsxs("div",{className:"text-right",children:[O.jsx("p",{className:"text-[10px] text-pink-400 font-black uppercase",children:"P2 Score"}),O.jsx("p",{className:"text-2xl font-black",children:((M=s==null?void 0:s.player2)==null?void 0:M.score)||0})]})]}),O.jsx("div",{className:`flex-none text-center py-2 rounded-xl font-black mb-4 border-b-2 transition-all ${_?"bg-emerald-900/20 border-emerald-500 text-emerald-400":"bg-gray-900/50 border-gray-800 text-gray-600"}`,children:_?" YOUR TURN":" OPPONENT'S TURN"}),N&&O.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pb-6",children:O.jsx("div",{className:"max-w-2xl mx-auto w-full",children:O.jsxs("div",{className:"relative bg-[#16181a] border border-gray-800 p-6 md:p-10 rounded-3xl shadow-2xl",children:[O.jsx("h3",{className:"text-xl md:text-3xl font-bold text-center mb-8 leading-tight text-gray-100",dangerouslySetInnerHTML:{__html:N.question}}),O.jsx("div",{className:"grid grid-cols-1 gap-3",children:N.options.map((V,S)=>O.jsxs("button",{disabled:!_,onClick:()=>m(V),className:`w-full p-4 rounded-2xl text-left border-2 transition-all flex items-center ${_?"bg-black/40 border-gray-800 hover:border-cyan-500 active:scale-[0.98]":"bg-gray-900/20 border-transparent text-gray-700 cursor-not-allowed"}`,children:[O.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center mr-4 text-xs font-bold ${_?"bg-gray-800 text-cyan-400":"bg-gray-900"}`,children:String.fromCharCode(65+S)}),O.jsx("span",{className:"flex-1",dangerouslySetInnerHTML:{__html:V}})]},S))})]})})})]})},lv=[{question:"Which planet is known as the Red Planet?",correct_answer:"Mars",incorrect_answers:["Venus","Jupiter","Saturn"]},{question:"What is the capital of France?",correct_answer:"Paris",incorrect_answers:["London","Berlin","Madrid"]},{question:"Which language is used for web development?",correct_answer:"JavaScript",incorrect_answers:["C++","Python","Java"]}],gO=({onBack:e})=>{const[t,n]=ee.useState([]),[i,s]=ee.useState(!0),[r,a]=ee.useState(0),[o,u]=ee.useState({p1:0,p2:0}),[h,d]=ee.useState(1),[g,m]=ee.useState(!1);ee.useEffect(()=>{(async()=>{try{const S=await fetch("https://opentdb.com/api.php?amount=10&type=multiple");if(S.status===429)throw new Error("Rate Limit");const v=await S.json();v.results&&v.results.length>0?n(v.results):n(lv)}catch{console.warn("API Error: Using Fallback Questions"),n(lv)}finally{s(!1)}})()},[]);const _=V=>{const S=t[r];V===S.correct_answer&&u(v=>({...v,[h===1?"p1":"p2"]:v[h===1?"p1":"p2"]+10})),r<t.length-1?(a(v=>v+1),d(h===1?2:1)):m(!0)};if(i)return O.jsx("div",{className:"h-screen bg-black flex items-center justify-center text-cyan-400 font-black animate-pulse",children:"INITIALIZING BATTLE..."});if(g){const V=o.p1>o.p2?"PLAYER 1":o.p2>o.p1?"PLAYER 2":"TIE";return O.jsx("div",{className:"h-screen bg-[#0a0a0a] flex items-center justify-center p-6 text-white",children:O.jsxs("div",{className:"w-full max-w-md bg-[#111] border border-gray-800 p-10 rounded-[2.5rem] text-center shadow-2xl relative",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-cyan-500 to-purple-500"}),O.jsx("h1",{className:"text-5xl font-black italic mb-2 text-yellow-500 tracking-tighter",children:"FINISH LINE"}),O.jsxs("p",{className:"text-cyan-400 font-bold tracking-widest mb-10 uppercase",children:[V," DOMINATED"]}),O.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[O.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-cyan-500",children:[O.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:"P1 Score"}),O.jsx("p",{className:"text-5xl font-black",children:o.p1})]}),O.jsxs("div",{className:"bg-black/40 p-6 rounded-2xl border-t-2 border-purple-500",children:[O.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:"P2 Score"}),O.jsx("p",{className:"text-5xl font-black",children:o.p2})]})]}),O.jsx("button",{onClick:e,className:"w-full py-4 bg-white text-black font-black rounded-xl hover:scale-105 transition uppercase tracking-widest",children:"Return to Menu"})]})})}const N=t[r],M=[...N.incorrect_answers,N.correct_answer].sort();return O.jsxs("div",{className:"h-screen bg-[#0a0a0a] text-white flex flex-col font-sans overflow-hidden",children:[O.jsxs("div",{className:"flex-none flex justify-between items-center bg-[#111] p-6 border-b border-gray-900 shadow-xl",children:[O.jsxs("div",{className:"text-left",children:[O.jsx("p",{className:`text-[10px] font-black uppercase ${h===1?"text-cyan-400":"text-gray-700"}`,children:"P1 Score"}),O.jsx("p",{className:"text-2xl font-black",children:o.p1})]}),O.jsxs("div",{className:"bg-gray-900 px-4 py-1 rounded-full text-xs font-bold text-gray-400 uppercase tracking-widest",children:["Q ",r+1,"/10"]}),O.jsxs("div",{className:"text-right",children:[O.jsx("p",{className:`text-[10px] font-black uppercase ${h===2?"text-purple-400":"text-gray-700"}`,children:"P2 Score"}),O.jsx("p",{className:"text-2xl font-black",children:o.p2})]})]}),O.jsx("div",{className:`flex-none text-center py-2 font-black text-[10px] tracking-[0.5em] ${h===1?"bg-cyan-500/10 text-cyan-400 border-b border-cyan-500/20":"bg-purple-500/10 text-purple-400 border-b border-purple-500/20"}`,children:h===1?"PLAYER 1'S TURN":"PLAYER 2'S TURN"}),O.jsx("div",{className:"flex-grow overflow-y-auto p-4 pt-10 pb-10",children:O.jsx("div",{className:"max-w-2xl mx-auto w-full",children:O.jsxs("div",{className:"bg-[#16181a] border border-gray-800 rounded-[2.5rem] p-8 md:p-12 relative shadow-2xl",children:[O.jsx("div",{className:`absolute top-0 left-10 right-10 h-1 rounded-full ${h===1?"bg-cyan-500 shadow-[0_0_10px_cyan]":"bg-purple-500 shadow-[0_0_10px_purple]"}`}),O.jsx("h2",{className:"text-xl md:text-3xl font-bold mb-12 leading-snug text-center",dangerouslySetInnerHTML:{__html:N.question}}),O.jsx("div",{className:"grid grid-cols-1 gap-4",children:M.map((V,S)=>O.jsxs("button",{onClick:()=>_(V),className:"group flex items-center p-5 text-left bg-black/40 border border-gray-800 rounded-2xl hover:border-cyan-500 hover:shadow-[0_0_15px_rgba(6,182,212,0.1)] transition-all active:scale-95",children:[O.jsx("span",{className:`w-10 h-10 flex-none flex items-center justify-center rounded-lg mr-4 font-black text-xs ${h===1?"bg-cyan-900/30 text-cyan-400":"bg-purple-900/30 text-purple-400"}`,children:String.fromCharCode(65+S)}),O.jsx("span",{className:"flex-1 font-bold text-gray-300 group-hover:text-white",dangerouslySetInnerHTML:{__html:V}})]},S))})]})})})]})},pO=({onStartPvP:e,onStartSolo:t})=>O.jsxs("div",{className:"min-h-screen w-full bg-[#0a0a0a] text-white font-sans flex flex-col items-center py-10 px-4 overflow-y-auto custom-scrollbar",children:[O.jsxs("div",{className:"text-center mb-12 flex-none",children:[O.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tighter text-gray-200",children:["Imagin",O.jsx("span",{className:"text-gray-500",children:"XP"})]}),O.jsx("p",{className:"text-lg tracking-[0.5em] text-gray-400 mt-2 uppercase font-light",children:"Quiz Battle"}),O.jsxs("div",{className:"flex items-center justify-center mt-6 gap-4",children:[O.jsx("div",{className:"h-[1px] w-16 bg-gray-800"}),O.jsx("span",{className:"text-xs font-bold tracking-widest text-gray-500 uppercase",children:"Competitive Gaming"}),O.jsx("div",{className:"h-[1px] w-16 bg-gray-800"})]})]}),O.jsxs("div",{className:"w-full max-w-3xl flex flex-col gap-8 mb-16",children:[O.jsxs("button",{onClick:e,className:"relative group w-full h-[280px] transition-all duration-300 active:scale-95 cursor-pointer",children:[O.jsx("div",{className:"absolute -inset-1 bg-cyan-500/20 rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition duration-500"}),O.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-cyan-500/50 rounded-2xl flex flex-col items-center justify-center p-10 transition-all duration-300",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-[3px] bg-cyan-400 shadow-[0_0_25px_rgba(34,211,238,1)] rounded-t-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),O.jsx("div",{className:"text-6xl mb-4 group-hover:animate-pulse",children:""}),O.jsx("h2",{className:"text-4xl font-black tracking-widest uppercase mb-2",children:"PvP Mode"}),O.jsx("p",{className:"text-gray-400 text-xl mb-6",children:"Battle 1v1 against another player"}),O.jsx("div",{className:"h-[1px] w-full bg-gray-800/50 mb-6"}),O.jsx("p",{className:"text-sm text-gray-500 tracking-[0.3em] uppercase font-bold",children:"Chalenge your Knowledge"})]})]}),O.jsxs("button",{onClick:t,className:"relative group w-full h-[280px] transition-all duration-300 active:scale-95 cursor-pointer",children:[O.jsx("div",{className:"absolute -inset-1 bg-emerald-500/20 rounded-3xl blur-2xl opacity-0 group-hover:opacity-100 transition duration-500"}),O.jsxs("div",{className:"h-full relative bg-[#16181a] border border-gray-800 group-hover:border-emerald-500/50 rounded-2xl flex flex-col items-center justify-center p-10 transition-all duration-300",children:[O.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-emerald-400 shadow-[0_0_20px_rgba(52,211,153,1)] rounded-t-2xl opacity-0 group-hover:opacity-100 transition-opacity"}),O.jsx("div",{className:"text-6xl mb-4 group-hover:animate-bounce",children:""}),O.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-widest uppercase mb-2 text-gray-400 group-hover:text-white",children:"Offline Mode"}),O.jsx("p",{className:"text-gray-400 text-xl mb-6",children:"For two Players"}),O.jsx("div",{className:"h-[1px] w-full bg-gray-800/50 mb-6"}),O.jsx("p",{className:"text-sm text-gray-500 tracking-[0.3em] uppercase font-bold",children:"Chalenge your Knowledge"})]})]})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-3xl pb-10",children:[O.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center shadow-2xl",children:[O.jsx("span",{className:"block text-4xl font-black text-white",children:"50+"}),O.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Questions"})]}),O.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center",children:[O.jsx("span",{className:"block text-3xl font-bold text-gray-600",children:"LIVE"}),O.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Multiplayer"})]}),O.jsxs("div",{className:"bg-[#111] border border-gray-800/40 rounded-2xl py-8 text-center",children:[O.jsx("span",{className:"block text-3xl font-bold text-gray-600 italic",children:"INSTANT"}),O.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mt-2",children:"Results"})]})]})]});function yO(){const[e,t]=ee.useState("start");return O.jsxs("div",{className:"bg-black min-h-screen",children:[e==="start"&&O.jsx(pO,{onStartPvP:()=>t("online"),onStartSolo:()=>t("pvp")}),e==="online"&&O.jsx(mO,{onBack:()=>t("start")}),e==="pvp"&&O.jsx(gO,{onBack:()=>t("start")})]})}aR.createRoot(document.getElementById("root")).render(O.jsx(ee.StrictMode,{children:O.jsx(yO,{})}));
